(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chart"],{"031c":function(t,e,n){},"0373":function(t,e,n){"use strict";n("3bcb")},"0538":function(t,e,n){"use strict";var i=n("1c0b"),o=n("861d"),r=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";a[e]=Function("C,a","return new C("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=r.call(arguments,1),a=function(){var i=n.concat(r.call(arguments));return this instanceof a?s(e,i.length,i):e.apply(t,i)};return o(e.prototype)&&(a.prototype=e.prototype),a}},"09fc":function(t,e,n){},"0f49":function(t,e,n){},1204:function(t,e,n){"use strict";n.r(e);n("b680"),n("fb6a"),n("b0c0");var i=n("f2bf"),o=Object(i["bb"])("data-v-fef45b9e");Object(i["H"])("data-v-fef45b9e");var r={class:"infomation"},a={class:"right-wrap"},s={class:"container"},c={class:"productInfo"},l={class:"hd"},u={class:"hd-left"},d={class:"others"},h={class:"others-bottom"},p={class:"bd"},b={class:"item"},f={class:"priceBottom"},m={class:"item"},v={class:"priceBottom"},y=Object(i["n"])("div",{class:"placeholder"},null,-1),O={class:"tv-head"},j={class:"tabs-wrap"},_={class:"options van-hairline--surround"},g={class:"flex-right"},S={class:"custom-title"},w={ref:"mainStudyArea",class:"study-area"},k={class:"main-study"},C={class:"content"},P={class:"inner-label"},x={class:"chart-wrap"},L={ref:"mainStudyArea",class:"study-area"},I={class:"main-study"},T={class:"content"},M={class:"inner-label"},B={class:"footerBtnBox"},E={class:"trade-btn-wrap"};Object(i["F"])();var D=o((function(t,e,n,D,z,R){var A=Object(i["M"])("LayoutTop"),q=Object(i["M"])("Loading"),N=Object(i["M"])("van-tab"),J=Object(i["M"])("van-tabs"),V=Object(i["M"])("KIcon"),Q=Object(i["M"])("van-icon"),H=Object(i["M"])("van-cell"),F=Object(i["M"])("van-dropdown-item"),U=Object(i["M"])("van-dropdown-menu"),$=Object(i["M"])("van-checkbox"),K=Object(i["M"])("van-checkbox-group"),W=Object(i["M"])("tv"),Z=Object(i["M"])("StallsAndDeal"),G=Object(i["M"])("StudyList"),X=Object(i["N"])("preventReClick");return Object(i["E"])(),Object(i["j"])(i["a"],null,[Object(i["n"])("div",{class:["page-wrap",{isIframe:t.$route.query.isIframe}]},[Object(i["n"])(A,{back:!0,menu:!1},{right:o((function(){return[Object(i["n"])("div",a,[Object(i["Z"])(Object(i["n"])("button",{class:"collectIcon",onClick:e[1]||(e[1]=function(){return D.addOptional&&D.addOptional.apply(D,arguments)})},[Object(i["n"])("i",{ref:"collect",class:["icon_zixuan1",{icon_zixuan2:D.isSelfSymbol}]},null,2)],512),[[X]])])]})),default:o((function(){return[Object(i["n"])("p",null,Object(i["Q"])(D.product.symbolName),1),Object(i["n"])("p",r,Object(i["Q"])(D.product.symbolCode)+" "+Object(i["Q"])(t.$t("trade.update"))+":"+Object(i["Q"])(D.formatTime(D.product.tick_time)),1)]})),_:1}),Object(i["n"])(q,{show:t.loading},null,8,["show"]),Object(i["n"])("section",s,[Object(i["n"])("div",c,[Object(i["n"])("div",l,[Object(i["n"])("div",u,[Object(i["n"])("p",{class:["cur_price",D.product.cur_color]},Object(i["Q"])(parseFloat(D.product.cur_price).toFixed(D.product.price_digits)),3)]),Object(i["n"])("div",d,[Object(i["n"])("span",{class:D.product.cur_color},Object(i["Q"])(D.product.upDownAmount)+"("+Object(i["Q"])(D.product.upDownAmount_pip)+" "+Object(i["Q"])(t.$t("trade.dot"))+") ",3),Object(i["n"])("div",h,[Object(i["n"])("span",{class:["upDownAmount",D.product.cur_color]},Object(i["Q"])(D.product.upDownWidth),3)])])]),Object(i["n"])("div",p,[Object(i["n"])("div",b,[Object(i["n"])("p",f,[Object(i["n"])("span",null,Object(i["Q"])(t.$t("trade.todayOpen")),1),Object(i["n"])("span",null,Object(i["Q"])(D.product.open_price),1)]),Object(i["n"])("p",null,[Object(i["n"])("span",null,Object(i["Q"])(t.$t("trade.yesterdayClosed")),1),Object(i["n"])("span",null,Object(i["Q"])(D.product.yesterday_close_price),1)])]),Object(i["n"])("div",m,[Object(i["n"])("p",v,[Object(i["m"])(Object(i["Q"])(t.$t("trade.high"))+" ",1),Object(i["n"])("span",null,Object(i["Q"])(D.product.high_price),1)]),Object(i["n"])("p",null,[Object(i["m"])(Object(i["Q"])(t.$t("trade.low"))+" ",1),Object(i["n"])("span",null,Object(i["Q"])(D.product.low_price),1)])])])])]),y,Object(i["n"])("div",O,[Object(i["n"])("div",j,[Object(i["n"])(J,{active:t.activeTab,"onUpdate:active":e[2]||(e[2]=function(e){return t.activeTab=e}),"before-change":D.onBeforeChange,class:"tabs",color:t.$style.primary,"line-height":"2","line-width":"20","title-active-color":"$style.primary"},{default:o((function(){return[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(D.candleKTypeList.slice(0,6),(function(t){return Object(i["E"])(),Object(i["j"])(N,{key:t.ktype,name:t.ktype,title:t.title},null,8,["name","title"])})),128)),Object(i["n"])(N,{name:"moreKTypes"},{title:o((function(){return[Object(i["m"])(Object(i["Q"])(t.moreKType.title),1)]})),_:1})]})),_:1},8,["active","before-change","color"]),Object(i["n"])("div",{class:["more-time",{opened:t.moreTimeIsOpened}]},[Object(i["Z"])(Object(i["n"])("div",_,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(D.candleKTypeList.slice(6),(function(e,n){return Object(i["E"])(),Object(i["j"])("div",{key:n,class:["option",{active:t.moreKType.title===e.title}],onClick:function(t){return D.onClickMoreTime(e)}},Object(i["Q"])(e.title),11,["onClick"])})),128))],512),[[i["V"],t.moreTimeIsOpened]]),Object(i["Z"])(Object(i["n"])("div",{class:"mask",onClick:e[3]||(e[3]=Object(i["ab"])((function(e){return t.moreTimeIsOpened=!1}),["stop"])),onTouchmove:e[4]||(e[4]=Object(i["ab"])((function(e){return t.moreTimeIsOpened=!1}),["stop"]))},null,544),[[i["V"],t.moreTimeIsOpened]])],2),Object(i["n"])("div",g,[Object(i["n"])(U,{class:"kIcon-wrap"},{default:o((function(){return[Object(i["n"])(F,{ref:"klineTypeDropdown",modelValue:t.klineType,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.klineType=e})},{title:o((function(){return[Object(i["n"])(V,{class:"kIcon",value:D.klineTypeIndex},null,8,["value"])]})),default:o((function(){return[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(D.klineTypeList,(function(e,n){return Object(i["E"])(),Object(i["j"])(H,{key:e.name,class:{mainColor:t.klineType===e.value},"is-link":"",onClick:function(t){return D.setChartType(e)}},{title:o((function(){return[Object(i["n"])("span",S,[Object(i["n"])(V,{class:"kIcon",value:n+1},null,8,["value"]),Object(i["m"])(" "+Object(i["Q"])(e["title_zh"]),1)])]})),"right-icon":o((function(){return[t.klineType===e.value?(Object(i["E"])(),Object(i["j"])(Q,{key:0,class:"klineTypeRightIcon",name:"success"})):Object(i["k"])("",!0)]})),_:2},1032,["class","onClick"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(i["n"])("div",{class:"setting",onClick:e[10]||(e[10]=function(e){return t.settingStatus=!t.settingStatus})},[Object(i["n"])(Q,{class:"icon",name:"setting-o"}),Object(i["Z"])(Object(i["n"])("div",{class:"content van-hairline--surround",onClick:e[7]||(e[7]=Object(i["ab"])((function(){}),["stop"]))},[Object(i["n"])(K,{ref:"checkboxGroup",modelValue:t.settingList,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.settingList=e}),onChange:D.handleLineChange},{default:o((function(){return[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(t.lineList,(function(t){return Object(i["E"])(),Object(i["j"])($,{key:t.value,class:"item","icon-size":"16px",name:t.value},{default:o((function(){return[Object(i["m"])(Object(i["Q"])(t.title),1)]})),_:2},1032,["name"])})),128))]})),_:1},8,["modelValue","onChange"])],512),[[i["V"],t.settingStatus]]),Object(i["Z"])(Object(i["n"])("div",{class:"mask",onClick:e[8]||(e[8]=Object(i["ab"])((function(e){return t.settingStatus=!1}),["stop"])),onTouchmove:e[9]||(e[9]=Object(i["ab"])((function(e){return t.settingStatus=!1}),["stop"]))},null,544),[[i["V"],t.settingStatus]])])])])]),Object(i["Z"])(Object(i["n"])("div",w,[Object(i["n"])("div",k,[Object(i["n"])("div",C,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(t.mainStudyList,(function(e,n){return Object(i["E"])(),Object(i["j"])("div",{key:n,class:["item",{active:t.mainStudy===e.name}],color:t.$style.primary},[Object(i["n"])("span",{class:"inner-label",onClick:function(t){return D.onClickStudy("main",e.name)}},Object(i["Q"])(e.label),9,["onClick"])],10,["color"])})),128)),Object(i["n"])("span",{class:"item more",onClick:e[11]||(e[11]=function(e){return t.showStudyDialog=!0})},[Object(i["n"])("span",P,Object(i["Q"])(t.$t("chart.more")),1)])])])],512),[[i["V"],t.studyVis]]),Object(i["n"])("div",x,[D.initialValue?(Object(i["E"])(),Object(i["j"])(W,{key:0,ref:"chartRef","initial-value":D.initialValue,options:t.initConfig,onIndicatorRemoved:D.indicatorRemoved,onOnChartReady:D.onChartReady,onOrientationChanged:D.orientationChanged},null,8,["initial-value","options","onIndicatorRemoved","onOnChartReady","onOrientationChanged"])):Object(i["k"])("",!0)]),Object(i["Z"])(Object(i["n"])("div",L,[Object(i["n"])("div",I,[Object(i["n"])("div",T,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(t.sideStudyList,(function(e,n){return Object(i["E"])(),Object(i["j"])("div",{key:n,class:["item",{active:t.subStudy===e.name}]},[Object(i["n"])("span",{class:"inner-label",onClick:function(t){return D.onClickStudy("sub",e.name)}},Object(i["Q"])(e.label),9,["onClick"])],2)})),128)),Object(i["n"])("span",{class:"item more",onClick:e[12]||(e[12]=function(e){return t.showStudyDialog=!0})},[Object(i["n"])("span",M,Object(i["Q"])(t.$t("chart.more")),1)])])])],512),[[i["V"],t.studyVis]]),Object(i["n"])(Z,{"cur-price":D.product.cur_price,"setting-list":t.settingList,"symbol-id":t.symbolId},null,8,["cur-price","setting-list","symbol-id"]),Object(i["n"])("div",B,[Object(i["n"])("div",E,[Object(i["n"])("div",{class:"buy riseColorBg",onClick:e[13]||(e[13]=function(t){return D.toOrder("buy")})},[Object(i["n"])("p",null,Object(i["Q"])(t.$t("trade.buy")),1)]),Object(i["n"])("div",{class:"sell fallColorBg",onClick:e[14]||(e[14]=function(t){return D.toOrder("sell")})},[Object(i["n"])("p",null,Object(i["Q"])(t.$t("trade.sell")),1)])])])],2),Object(i["n"])(G,{"prop-main-study":t.mainStudy,"prop-sub-study":t.subStudy,show:t.showStudyDialog,onCreateStudy:D.createStudy,onRemoveStudy:D.removeStudy,"onUpdate:show":D.updateShow},null,8,["prop-main-study","prop-sub-study","show","onCreateStudy","onRemoveStudy","onUpdate:show"])],64)})),z=n("5530"),R=(n("e7e5"),n("d399")),A=(n("e17f"),n("2241")),q=n("ade3"),N=n("2909"),J=(n("c740"),n("d81d"),n("7db0"),n("a9e3"),n("4de4"),n("159b"),n("99af"),n("6c02")),V=n("a7e3"),Q=n("47e2"),H=Object(i["bb"])("data-v-039fd574");Object(i["H"])("data-v-039fd574");var F={class:"icon"},U={key:0,height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},$=Object(i["n"])("g",{fill:"none",stroke:"currentColor","stroke-linecap":"square"},[Object(i["n"])("path",{d:"M10.5 7.5v15M7.5 20.5H10M13.5 11.5H11M19.5 6.5v15M16.5 9.5H19M22.5 16.5H20"})],-1),K={key:1,fill:"currentColor",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},W=Object(i["n"])("path",{d:"M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"},null,-1),Z=Object(i["n"])("path",{d:"M18 7h1v3.5h-1zm0 10.5h1V21h-1z"},null,-1),G=Object(i["n"])("path",{d:"M9 8v12h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5z"},null,-1),X=Object(i["n"])("path",{d:"M10 4h1v3.5h-1zm0 16.5h1V24h-1z"},null,-1),Y={key:2,fill:"currentColor",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},tt=Object(i["n"])("path",{d:"M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"},null,-1),et=Object(i["n"])("path",{d:"M18 7h1v3.5h-1zm0 10.5h1V21h-1z"},null,-1),nt=Object(i["n"])("path",{d:"M9 8v11h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-12a.5.5 0 0 1 .5-.5z"},null,-1),it=Object(i["n"])("path",{d:"M10 4h1v5h-1zm0 14h1v5h-1zM8.5 9H10v1H8.5zM11 9h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11z"},null,-1),ot={key:3,fill:"currentColor",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},rt=Object(i["n"])("path",{d:"M9 8v12h3V8H9zm-1-.502C8 7.223 8.215 7 8.498 7h4.004c.275 0 .498.22.498.498v13.004a.493.493 0 0 1-.498.498H8.498A.496.496 0 0 1 8 20.502V7.498z"},null,-1),at=Object(i["n"])("path",{d:"M10 4h1v3.5h-1z"},null,-1),st=Object(i["n"])("path",{d:"M17 6v6h3V6h-3zm-1-.5c0-.276.215-.5.498-.5h4.004c.275 0 .498.23.498.5v7c0 .276-.215.5-.498.5h-4.004a.503.503 0 0 1-.498-.5v-7z"},null,-1),ct=Object(i["n"])("path",{d:"M18 2h1v3.5h-1z"},null,-1),lt={key:4,height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},ut=Object(i["n"])("path",{d:"M11.982 16.689L17.192 12h3.033l4.149-4.668-.748-.664L19.776 11h-2.968l-4.79 4.311L9 12.293l-4.354 4.353.708.708L9 13.707z",fill:"currentColor"},null,-1),dt={key:5,fill:"currentColor",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},ht=Object(i["n"])("path",{d:"M12.5 17.207L18.707 11h2l3.647-3.646-.708-.708L20.293 10h-2L12.5 15.793l-3-3-4.854 4.853.708.708L9.5 14.207z"},null,-1),pt=Object(i["n"])("path",{d:"M9 16h1v1H9zm1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-3-3h1v1H8zm-1 1h1v1H7zm-1 1h1v1H6zm2 0h1v1H8zm-1 1h1v1H7zm-2 0h1v1H5zm17-9h1v1h-1zm1-1h1v1h-1zm0 2h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-5-7h1v1h-1zm2 0h1v1h-1zm1-1h1v1h-1zm-2 2h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-2-6h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-3-3h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1z"},null,-1),bt={key:6,height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},ft=Object(i["n"])("g",{fill:"none",stroke:"currentColor"},[Object(i["n"])("path",{d:"M4 14.5h22","stroke-dasharray":"1 1"}),Object(i["n"])("path",{d:"M7.5 12.5l2-4 1 2 2-4 3 6","stroke-linecap":"round","stroke-linejoin":"round"}),Object(i["n"])("path",{d:"M5.5 16.5l-1 2","stroke-linecap":"round"}),Object(i["n"])("path",{d:"M17.5 16.5l2 4 2-4m2-4l1-2-1 2z","stroke-linecap":"round","stroke-linejoin":"round"})],-1),mt={key:7,class:"icon","p-id":"1428",t:"1590479572150",version:"1.1",height:"16",viewBox:"0 0 1024 1024",fill:"currentColor",width:"16",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},vt=Object(i["n"])("path",{d:"M147.911 876.089v-800.995h-72.818v800.995h-0.182v72.818h873.813v-72.818h-800.814z","p-id":"1429"},null,-1),yt=Object(i["n"])("path",{d:"M622.137 657.271l-209.078-184.047-139.537 175.218-56.98-45.329 187.324-235.11 210.352 185.322 282.533-337.783 55.796 46.785-330.411 394.945z","p-id":"1430"},null,-1);Object(i["F"])();var Ot=H((function(t,e,n,o,r,a){return Object(i["E"])(),Object(i["j"])("span",F,[1===n.value?(Object(i["E"])(),Object(i["j"])("svg",U,[$])):2===n.value?(Object(i["E"])(),Object(i["j"])("svg",K,[W,Z,G,X])):3===n.value?(Object(i["E"])(),Object(i["j"])("svg",Y,[tt,et,nt,it])):4===n.value?(Object(i["E"])(),Object(i["j"])("svg",ot,[rt,at,st,ct])):5===n.value?(Object(i["E"])(),Object(i["j"])("svg",lt,[ut])):6===n.value?(Object(i["E"])(),Object(i["j"])("svg",dt,[ht,pt])):7===n.value?(Object(i["E"])(),Object(i["j"])("svg",bt,[ft])):8===n.value?(Object(i["E"])(),Object(i["j"])("svg",mt,[vt,yt])):Object(i["k"])("",!0)])})),jt={props:{value:{type:Number,default:1}}};n("d023");jt.render=Ot,jt.__scopeId="data-v-039fd574";var _t=jt,gt=n("3b6b"),St=n("2f46"),wt=n("5502"),kt=n("ca00"),Ct=n("3d18"),Pt=n("2ae1"),xt=Object(i["bb"])("data-v-21889627");Object(i["H"])("data-v-21889627");var Lt={key:0,class:"stallsAndDeal"},It={class:"handicap-header"},Tt={key:0},Mt={class:"depth"},Bt=Object(i["n"])("span",{class:"triangleDiv"},null,-1),Et={key:1},Dt={class:"buy-wrap"},zt={class:"item quantity"},Rt={key:0,class:"label"},At={class:"quantity"},qt={class:"price price-right fallColor"},Nt={class:"sell-wrap"},Jt={class:"item quantity"},Vt={class:"price riseColor "},Qt={class:"quantity"},Ht={key:0,class:"label label-right"},Ft={class:"deal-wrap"},Ut={key:1,class:"list-wrap"},$t={class:"col time-col"},Kt={class:"col"},Wt={class:"col price-col"},Zt={class:"col volume-col"},Gt={class:"deal-content"},Xt={key:0},Yt={key:1,class:"trust-wrap"};Object(i["F"])();var te=xt((function(t,e,n,o,r,a){var s=Object(i["M"])("van-popover"),c=Object(i["M"])("van-tab"),l=Object(i["M"])("van-empty"),u=Object(i["M"])("trustItem"),d=Object(i["M"])("van-tabs");return o.showTabs?(Object(i["E"])(),Object(i["j"])("div",Lt,[Object(i["n"])(d,{ref:"tabs",class:"tabs",color:"#477fd3","line-height":"2","line-width":"33.3%","title-active-color":"#477fd3"},{default:xt((function(){return[t.statusList.indexOf("stalls")>-1?(Object(i["E"])(),Object(i["j"])(c,{key:0,name:"stalls",title:t.$t("trade.handicap")},{default:xt((function(){return[Object(i["n"])("div",It,["G"!==o.userAccountType?(Object(i["E"])(),Object(i["j"])("span",Tt,Object(i["Q"])(t.$t("trade.my")),1)):Object(i["k"])("",!0),Object(i["n"])("span",null,Object(i["Q"])(t.$t("trade.volumes"))+"("+Object(i["Q"])(o.product.baseCurrency)+")",1),Object(i["n"])("span",null,Object(i["Q"])(t.$t("trade.priceLabel"))+"("+Object(i["Q"])(o.product.profitCurrency)+")",1),Object(i["n"])("span",Mt,[Object(i["n"])(s,{show:t.showPopover,"onUpdate:show":e[1]||(e[1]=function(e){return t.showPopover=e}),actions:o.digitLevelList,theme:t.theme,onSelect:o.onSelect},{reference:xt((function(){return[Object(i["n"])("span",null,Object(i["Q"])(t.curDigits),1),Bt]})),_:1},8,["show","actions","theme","onSelect"])]),Object(i["n"])("span",null,Object(i["Q"])(t.$t("trade.volumes"))+"("+Object(i["Q"])(o.product.baseCurrency)+")",1),"G"!==o.userAccountType?(Object(i["E"])(),Object(i["j"])("span",Et,Object(i["Q"])(t.$t("trade.my")),1)):Object(i["k"])("",!0)]),(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(o.product.tickResult,(function(t,e){var n,r;return Object(i["E"])(),Object(i["j"])("div",{key:e,class:"stalls-wrap"},[Object(i["n"])("div",Dt,[Object(i["n"])("div",zt,["G"!==o.userAccountType?(Object(i["E"])(),Object(i["j"])("span",Rt)):Object(i["k"])("",!0),Object(i["n"])("span",At,Object(i["Q"])(t.volume_ask),1),Object(i["n"])("span",{class:"histogram buy-histogram",style:"width:"+100*(null===t||void 0===t||null===(n=t.width)||void 0===n?void 0:n.buy)+"%"},null,4),Object(i["n"])("span",qt,Object(i["Q"])(parseFloat(t.price_ask).toFixed(o.product.price_digits)),1)])]),Object(i["n"])("div",Nt,[Object(i["n"])("div",Jt,[Object(i["n"])("span",Vt,Object(i["Q"])(parseFloat(t.price_bid).toFixed(o.product.price_digits)),1),Object(i["n"])("span",Qt,Object(i["Q"])(t.volume_bid),1),"G"!==o.userAccountType?(Object(i["E"])(),Object(i["j"])("span",Ht)):Object(i["k"])("",!0),Object(i["n"])("span",{class:"histogram sell-histogram",style:"width:"+100*(null===t||void 0===t||null===(r=t.width)||void 0===r?void 0:r.sell)+"%"},null,4)])])])})),128))]})),_:1},8,["title"])):Object(i["k"])("",!0),t.statusList.indexOf("deal")>-1?(Object(i["E"])(),Object(i["j"])(c,{key:1,name:"deal",title:t.$t("trade.deal")},{default:xt((function(){return[Object(i["n"])("div",Ft,[0===o.dealList.length?(Object(i["E"])(),Object(i["j"])(l,{key:0,description:t.$t("common.noData"),image:"/images/empty.png"},null,8,["description"])):(Object(i["E"])(),Object(i["j"])("div",Ut,[Object(i["n"])("div",$t,Object(i["Q"])(t.$t("trade.dealTime")),1),Object(i["n"])("div",Kt,Object(i["Q"])(t.$t("trade.direction")),1),Object(i["n"])("div",Wt,Object(i["Q"])(t.$t("trade.priceLabel")),1),Object(i["n"])("div",Zt,Object(i["Q"])(t.$t("trade.volumes")),1)])),Object(i["n"])("div",Gt,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(o.dealList,(function(e){return Object(i["E"])(),Object(i["j"])("div",{key:e.symbolId,class:"deal-item"},[Object(i["n"])("span",null,Object(i["Q"])(o.formatTime(e.dealTime)),1),Object(i["n"])("span",{class:[1===e.trade_direction?"riseColor":"fallColor"]},Object(i["Q"])(1===Number(e.trade_direction)?t.$t("trade.buy"):t.$t("trade.sell")),3),Object(i["n"])("span",null,Object(i["Q"])(e.price),1),Object(i["n"])("span",null,Object(i["Q"])(e.volume),1)])})),128))])])]})),_:1},8,["title"])):Object(i["k"])("",!0),Object(i["n"])(c,{title:t.$t("trade.trust")},{default:xt((function(){return[0===o.pendingList.length?(Object(i["E"])(),Object(i["j"])("div",Xt,[Object(i["n"])(l,{description:t.$t("common.noData"),image:"/images/empty.png"},null,8,["description"])])):(Object(i["E"])(),Object(i["j"])("div",Yt,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(o.pendingList.slice(0,5),(function(t,e){return Object(i["E"])(),Object(i["j"])(u,{key:e,product:t,onClick:Object(i["ab"])((function(e){return o.toDetail(t)}),["stop"])},null,8,["product","onClick"])})),128)),Object(i["n"])("a",{class:"to-all",href:"javascript:;",onClick:e[2]||(e[2]=function(e){return t.$router.push("/trustList")})},Object(i["Q"])(t.$t("trade.allTrust"))+" > ",1)]))]})),_:1},8,["title"])]})),_:1},512)])):Object(i["k"])("",!0)})),ee=(n("a434"),n("5d39")),ne=n("d642"),ie={components:{trustItem:ee["default"]},props:["symbolId","settingList","curPrice"],setup:function(t){var e=Object(J["e"])(),n=Object(wt["c"])(),o=Object(i["I"])({dealData:[],statusList:t.settingList,isDealDelaying:!1,timer:0,curDigits:0,showPopover:!1,theme:"light"===Object(kt["n"])("invertColor")?"light":"dark"}),r=Object(i["h"])((function(){return n.state._quote.productMap[t.symbolId]})),a=Object(i["h"])((function(){return n.state._base.tradeType})),s=Object(i["h"])((function(){return n.state._user.customerInfo})),c=Object(i["h"])((function(){return n.getters["_user/userAccountType"]})),l=Object(i["h"])((function(){return n.state._trade.pendingList})),u=Object(i["h"])((function(){return-1!==t.settingList.indexOf("stalls")||-1!==t.settingList.indexOf("deal")})),d=Object(i["h"])((function(){var t=[],e=r.value.symbolDigits;while(e>-3)t.push({text:Object(ne["k"])(.1,e)}),e--;return t.splice(0,5)})),h=function(t){e.push({path:"/trustDetail",query:{id:t.id,symbolId:t.symbolId}})};Object(i["X"])((function(){var e;d.value.length>0&&(o.curDigits=null===(e=d.value[0])||void 0===e?void 0:e.text,Pt["b"].deal_subscribe([t.symbolId],10,o.curDigits))}));var p=Object(i["h"])((function(){return n.state._quote.handicapList})),b=Object(i["h"])((function(){return n.state._quote.dealList.filter((function(e){return Number(e.symbolId)===Number(t.symbolId)}))}));Object(i["W"])((function(){return[r.value.tickResult]}),(function(t){var e=r.value.tickResult,n=[];e.length>0&&e.forEach((function(t){n.push(t.volume_ask),n.push(t.volume_bid)}));var i=Math.max.apply(Math,n),o=Math.min.apply(Math,n),a=i-o;e.forEach((function(t){t.width={buy:0===a?0:(parseFloat(t.volume_ask)-parseFloat(o))/a,sell:0===a?0:(parseFloat(t.volume_bid)-parseFloat(o))/a}}))})),Object(i["W"])((function(){return t.settingList}),(function(e){console.log(t.settingList),-1===t.settingList.indexOf("stalls")&&-1===t.settingList.indexOf("deal")?o.showTabs=!1:o.showTabs=!0,o.statusList=t.settingList}));var f=function(t){return Object(St["a"])(t).format("HH:mm:ss")},m=function(e){o.curDigits=e.text,Pt["b"].deal_subscribe([t.symbolId],10,o.curDigits)};return n.dispatch("_trade/queryPBOOrderPage",{tradeType:a.value,customerNo:s.value.customerNo,sortFieldName:"orderTime",sortType:"desc"}),Object(i["y"])((function(){Pt["b"].cancel_subscribe(2)})),Object(z["a"])({product:r,formatTime:f,showTabs:u,onSelect:m,dealList:b,digitLevelList:d,userAccountType:c,tradeType:a,customInfo:s,pendingList:l,handicapList:p,toDetail:h},Object(i["R"])(o))}};n("18f3");ie.render=te,ie.__scopeId="data-v-21889627";var oe=ie,re=n("2465"),ae=n("c428"),se=Object(i["bb"])("data-v-0cc5e839");Object(i["H"])("data-v-0cc5e839");var ce={key:0,class:"rightActions"},le=Object(i["n"])("a",{class:"icon icon_add",href:"javascript:;"},null,-1),ue=Object(i["n"])("a",{class:"icon icon_bi",href:"javascript:;"},null,-1),de={key:1,class:"rightActions"},he=Object(i["n"])("a",{class:"icon icon_xindingdan",href:"javascript:;"},null,-1),pe={key:2,class:"rightActions"},be=Object(i["n"])("a",{class:"icon icon_paixu",href:"javascript:;"},null,-1),fe=Object(i["n"])("a",{class:"icon icon_xindingdan",href:"javascript:;"},null,-1),me={key:3,class:"rightActions"},ve=Object(i["n"])("a",{class:"icon icon_paixu",href:"javascript:;"},null,-1),ye=Object(i["n"])("a",{class:"icon icon_rili",href:"javascript:;"},null,-1),Oe={key:4,class:"rightActions"},je=Object(i["n"])("a",{class:"icon icon_gengduo",href:"javascript:;"},null,-1),_e={key:5,class:"rightActions"},ge={class:"morePopupContainer"},Se=Object(i["m"])("更改密码"),we=Object(i["n"])("a",{class:"link",href:"javascript:;"},"删除账户",-1);Object(i["F"])();var ke=se((function(t,e,n,o,r,a){var s=Object(i["M"])("router-link");return Object(i["E"])(),Object(i["j"])(i["a"],null,["Quote"===a.routeName?(Object(i["E"])(),Object(i["j"])("div",ce,[le,ue])):"Chart"===a.routeName?(Object(i["E"])(),Object(i["j"])("div",de,[he])):"Trade"===a.routeName?(Object(i["E"])(),Object(i["j"])("div",pe,[be,fe])):"History"===a.routeName?(Object(i["E"])(),Object(i["j"])("div",me,[ve,ye])):"OnlineService"===a.routeName?(Object(i["E"])(),Object(i["j"])("div",Oe,[je])):"AccountManager"===a.routeName?(Object(i["E"])(),Object(i["j"])("div",_e,[Object(i["n"])("a",{class:"icon icon_add",href:"javascript:;",onClick:e[1]||(e[1]=function(e){return t.$router.push("/addAccount")})}),Object(i["n"])("a",{class:"icon icon_gengduo",href:"javascript:;",onClick:e[2]||(e[2]=function(t){return r.moreVisible=!0})})])):Object(i["k"])("",!0),Object(i["Z"])(Object(i["n"])("div",{class:"morePopup",onClick:e[3]||(e[3]=function(t){return r.moreVisible=!1})},[Object(i["n"])("div",ge,[Object(i["n"])(s,{class:"link of-1px-bottom",to:"/modifyPwd"},{default:se((function(){return[Se]})),_:1}),we])],512),[[i["V"],r.moreVisible]])],64)})),Ce={data:function(){return{moreVisible:!1}},computed:{routeName:function(){return this.$route.name}}};n("927a");Ce.render=ke,Ce.__scopeId="data-v-0cc5e839";var Pe=Ce,xe={components:{KIcon:_t,StudyList:V["a"],tv:Ct["a"],StallsAndDeal:oe,Loading:ae["a"]},setup:function(t){var e=this,n=Object(J["d"])(),o=Object(J["e"])(),r=n.query.symbolId,a=Object(Q["b"])({useScope:"global"}),s=a.t,c=Object(i["J"])(null),l=Object(i["J"])(null),u=Object(wt["c"])(),d=[{title:s("chart.1min"),value:"1min",ktype:"1"},{title:s("chart.15min"),value:"15min",ktype:"15"},{title:s("chart.30min"),value:"30min",ktype:"30"},{title:s("chart.1hour"),value:"1hour",ktype:"60"},{title:s("chart.day"),value:"day",ktype:"1D"},{title:s("chart.week"),value:"week",ktype:"1W"},{title:s("chart.5min"),value:"5min",ktype:"5"},{title:s("chart.2hour"),value:"2hour",ktype:"120"},{title:s("chart.4hour"),value:"4hour",ktype:"240"},{title:s("chart.month"),value:"month",ktype:"1M"}],h=[{name:"kIcon1",title_zh:s("chart.bars"),title_en:"Bars",value:0},{name:"kIcon2",title_zh:s("chart.candles"),title_en:"Candles",value:1},{name:"kIcon3",title_zh:s("chart.hollowCandles"),title_en:"Hollow Candles",value:9},{name:"kIcon4",title_zh:s("chart.heikinAshi"),title_en:"Heikin Ashi",value:8},{name:"kIcon5",title_zh:s("chart.line"),title_en:"Line",value:2},{name:"kIcon6",title_zh:s("chart.area"),title_en:"Area",value:3},{name:"kIcon7",title_zh:s("chart.baseLine"),title_en:"Baseline",value:10}],p=Object(i["I"])({activeTab:0,moreKType:{title:s("chart.more"),ktype:null},moreTimeIsOpened:!1,settingStatus:!1,mainStudyList:gt["a"].slice(0,5),sideStudyList:gt["b"].slice(0,5),studyVis:!0,mainStudy:"Moving Average mock",subStudy:"Custom MACD",showStudyDialog:!1,lineList:[{title:s("chart.lastValueLine"),value:"showLastPrice"},{title:s("chart.positionLine"),value:"showPositionPrice"},{title:s("chart.buyLine"),value:"showBuyPrice"},{title:s("chart.sellLine"),value:"showSellPrice"},{title:s("trade.buySellFive"),value:"stalls"},{title:s("trade.dealData"),value:"deal"}],linesData:{showLastPrice:{status:!0},showPositionPrice:{status:!1},showBuyPrice:{status:!1},showSellPrice:{status:!1},stalls:{status:!1},deal:{status:!1}},settingList:[],klineType:0,initConfig:{},symbolId:r,onChartReadyFlag:!1,loading:!1}),b=Object(i["J"])(null),f=Object(i["h"])((function(){var t=h.findIndex((function(t){return t.value===p.klineType}));return t+1})),m=Object(i["h"])((function(){var t=u.state._quote.productMap[r];return t.cur_price&&P(t,p.initConfig.property),t})),v=Object(i["h"])((function(){return u.state._quote.productList})),y=Object(i["h"])((function(){return u.state._trade.positionList})),O=Object(i["h"])((function(){return u.state._user.selfSymbolList}));u.dispatch("_trade/queryPositionPage");var j=v.value.map((function(t){var e=t.symbolId;return e}));u.dispatch("_quote/querySymbolBaseInfoList",j),Pt["b"].send_subscribe(j);var _=Object(i["h"])((function(){if(m.value.symbolName)return{text:m.value.symbolName,description:m.value.symbolCode,symbolId:m.value.symbolId,digits:m.value.symbolDigits}})),g=Object(i["h"])((function(){return!Object(kt["m"])(O.value.find((function(t){return t.symbolId===parseInt(r)})))})),S=function(t,e){var n={main:"mainStudy",sub:"subStudy"},i=p[n[t]];i===e?I(t):(I(t),L(t,e))},w=function(t,e){if("moreKTypes"!==t)return p.studyVis="timeSharing"!==t,p.onChartReadyFlag&&Object(i["S"])(b).setResolution(t),T("resolution",t),!0;p.moreTimeIsOpened=!p.moreTimeIsOpened},k=function(t){p.klineType=t.value,p.onChartReadyFlag&&Object(i["S"])(b).setChartType(Number(t.value)),T("chartType",t.value),c.value.toggle()},C=function(t,e){var n={};t.indexOf("showBuyPrice")>-1?n.showBuyPrice=!0:n.showBuyPrice=!1,t.indexOf("showPositionPrice")>-1?n.showPositionPrice=!0:n.showPositionPrice=!1,t.indexOf("showSellPrice")>-1?n.showSellPrice=!0:n.showSellPrice=!1,t.indexOf("showLastPrice")>-1?n.showLastPrice=!0:n.showLastPrice=!1,P(m.value,n)},P=function(t,e){p.onChartReadyFlag&&Object(i["S"])(b).updateProperty(e),p.onChartReadyFlag&&Object(i["S"])(b).updateLineData({buyPrice:t.buy_price,sellPrice:t.sell_price}),x()},x=function(){var t=y.value.filter((function(t){return t.symbolId===Number(r)}));if(t.length>0){var e=[];t.forEach((function(t){e.push({text:(1===Number(t.direction)?s("trade.buy"):s("trade.sell"))+t.volume+s("trade.volumeUnit"),quantity:t.openNum,price:t.openPrice,color:t.profit<0?"green":"red"})})),p.onChartReadyFlag&&Object(i["S"])(b).updatePosition(e)}},L=function(t,e){var n=JSON.parse(JSON.stringify([].concat(Object(N["a"])(gt["a"]),Object(N["a"])(gt["b"])).find((function(t){return t.name===e}))||null));switch(t){case"main":p.mainStudy=n.name,T("mainStudy",JSON.stringify({name:n.name,params:n.params}));break;case"sub":p.subStudy=n.name,T("subStudy",JSON.stringify({name:n.name,params:n.params}));break}var o=[JSON.parse(JSON.parse(Object(kt["n"])("chartConfig")).mainStudy),JSON.parse(JSON.parse(Object(kt["n"])("chartConfig")).subStudy)];p.onChartReadyFlag&&Object(i["S"])(b).updateIndicator(o)},I=function(t){switch(t){case"main":p.mainStudy="";break;case"sub":p.subStudy="";break}},T=function(t,e){var n=JSON.parse(Object(kt["n"])("chartConfig"));Object(kt["m"])(n)?Object(kt["o"])("chartConfig",JSON.stringify(Object(q["a"])({},t,e))):(n[t]=e,Object(kt["o"])("chartConfig",JSON.stringify(n)))},M=function(t){p.showStudyDialog=t},B=function(){A["a"].alert({title:s("trade.descTitle"),message:s("trade.nonStocksAndnonBullPointDesc"),confirmButtonColor:"#477fd3"}).then((function(){}))},E=function(t){var e=t.title,n=t.ktype;p.activeTab="moreKTypes",D(e,n),p.onChartReadyFlag&&Object(i["S"])(b).setResolution(n),T("resolution",n),p.moreTimeIsOpened=!1},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.$t("chart.more"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;T("resolution",n),p.moreKType={title:t,ktype:n}},V=function(){},H=function(t,e){t===p.subStudy&&I("sub"),t===p.mainStudy&&I("main")},F=function(){p.onChartReadyFlag=!0};Object(i["W"])((function(){return[m.value.buy_price,m.value.sell_price,m.value.cur_price,m.value.tick_time]}),(function(t){p.settingList.indexOf("showLastPrice")>-1&&p.onChartReadyFlag&&Object(i["S"])(b).setTick(m.value.cur_price,m.value.tick_time),p.onChartReadyFlag&&Object(i["S"])(b).updateLineData({buyPrice:m.value.buy_price,sellPrice:m.value.sell_price})})),Object(i["W"])((function(){return[p.settingList]}),(function(t){p.settingList.indexOf("showBuyPrice")>-1?T("showBuyPrice",!0):T("showBuyPrice",!1),p.settingList.indexOf("showPositionPrice")>-1?T("showPositionPrice",!0):T("showPositionPrice",!1),p.settingList.indexOf("showSellPrice")>-1?T("showSellPrice",!0):T("showSellPrice",!1),p.settingList.indexOf("showLastPrice")>-1?T("showLastPrice",!0):T("showLastPrice",!1),T("lineSetList",p.settingList)}));var U=function(){var t=JSON.parse(Object(kt["n"])("chartConfig")),e=Object(kt["n"])("invertColor");Object(kt["m"])(t)?(T("showLastPrice",!1),T("mainStudy",JSON.stringify({name:"Bollinger Bands",params:[!0,!1,[26,2]]})),T("subStudy",JSON.stringify({name:"Custom MACD",params:[!1,!1,[12,26,"close",9]]})),T("resolution",1),T("lineSetList",[]),T("chartType",1),p.settingList=["showLastPrice"],p.initConfig=Object(i["J"])({property:{showLastPrice:!0,showPositionPrice:!1,showBuyPrice:!1,showSellPrice:!1,showSeriesOHLC:!0,showBarChange:!0,chartType:"1",showSeriesTitle:!1},indicators:[{name:"Bollinger Bands",params:[!0,!1,[26,2]]},{name:"Custom MACD",params:[!1,!1,[12,26,"close",9]]}],extension:{theme:"light"===e?"Light":"Dark",fullScreen:!1}})):(p.mainStudy=JSON.parse(t.mainStudy).name,p.subStudy=JSON.parse(t.subStudy).name,p.activeTab=d.find((function(e){return String(e.ktype)===String(t.resolution)})).ktype,p.klineType=t.chartType,p.settingList=t.lineSetList,p.initConfig=Object(i["J"])({property:{showLastPrice:t.showLastPrice,showPositionPrice:t.showPositionPrice,showBuyPrice:t.showBuyPrice,showSellPrice:t.showSellPrice,showSeriesOHLC:!0,showBarChange:!0,chartType:t.chartType,showSeriesTitle:!1},indicators:[JSON.parse(t.mainStudy),JSON.parse(t.subStudy)],extension:{theme:"light"===e?"Light":"Dark",fullScreen:!1}}))},$=function(){p.loading=Pe,g.value?Object(re["k"])({symbolList:[r]}).then((function(t){t.check()&&(p.loading=!1,u.dispatch("_user/queryCustomerOptionalList"),Object(R["a"])(s("trade.removeOptionalOk")),l.value.classList.remove("icon_zixuan2"))})).catch((function(t){p.loading=!1})):Object(re["a"])({symbolList:[r]}).then((function(t){t.check()&&(p.loading=!1,u.dispatch("_user/queryCustomerOptionalList"),l.value.classList.add("icon_zixuan2"),Object(R["a"])(s("trade.addOptionalOk")))})).catch((function(t){p.loading=!1}))},K=function(t){o.push({path:"/order",query:{symbolId:r,direction:t}})},W=function(t){if(t)return Object(St["a"])(Number(t)).format("HH:mm:ss")};return U(),u.dispatch("_quote/querySymbolInfo",r).then((function(t){if(t.invalid())return!1})),Object(z["a"])(Object(z["a"])({},Object(i["R"])(p)),{},{candleKTypeList:d,klineTypeList:h,onBeforeChange:w,onClickStudy:S,createStudy:L,removeStudy:I,showTips:B,updateShow:M,onClickMoreTime:E,setChartType:k,klineTypeDropdown:c,klineTypeIndex:f,isSelfSymbol:g,product:m,initialValue:_,indicatorRemoved:H,chartRef:b,handleLineChange:C,orientationChanged:V,positionList:y,onChartReady:F,addOptional:$,toOrder:K,collect:l,formatTime:W})}};n("c49d");xe.render=D,xe.__scopeId="data-v-fef45b9e";e["default"]=xe},"150b":function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:1,trackPrice:!1,transparency:35,visible:!0,color:"#FF0000"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#0000FF"},plot_2:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#FF0000"}},precision:e,inputs:{in_0:12,in_1:26,in_3:"close",in_2:9},palettes:{plot_0_Palette:{colors:{0:{color:"#eb4d5c",width:1,style:0},1:{color:"#53b987",width:1,style:0}}}}},plots:[{id:"plot_0",type:"line"},{id:"plot_0_Palette",palette:"plot_0_Palette",target:"plot_0",type:"colorer"},{id:"plot_1",type:"line"},{id:"plot_2",type:"line"}],palettes:{plot_0_Palette:{colors:{0:{name:"Growing"},1:{name:"Falling"}}}},styles:{plot_0:{title:"Histogram",histogramBase:0,joinPoints:!1},plot_1:{title:"MACD",histogramBase:0,joinPoints:!1},plot_2:{title:"Signal",histogramBase:0,joinPoints:!1}},description:"Custom MACD",shortDescription:"MACD",is_price_study:!1,inputs:[{id:"in_0",name:"fastLength",defval:12,type:"integer",min:1,max:2e3},{id:"in_1",name:"slowLength",defval:26,type:"integer",min:1,max:2e3},{id:"in_3",name:"Source",defval:"close",type:"source",options:["open","high","low","close","hl2","hlc3","ohlc4"]},{id:"in_2",name:"signalLength",defval:9,type:"integer",min:1,max:50}],id:"Custom Moving Average Convergence/Divergence@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.f_0=function(t,e){return t-e},this.getColorKey=function(t,e){return t-e>0?0:1},this.main=function(e,n){var i,o,r,a,s,c,l,u,d,h,p,b;return this._context=e,this._input=n,i=t.Std[this._input(2)](this._context),o=this._input(0),r=this._input(1),a=this._input(3),s=this._context.new_var(i),c=t.Std.ema(s,o,this._context),l=this._context.new_var(i),u=t.Std.ema(l,r,this._context),d=this.f_0(c,u),h=this._context.new_var(d),p=t.Std.ema(h,a,this._context),b=this.getColorKey(d,p),[this.f_0(d,p),b,d,p]}}}}},"18f3":function(t,e,n){"use strict";n("ece0")},"18f5":function(t,e,n){"use strict";n("0f49")},"19bb":function(t,e,n){},"1d5f":function(t,e,n){},2221:function(t,e,n){},2520:function(t,e,n){},"3b6b":function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u}));n("4de4"),n("caad");var i=n("ad16");function o(){return{autosize:!0,container_id:"tv_chart_container",library_path:"/charting_library/",custom_css_url:"customCssUrl.css?v=1.0.1",locale:"zh",charts_storage_api_version:"1.1",user_id:"public_user_id",theme:"Light",timezone:"Asia/Shanghai",custom_indicators_getter:i["default"],overrides:{"paneProperties.legendProperties.showSeriesTitle":!1,"paneProperties.legendProperties.showSeriesOHLC":!1,"paneProperties.legendProperties.showBarChange":!1,"paneProperties.legendProperties.showLegend":!0,"paneProperties.topMargin":22,"paneProperties.bottomMargin":5,"timeScale.rightOffset":5,"mainSeriesProperties.style":1,"mainSeriesProperties.showPriceLine":!0,"scalesProperties.showSeriesLastValue":!0,"mainSeriesProperties.priceLineColor":"rgb(71, 127, 211)","mainSeriesProperties.priceAxisProperties.autoScaleDisabled":!1,"mainSeriesProperties.priceAxisProperties.percentage":!1,"mainSeriesProperties.priceAxisProperties.percentageDisabled":!1,"mainSeriesProperties.priceAxisProperties.log":!1,"mainSeriesProperties.priceAxisProperties.logDisabled":!1},disabled_features:["header_widget","left_toolbar","timeframes_toolbar","header_settings","header_fullscreen_button","control_bar","legend_context_menu","symbol_info","header_undo_redo","create_volume_indicator_by_default","pane_context_menu","header_screenshot","header_saveload","adaptive_logo","study_templates","header_compare","display_market_status","use_localstorage_for_settings","header_symbol_search","symbol_search_hot_key","high_density_bars","scales_context_menu","vert_touch_drag_scroll","popup_hints"],enabled_features:["dont_show_boolean_study_arguments","fix_left_edge"]}}function r(){var t=o();return t.disabled_features=t.disabled_features.filter((function(t){return!["left_toolbar","vert_touch_drag_scroll"].includes(t)})),t}function a(){var t=o();return t.disabled_features.push("left_toolbar","vert_touch_drag_scroll"),t}var s={1:"1",5:"2",15:"3",30:"4",60:"5",240:"7","1D":"8","1W":"9","1M":"10"},c={1:"M1",5:"M5",15:"M15",30:"M30",60:"H1",240:"H4","1D":"D1","1W":"W1","1M":"MN"},l=[{label:"MA",name:"Moving Average mock",params:[!0,!1,[5,20,30,60,250,"close",0]]},{label:"BOLL",name:"Bollinger Bands",params:[!0,!1,[26,2]]},{label:"EMA",name:"Custom Moving Average Exponential",params:[!0,!1]},{label:"SAR",name:"Parabolic SAR",params:[!0,!1,[.02,.02,.2]]},{label:"Alligator",name:"Williams Alligator",params:[!0,!1,[13,8,5]]},{label:"TEMA",name:"Triple EMA",params:[!0,!1]},{label:"DEMA",name:"Double EMA",params:[!0,!1]},{label:"SMMA",name:"Smoothed Moving Average",params:[!0,!1]},{label:"Ichimoku",name:"Ichimoku Cloud",params:[!0,!1]},{label:"ENV",name:"Envelopes",params:[!0,!1]}],u=[{label:"MACD",name:"Custom MACD",params:[!1,!1,[12,26,"close",9]]},{label:"KDJ",name:"Custom KDJ",params:[!1,!1,[9,3,3]]},{label:"RSI",name:"Custom Relative Strength Index",params:[!1,!1]},{label:"ATR",name:"Average True Range",params:[!1,!1,[14]]},{label:"CCI",name:"Commodity Channel Index",params:[!1,!1,[14]]},{label:"WR",name:"Custom Williams %R",params:[!1,!1,[14]]},{label:"DMI",name:"Directional Movement",params:[!1,!1]},{label:"TRIX",name:"TRIX",params:[!1,!1]},{label:"ASI",name:"Accumulative Swing Index",params:[!1,!1]},{label:"Momentum",name:"Momentum",params:[!1,!1]},{label:"DPO",name:"Detrended Price Oscillator",params:[!1,!1]},{label:"Aroon",name:"Aroon",params:[!1,!1]},{label:"KST",name:"Know Sure Thing",params:[!1,!1]},{label:"ROC",name:"Rate Of Change",params:[!1,!1]},{label:"CRSI",name:"Connors RSI",params:[!1,!1]},{label:"SMII",name:"SMI Ergodic Indicator/Oscillator",params:[!1,!1]},{label:"HV",name:"Historical Volatility",params:[!1,!1,10]},{label:"Stoch",name:"Stochastic",params:[!1,!1]}]},"3bcb":function(t,e,n){},"3d18":function(t,e,n){"use strict";var i=n("f2bf"),o=Object(i["bb"])("data-v-e79e8368");Object(i["H"])("data-v-e79e8368");var r={class:"tv"};Object(i["F"])();var a=o((function(t,e,n,o,a,s){return Object(i["E"])(),Object(i["j"])("div",r,[o.chart?Object(i["L"])(t.$slots,"top",{key:0,resolutionList:o.resolutionList,setSymbol:o.setSymbol},void 0,!0):Object(i["k"])("",!0),Object(i["n"])("div",{id:"tv-chart-container",class:{landscape:o.isLandscape}},null,2),o.chart?Object(i["L"])(t.$slots,"sideMenu",{key:1,chart:o.chart},void 0,!0):Object(i["k"])("",!0)])})),s=n("5530"),c=(n("caad"),n("d81d"),n("b64b"),n("3b6b")),l=n("2909"),u=n("d4ec"),d=n("bee2"),h=n("ade3");n("4ae1");function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t,e,n){return f=b()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=Function.bind.apply(t,i),r=new o;return n&&p(r,n.prototype),r},f.apply(null,arguments)}n("d3b7"),n("159b"),n("b0c0"),n("4de4"),n("7db0"),n("99af"),n("a4d3"),n("e01a"),n("fb6a"),n("a9e3");var m=function(t,e){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},m(t,e)};function v(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var y=!1;function O(t){if(y){var e=new Date;console.log(e.toLocaleTimeString()+"."+e.getMilliseconds()+"> "+t)}}function j(t){return void 0===t?"":"string"===typeof t?t:t.message}var _=n("1da1"),g=(n("96cf"),n("2f46")),S=n("2ae1"),w=!0,k=function(){function t(){Object(u["a"])(this,t),this._leftBar=null,this._latestBar=null,this._product={}}return Object(d["a"])(t,[{key:"getKline",value:function(t,e){var n=this;e&&(this._product={symbolId:t.symbolId,klineType:t.klineType},this._leftBar=null,this._latestBar=null);var i={trade_type:1,symbol_id:t.symbolId,kline_type:t.klineType,kline_timestamp_start:t.startTime,kline_timestamp_end:t.endTime};return C(i,e).then((function(t){return e&&t.data.bars.length&&(n._latestBar=Object(s["a"])({},t.data.bars[t.data.bars.length-1]),n._leftBar=Object(s["a"])({},t.data.bars[0])),t})).then((function(t){if(console.log("exit_earlier_kline: ",t.rawData.exit_earlier_kline),!t.data.bars.length){var e=n._leftBar?n._leftBar.time:void 0;t.rawData.exit_earlier_kline?console.log("%c".concat(i.kline_timestamp_start,"-").concat(i.kline_timestamp_end,"区间无数据，准备请求").concat(e,"左侧的时间区间的历史数据"),"color:red"):(e=void 0,console.log("%c".concat(i.kline_timestamp_start,"-").concat(i.kline_timestamp_end,"区间无数据，并且没有更早历史数据，不再进行请求"),"color:red")),Object.assign(t.data,{meta:{noData:!0,nextTime:e}})}return t.data}))}},{key:"normalizeTick",value:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,n,i){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e&&this._latestBar){t.next=2;break}return t.abrupt("return");case 2:if(o=this._latestBar,r=[],!P(i,o.time,n)){t.next=8;break}r.push({time:o.time,open:o.open,high:Math.max(o.high,e),low:Math.min(o.low,e),close:e}),t.next=11;break;case 8:return t.next=10,this._getLatestKline();case 10:r=t.sent;case 11:return r.length||Promise.reject(),this._latestBar=r[r.length-1],w&&I(r),t.abrupt("return",Promise.resolve(r));case 15:case"end":return t.stop()}}),t,this)})));function e(e,n,i){return t.apply(this,arguments)}return e}()},{key:"_getLatestKline",value:function(){var t={trade_type:1,symbol_id:this._product.symbolId,kline_type:this._product.klineType,query_type:2,query_kline_num:2};return C(t).then((function(t){return t.data.bars}))}}]),t}();function C(t){return new Promise((function(t){var e=function e(){1===S["b"].ws.readyState?t():setTimeout(e,1e3)};e()})).then((function(){return S["b"].send(14002,t).then((function(e){w&&L(e,t);var n=x(e);if(n)return n;var i=e.data,o=i.kline_list,r=(i.price_digits,o.map((function(t){return{time:parseFloat(1e3*t.timestamp),close:parseFloat(t.close_price),open:parseFloat(t.open_price),high:parseFloat(t.high_price),low:parseFloat(t.low_price)}})));return{rawData:e.data,data:{bars:r}}})).catch((function(t){console.error(t)}))}))}function P(t,e,n){if(e*=1,n*=1,e>n)return!0;var i=Object(g["a"])(e),o=Object(g["a"])(n);if(/^[0-9]+$/.test(t)){var r=60*i.hour()+i.minute(),a=60*o.hour()+o.minute();return a-r<t}return i===o}function x(t){return 200!==t.ret?{bars:[],meta:{noData:!0}}:null}function L(t,e){var n;console.groupCollapsed("%c请求历史k线:⬇","color:".concat(200===t.ret?"green":"red")),console.log("request:",JSON.stringify(e,null," ")),console.log("response:",JSON.stringify(t,(function(t,e){var n;return"kline_list"===t?Array.isArray(e)&&e.length?"共{".concat(null===e||void 0===e?void 0:e.length,"}条数据, 区间[").concat(e[0].timestamp,", ").concat(null===(n=e[e.length-1])||void 0===n?void 0:n.timestamp,"]"):"没有数据":e})," ")),console.log("response:",null===(n=t.data)||void 0===n?void 0:n.kline_list," "),console.groupEnd()}function I(t){1===t.length||console.group("%c获取最新两根数据:⬇","color:green"),console.log(JSON.stringify(t)),console.groupEnd()}var T=function(){function t(e,n){Object(u["a"])(this,t),this._datafeedUrl=e,this._requester=n,this._requestKData=new k,this._onTick=null}return Object(d["a"])(t,[{key:"getBars",value:function(t,e,n,i,o){if(this.symbolParams={symbolId:t.symbolId,klineType:c["e"][e],startTime:n,endTime:i,resolution:e},"boolean"===typeof o)return this._requestKData.getKline(this.symbolParams,o)}},{key:"onTick",value:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,n){var i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this._onTick){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this._requestKData.normalizeTick(e,n,this.symbolParams.resolution);case 4:i=t.sent,i.forEach((function(t){return o._onTick(t)}));case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"setTick",value:function(t){this._onTick=t}}]),t}(),M=(n("25f0"),function(){function t(t,e){this._subscribers={},this._requestsPending=0,this._historyProvider=t}return t.prototype.subscribeBars=function(t,e,n,i){this._subscribers.hasOwnProperty(i)?O("DataPulseProvider: already has subscriber with id="+i):(this._subscribers[i]={lastBarTime:null,listener:n,resolution:e,symbolInfo:t},O("DataPulseProvider: subscribed for #"+i+" - {"+t.name+", "+e+"}"))},t.prototype.unsubscribeBars=function(t){delete this._subscribers[t],O("DataPulseProvider: unsubscribed for #"+t)},t.prototype._updateData=function(){var t=this;if(!(this._requestsPending>0)){this._requestsPending=0;var e=function(e){n._requestsPending+=1,n._updateDataForSubscriber(e).then((function(){t._requestsPending-=1,O("DataPulseProvider: data for #"+e+" updated successfully, pending="+t._requestsPending)})).catch((function(n){t._requestsPending-=1,O("DataPulseProvider: data for #"+e+" updated with error="+j(n)+", pending="+t._requestsPending)}))},n=this;for(var i in this._subscribers)e(i)}},t.prototype._updateDataForSubscriber=function(t){var e=this,n=this._subscribers[t],i=parseInt((Date.now()/1e3).toString()),o=i-B(n.resolution,10);return this._historyProvider.getBars(n.symbolInfo,n.resolution,o,i).then((function(n){e._onSubscriberDataReceived(t,n)}))},t.prototype._onSubscriberDataReceived=function(t,e){if(this._subscribers.hasOwnProperty(t)){var n=e.bars;if(0!==n.length){var i=n[n.length-1],o=this._subscribers[t];if(!(null!==o.lastBarTime&&i.time<o.lastBarTime)){null!==o.lastBarTime&&(i.time,o.lastBarTime);o.lastBarTime=i.time,o.listener(i)}}}else O("DataPulseProvider: Data comes for already unsubscribed subscription #"+t)},t}());function B(t,e){var n=0;return n="D"===t||"1D"===t?e:"M"===t||"1M"===t?31*e:"W"===t||"1W"===t?7*e:e*parseInt(t)/1440,24*n*60*60}var E=function(){function t(t){this._subscribers={},this._requestsPending=0,this._quotesProvider=t,setInterval(this._updateQuotes.bind(this,1),1e4),setInterval(this._updateQuotes.bind(this,0),6e4)}return t.prototype.subscribeQuotes=function(t,e,n,i){this._subscribers[i]={symbols:t,fastSymbols:e,listener:n},O("QuotesPulseProvider: subscribed quotes with #"+i)},t.prototype.unsubscribeQuotes=function(t){delete this._subscribers[t],O("QuotesPulseProvider: unsubscribed quotes with #"+t)},t.prototype._updateQuotes=function(t){var e=this;if(!(this._requestsPending>0)){var n=function(n){i._requestsPending++;var o=i._subscribers[n];i._quotesProvider.getQuotes(1===t?o.fastSymbols:o.symbols).then((function(i){e._requestsPending--,e._subscribers.hasOwnProperty(n)&&(o.listener(i),O("QuotesPulseProvider: data for #"+n+" ("+t+") updated successfully, pending="+e._requestsPending))})).catch((function(i){e._requestsPending--,O("QuotesPulseProvider: data for #"+n+" ("+t+") updated with error="+j(i)+", pending="+e._requestsPending)}))},i=this;for(var o in this._subscribers)n(o)}},t}();n("4e82"),n("3ca3"),n("ddb0");function D(t,e,n,i){var o=t[e];return!Array.isArray(o)||i&&!Array.isArray(o[0])?o:o[n]}function z(t,e){return t+(void 0!==e?"_%|#|%_"+e:"")}var R=function(){function t(t,e,n){this._exchangesList=["NYSE","FOREX","AMEX"],this._symbolsInfo={},this._symbolsList=[],this._datafeedUrl=t,this._datafeedSupportedResolutions=e,this._requester=n,this._readyPromise=this._init(),this._readyPromise.catch((function(t){console.error("SymbolsStorage: Cannot init, error="+t.toString())}))}return t.prototype.resolveSymbol=function(t,e){var n=this;return this._readyPromise.then((function(){var i=n._symbolsInfo[z(t,e)];return void 0===i?Promise.reject("invalid symbol"):Promise.resolve(i)}))},t.prototype.searchSymbols=function(t,e,n,i){var o=this;return this._readyPromise.then((function(){var r=[],a=0===t.length;t=t.toUpperCase();for(var s=function(i){var s=o._symbolsInfo[i];if(void 0===s)return"continue";if(n.length>0&&s.type!==n)return"continue";if(e&&e.length>0&&s.exchange!==e)return"continue";var c=s.name.toUpperCase().indexOf(t),l=s.description.toUpperCase().indexOf(t);if(a||c>=0||l>=0){var u=r.some((function(t){return t.symbolInfo===s}));if(!u){var d=c>=0?c:8e3+l;r.push({symbolInfo:s,weight:d})}}},c=0,l=o._symbolsList;c<l.length;c++){var u=l[c];s(u)}var d=r.sort((function(t,e){return t.weight-e.weight})).slice(0,i).map((function(t){var e=t.symbolInfo;return{symbol:e.name,full_name:e.full_name,description:e.description,exchange:e.exchange,params:[],type:e.type,ticker:e.name}}));return Promise.resolve(d)}))},t.prototype._init=function(){for(var t=this,e=[],n={},i=0,o=this._exchangesList;i<o.length;i++){var r=o[i];n[r]||(n[r]=!0,e.push(this._requestExchangeData(r)))}return Promise.all(e).then((function(){t._symbolsList.sort(),O("SymbolsStorage: All exchanges data loaded")}))},t.prototype._requestExchangeData=function(t){var e=this;return new Promise((function(n,i){e._requester.sendRequest(e._datafeedUrl,"symbol_info",{group:t}).then((function(o){try{e._onExchangeDataReceived(t,o)}catch(r){return void i(r)}n()})).catch((function(e){O("SymbolsStorage: Request data for exchange '"+t+"' failed, reason="+j(e)),n()}))}))},t.prototype._onExchangeDataReceived=function(t,e){var n=0;try{for(var i=e.symbol.length,o=void 0!==e.ticker;n<i;++n){var r=e.symbol[n],a=D(e,"exchange-listed",n),s=D(e,"exchange-traded",n),c=s+":"+r,l=D(e,"currency-code",n),u=o?D(e,"ticker",n):r,d={ticker:u,name:r,base_name:[a+":"+r],full_name:c,listed_exchange:a,exchange:s,currency_code:l,original_currency_code:D(e,"original-currency-code",n),description:D(e,"description",n),has_intraday:A(D(e,"has-intraday",n),!1),has_no_volume:A(D(e,"has-no-volume",n),!1),minmov:D(e,"minmovement",n)||D(e,"minmov",n)||0,minmove2:D(e,"minmove2",n)||D(e,"minmov2",n),fractional:D(e,"fractional",n),pricescale:D(e,"pricescale",n),type:D(e,"type",n),session:D(e,"session-regular",n),timezone:D(e,"timezone",n),supported_resolutions:A(D(e,"supported-resolutions",n,!0),this._datafeedSupportedResolutions),force_session_rebuild:D(e,"force-session-rebuild",n),has_daily:A(D(e,"has-daily",n),!0),intraday_multipliers:A(D(e,"intraday-multipliers",n,!0),["1","5","15","30","60"]),has_weekly_and_monthly:D(e,"has-weekly-and-monthly",n),has_empty_bars:D(e,"has-empty-bars",n),volume_precision:A(D(e,"volume-precision",n),0),format:"price"};this._symbolsInfo[u]=d,this._symbolsInfo[r]=d,this._symbolsInfo[c]=d,void 0!==l&&(this._symbolsInfo[z(u,l)]=d,this._symbolsInfo[z(r,l)]=d,this._symbolsInfo[z(c,l)]=d),this._symbolsList.push(r)}}catch(h){throw new Error("SymbolsStorage: API error when processing exchange "+t+" symbol #"+n+" ("+e.symbol[n]+"): "+h.message)}},t}();function A(t,e){return void 0!==t?t:e}function q(t,e,n){var i=t[e];return Array.isArray(i)?i[n]:i}var N=function(){function t(t,e,n,i,o){var r=this;void 0===i&&(i=1e4),this.otherConfig=o||{},this._configuration=J(),this._symbolsStorage=null,this._datafeedURL=t,this._requester=n,this._historyProvider=new T(t,this._requester),this._quotesProvider=e,this._dataPulseProvider=new M(this._historyProvider,i),this._quotesPulseProvider=new E(this._quotesProvider),this._configurationReadyPromise=this._requestConfiguration().then((function(t){null===t&&(t=J()),r._setupWithConfiguration(t)}))}return t.prototype.onReady=function(t){var e=this;this._configurationReadyPromise.then((function(){t(e._configuration)}))},t.prototype.getQuotes=function(t,e,n){this._quotesProvider.getQuotes(t).then(e).catch(n)},t.prototype.subscribeQuotes=function(t,e,n,i){this._quotesPulseProvider.subscribeQuotes(t,e,n,i)},t.prototype.unsubscribeQuotes=function(t){this._quotesPulseProvider.unsubscribeQuotes(t)},t.prototype.calculateHistoryDepth=function(t,e,n){return{resolutionBack:t,intervalBack:20}},t.prototype.getMarks=function(t,e,n,i,o){if(this._configuration.supports_marks){var r={symbol:t.ticker||"",from:e,to:n,resolution:o};this._send("marks",r).then((function(t){if(!Array.isArray(t)){for(var e=[],n=0;n<t.id.length;++n)e.push({id:q(t,"id",n),time:q(t,"time",n),color:q(t,"color",n),text:q(t,"text",n),label:q(t,"label",n),labelFontColor:q(t,"labelFontColor",n),minSize:q(t,"minSize",n)});t=e}i(t)})).catch((function(t){O("UdfCompatibleDatafeed: Request marks failed: "+j(t)),i([])}))}},t.prototype.getTimescaleMarks=function(t,e,n,i,o){if(this._configuration.supports_timescale_marks){var r={symbol:t.ticker||"",from:e,to:n,resolution:o};this._send("timescale_marks",r).then((function(t){if(!Array.isArray(t)){for(var e=[],n=0;n<t.id.length;++n)e.push({id:q(t,"id",n),time:q(t,"time",n),color:q(t,"color",n),label:q(t,"label",n),tooltip:q(t,"tooltip",n)});t=e}i(t)})).catch((function(t){O("UdfCompatibleDatafeed: Request timescale marks failed: "+j(t)),i([])}))}},t.prototype.getServerTime=function(t){this._configuration.supports_time&&this._send("time").then((function(e){var n=parseInt(e);isNaN(n)||t(n)})).catch((function(t){O("UdfCompatibleDatafeed: Fail to load server time, error="+j(t))}))},t.prototype.searchSymbols=function(t,e,n,i){if(this._configuration.supports_search){var o={limit:30,query:t.toUpperCase(),type:n,exchange:e};this._send("search",o).then((function(t){if(void 0!==t.s)return O("UdfCompatibleDatafeed: search symbols error="+t.errmsg),void i([]);i(t)})).catch((function(e){O("UdfCompatibleDatafeed: Search symbols for '"+t+"' failed. Error="+j(e)),i([])}))}else{if(null===this._symbolsStorage)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.searchSymbols(t,e,n,30).then(i).catch(i.bind(null,[]))}},t.prototype.resolveSymbol=function(t,e,n,i){var o=this;O("Resolve requested");var r=i&&i.currencyCode,a=Date.now();function c(t){O("Symbol resolved: "+(Date.now()-a)+"ms"),e(t)}if(this.otherConfig.isControl)setTimeout((function(){c(Object(s["a"])({},Q(t,o.otherConfig.symbolInfo)))}),0);else if(this._configuration.supports_group_request){if(null===this._symbolsStorage)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.resolveSymbol(t,r).then(c).catch(n)}else{var l={symbol:t};void 0!==r&&(l.currencyCode=r),this._send("symbols",l).then((function(t){void 0!==t.s?n("unknown_symbol"):c(t)})).catch((function(t){O("UdfCompatibleDatafeed: Error resolving symbol: "+j(t)),n("unknown_symbol")}))}},t.prototype.getBars=function(t,e,n,i,o,r,a){this._historyProvider.getBars(t,e,n,i,a).then((function(t){o(t.bars,t.meta)})).catch(r)},t.prototype.subscribeBars=function(t,e,n,i,o){this._historyProvider.setTick(n),this._dataPulseProvider.subscribeBars(t,e,n,i)},t.prototype.unsubscribeBars=function(t){this._historyProvider.setTick(null),this._dataPulseProvider.unsubscribeBars(t)},t.prototype._requestConfiguration=function(){return this.otherConfig.isControl?Promise.resolve(V()):this._send("config").catch((function(t){return O("UdfCompatibleDatafeed: Cannot get datafeed configuration - use default, error="+j(t)),null}))},t.prototype._send=function(t,e){return this._requester.sendRequest(this._datafeedURL,t,e)},t.prototype._setupWithConfiguration=function(t){if(this._configuration=t,void 0===t.exchanges&&(t.exchanges=[]),!t.supports_search&&!t.supports_group_request)throw new Error("Unsupported datafeed configuration. Must either support search, or support group request");!t.supports_group_request&&t.supports_search||(this._symbolsStorage=new R(this._datafeedURL,t.supported_resolutions||[],this._requester)),O("UdfCompatibleDatafeed: Initialized with "+JSON.stringify(t))},t.prototype.setSymbolInfo=function(t){this.otherConfig.symbolInfo=Object.assign({},t)},t}();function J(){return{supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1}}function V(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","1D"],supports_marks:!1,supports_timescale_marks:!1}}function Q(t,e){t||console.error("产品symbolId不存在");var n=Object(s["a"])({timezone:"Etc/UTC",minmov:1,minmov2:0,pointvalue:1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:"",type:"stock",supported_resolutions:Object.keys(c["e"]),pricescale:1e17,has_weekly_and_monthly:!0},H(e));return n}function H(t){var e={name:t.description,description:t.description,symbolId:t.symbolId,pricescale:Math.pow(10,t.digits)};return e}var F=function(){function t(t,e){this._datafeedUrl=t,this._requester=e}return t.prototype.getQuotes=function(t){var e=this;return new Promise((function(n,i){e._requester.sendRequest(e._datafeedUrl,"quotes",{symbols:t}).then((function(t){"ok"===t.s?n(t.d):i(t.errmsg)})).catch((function(t){var e=j(t);O("QuotesProvider: getQuotes failed, error="+e),i("network error: "+e)}))}))},t}(),U=(n("a15b"),function(){function t(t){t&&(this._headers=t)}return t.prototype.sendRequest=function(t,e,n){if(void 0!==n){var i=Object.keys(n);0!==i.length&&(e+="?"),e+=i.map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t].toString())})).join("&")}O("New request: "+e);var o={credentials:"same-origin"};return void 0!==this._headers&&(o.headers=this._headers),fetch(t+"/"+e,o).then((function(t){return t.text()})).then((function(t){return JSON.parse(t)}))},t}()),$=function(t){function e(e,n,i){void 0===i&&(i=500);var o=this,r=new U,a=new F(e,r);return o=t.call(this,e,a,r,i,n)||this,o}return v(e,t),e}(N);function K(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return f(W,e)}var W=function(){function t(e){var n=this,i=e.containerId,o=e.initial,r=e.property,a=void 0===r?{}:r,s=e.indicators,c=void 0===s?[]:s,d=e.extension,p=void 0===d?{}:d,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Object(u["a"])(this,t),Object(h["a"])(this,"setSymbol",(function(t){return n.symbolId=t.symbolId,n.datafeed.setSymbolInfo(t),new Promise((function(e,i){n.widget.activeChart().setSymbol(n.symbolId+"",(function(){n._setPrecisionForStudies(t.digits),n.updateProperty(n.property),e(n.symbolId),console.log("%c切换产品: ".concat(JSON.stringify(t)),"color:green")}))}))})),Object(h["a"])(this,"setChartType",(function(t){"number"===typeof t&&n.widget.activeChart().setChartType(t)})),Object(h["a"])(this,"setResolution",(function(t){console.log("setResolution:",t),n.widget.activeChart().setResolution(t,(function(){console.log("%c切换周期: ".concat(t),"color:green")}))})),Object(h["a"])(this,"updateLineData",(function(t){var e=t.buyPrice,i=t.sellPrice;n.buyPrice=e,n.sellPrice=i,n._setLine(n.property),n.priceBox&&(n.priceBox.setSellPrice(i),n.priceBox.setBuyPrice(e))})),Object(h["a"])(this,"updateIndicator",(function(t){if(!t)return[];Array.isArray(t)||(t=[t]);var e=n.widget.activeChart().getAllStudies(),i={};e.forEach((function(t){i[t.name]=!0}));var o=t.filter((function(t){return!i[t.name]})),r=n._indicatorsEntity.filter((function(e){return!t.find((function(t){return t.name===e.name}))}));o.forEach((function(t){var e;(e=n.widget.activeChart()).createStudy.apply(e,[t.name].concat(Object(l["a"])(t.params),[{precision:n.initial.digits}])).then((function(e){n._indicatorsEntity.push({name:t.name,id:e})}))})),r.forEach((function(t){n.widget.activeChart().removeEntity(t.id),n._indicatorsEntity=n._indicatorsEntity.filter((function(e){return e.id!==t.id}))}))})),Object(h["a"])(this,"subscribe",(function(t,e){n._listener[t].push((function(){try{for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(this,n)}catch(o){console.error(o)}}))})),Object(h["a"])(this,"destroyed",(function(){while(n._destroyedFns.length){var t=n._destroyedFns.shift();t()}})),this.initial={description:o.description,symbolId:o.symbolId,digits:o.digits},this.buyPrice="",this.sellPrice="",this.symbolId=o.symbolId,this.property=a,this.extension=p,this.containerId=i,this.elm=document.querySelector(i),this.containerHeight=this.elm.offsetHeight,this.chartReadyCallback=b,this.datafeed=new $("",{isControl:!0,symbolInfo:o}),this.indicators=c,this._indicatorsEntity=[],this._orientation="portrait",this._linesMap={},this._positionLines=[],this._listener={isLandscape:[],click:[]},this._nativeListener=[],this._destroyedFns=[],this._firstInit=!0,this._init()}return Object(d["a"])(t,[{key:"_init",value:function(){var t=this;this.destroyed();var e=this.initial,n=this.containerHeight,i=this.datafeed,o=this.containerId;if(n&&e){console.group("%c当前产品:⬇","color:green"),console.log(JSON.stringify(e)),console.groupEnd();var r=Object(s["a"])({},this._options);this._firstInit||this.widget.save((function(t){return r.saved_data=t})),this.widget=window.tvWidget=new window.TradingView.widget(Object(s["a"])(Object(s["a"])({},r),{},{datafeed:i,container_id:o.slice(1),symbol:this.symbolId,interval:"1",locale:"zh"})),this.widget.onChartReady((function(){t.updateIndicator(t.indicators),t.updateProperty(t.property),t._addPriceBox(),t._bindEvent(),t._firstInit&&"portrait"===t._orientation&&[90,-90].includes(window.orientation)&&t._setStyle("landscape"),t._firstInit=!1,t.chartReadyCallback()}))}}},{key:"_options",get:function(){var t=this,e=null;return e=this.fullScreen&&this._firstInit&&"portrait"===this._orientation&&[90,-90].includes(window.orientation)?Object(c["c"])():"portrait"===this._orientation?Object(c["d"])():Object(c["c"])(),["theme"].forEach((function(n){t.extension[n]&&(e[n]=t.extension[n])})),Object.assign(e.overrides,this._setProperty(this.property,{})),e}},{key:"_bindEvent",value:function(){this._bindResize(),this._bindClick()}},{key:"_bindResize",value:function(){var t=this;if(this.extension.fullScreen){this._addFullScreenBtn();var e=Y((function(){0===window.orientation&&"portrait"!==t._orientation?t._toggleFullScreen("portrait"):90!==window.orientation&&-90!==window.orientation||"landscape"===t._orientation||t._toggleFullScreen("landscape")}),300);window.addEventListener("resize",e),this._destroyedFns.push((function(){window.removeEventListener("resize",e)}))}}},{key:"_bindClick",value:function(){var t=this,e=this.elm.querySelector("iframe").contentWindow,n=!1,i="",o=function(){"mouseDown"===i&&(i="mouseMove")};e.addEventListener("touchmove",o),this._destroyedFns.push((function(){e.removeEventListener("touchmove",o)}));var r=function(){i="mouseDown"},a=function(e){setTimeout((function(){var e=i;i="mouseUp",n||"mouseMove"===e||t._listener["click"].forEach((function(t){return t()}))}),0)};this.widget.subscribe("mouse_down",r),this.widget.subscribe("mouse_up",a),this.widget.subscribe("drawing_event",(function(t,e){switch(e){case"remove":n=!1;break;case"click":n=!0;break;default:n=!1}})),this.widget.subscribe("drawing",(function(){n=!0})),this.widget.subscribe("undo_redo_state_changed",(function(){setTimeout((function(){n=!1}),50)}))}},{key:"_createStudies",value:function(t){var e=this;this.indicators.forEach((function(n){var i;(i=e.widget.activeChart()).createStudy.apply(i,[n.name].concat(Object(l["a"])(n.params),[{precision:t.digits}]))}))}},{key:"_addPriceBox",value:function(){var t=this.elm.querySelector("iframe").contentWindow;this.priceBox=X(t,this.sellPrice,this.buyPrice,this.property.showPriceBox)}},{key:"togglePriceBox",value:function(t){t?this.priceBox.show():this.priceBox.hide()}},{key:"_addFullScreenBtn",value:function(){var t=this,e=this.sellPrice?this.sellPrice.length:10;Z({el:this.elm.querySelector("iframe"),type:"landscape",style:{right:11*e+"px"}},(function(){t._toggleFullScreen("portrait"===t._orientation?"landscape":"portrait")}))}},{key:"_toggleFullScreen",value:function(t){this._orientation=t,this._init(),this._setStyle(t)}},{key:"_setStyle",value:function(t){this._orientation=t,"landscape"===t?(this._setLandscape(),this._listener["isLandscape"].forEach((function(t){return t(!0)}))):(this._setPortrait(),this._listener["isLandscape"].forEach((function(t){return t(!1)})))}},{key:"_setLandscape",value:function(){var t=this.elm,e=window.innerWidth,n=window.innerHeight;if(90===window.orientation||-90===window.orientation){var i=[n,e];e=i[0],n=i[1]}var o={width:n+"px",height:e+"px",top:(n-e)/2+"px",left:-(n-e)/2+"px"};document.body.scrollTop=0,t.style.width=o.width,t.style.height=o.height,t.style.top=o.top,t.style.left=o.left}},{key:"_setPortrait",value:function(){var t=this.elm;t.style.width=null,t.style.height=null,t.style.top=null,t.style.left=null}},{key:"_setPrecisionForStudies",value:function(t){var e=this.widget.activeChart();e.getAllStudies().forEach((function(n){e.getStudyById(n.id).applyOverrides({precision:t})}))}},{key:"_setLine",value:function(t){var e=this._linesMap,n=this.symbolId;!e[n]&&(e[n]={});var i=e[n];"boolean"===typeof t.showBuyPrice&&(t.showBuyPrice?i.buyPriceLine?i.buyPriceLine.setPrice(this.buyPrice):i.buyPriceLine=this.widget.activeChart().createOrderLine().setPrice(this.buyPrice).setText("").setLineStyle(0).setLineColor("#e3525c").setQuantity(!1):i.buyPriceLine&&(i.buyPriceLine.remove(),i.buyPriceLine=null)),"boolean"===typeof t.showSellPrice&&(t.showSellPrice?i.sellPriceLine?i.sellPriceLine.setPrice(this.sellPrice):i.sellPriceLine=this.widget.activeChart().createOrderLine().setPrice(this.sellPrice).setText("").setLineStyle(0).setLineColor("#10b873").setQuantity(!1):i.sellPriceLine&&(i.sellPriceLine.remove(),i.sellPriceLine=null))}},{key:"_resolveFn",value:function(t,e){var n=this,i=e;switch(t){case"study_event":i=function(t,i){var o=n._indicatorsEntity.find((function(e){return e.id===t}));e(o?o.name:"",i)};break}return i}},{key:"_applyOverrides",value:function(t){var e=this._setProperty(t,{});this.widget.applyOverrides(e)}},{key:"_setProperty",value:function(t,e){return Object.keys(t||{}).forEach((function(n){["showSeriesTitle","showSeriesOHLC","showBarChange"].includes(n)?e["paneProperties.legendProperties.".concat(n)]=t[n]:"showLastPrice"===n&&(e["mainSeriesProperties.showPriceLine"]=t[n],e["scalesProperties.showSeriesLastValue"]=t[n])})),e}},{key:"nativeSubscribe",value:function(t,e){e=this._resolveFn(t,e),this._nativeListener[t]=[].concat(Object(l["a"])(this._nativeListener[t]||[]),[e]),this.widget.subscribe(t,e)}},{key:"updateProperty",value:function(t){Object.assign(this.property,t),this._applyOverrides(t),t.property&&this.setChartType(t.property.chartType),"boolean"===typeof t.showPositionPrice&&!t.showPositionPrice&&this.updatePosition()}},{key:"setTick",value:function(t,e){this.datafeed._historyProvider.onTick(t,e)}},{key:"updatePosition",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];while(this._positionLines.length)this._positionLines.pop().remove();this.property.showPositionPrice&&(this._positionLines=e.map((function(e){var n=e.text,i=e.quantity,o=e.price,r=e.color,a=t.widget.activeChart().createOrderLine().setPrice(o).setText(n).setExtendLeft(!1).setLineStyle(0).setQuantity(i).setQuantityBackgroundColor(r).setBodyBorderColor(r).setLineColor(r).setQuantityBorderColor(r).setLineLength(55);return a})))}}]),t}();function Z(t,e){var n=t.el,i=t.type,o=t.fillColor,r=void 0===o?"#ccc":o,a=t.style,s=void 0===a?{}:a,c="landscape"===i,l=document.createElement("div");l.classList.add("fullScreenBtn"),l.innerHTML=c?G({fillColor:r},"landscape"):G({fillColor:r}),l.addEventListener("click",e),l.style.right=s.right,n.contentWindow.document.body.appendChild(l)}function G(t,e){var n=t.fillColor;return"landscape"===e?'<svg t="1621511438709" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10429"><path d="M625.777778 568.888889h341.333333c34.133333 0 56.888889 22.755556 56.888889 56.888889s-22.755556 56.888889-56.888889 56.888889h-199.111111l238.933333 238.933333c22.755556 22.755556 22.755556 62.577778 0 85.333333-22.755556 22.755556-62.577778 22.755556-85.333333 0L682.666667 768V967.111111c0 34.133333-22.755556 56.888889-56.888889 56.888889s-56.888889-22.755556-56.888889-56.888889v-341.333333c0-34.133333 22.755556-56.888889 56.888889-56.888889zM56.888889 341.333333h199.111111L17.066667 108.088889C-5.688889 85.333333-5.688889 45.511111 17.066667 22.755556S79.644444 0 102.4 22.755556L341.333333 256V56.888889c0-34.133333 22.755556-56.888889 56.888889-56.888889s56.888889 22.755556 56.888889 56.888889v341.333333c0 34.133333-22.755556 56.888889-56.888889 56.888889H56.888889c-28.444444 0-56.888889-22.755556-56.888889-56.888889s28.444444-56.888889 56.888889-56.888889z" fill="'.concat(n,'" p-id="10430"></path></svg>'):'<svg t="1621511137390" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9915" data-spm-anchor-id="a313x.7781069.0.i9"><path d="M967.111111 1024h-342.869333a56.888889 56.888889 0 0 1-56.888889-56.888889v-0.455111a56.888889 56.888889 0 0 1 56.888889-56.888889h197.916444l-236.088889-236.088889a61.952 61.952 0 0 1 87.608889-87.608889l236.088889 236.088889v-197.916444a56.888889 56.888889 0 0 1 56.888889-56.888889H967.111111a56.888889 56.888889 0 0 1 56.888889 56.888889V967.111111a56.888889 56.888889 0 0 1-56.888889 56.888889zM398.222222 113.777778H201.045333l235.178667 235.178666a61.724444 61.724444 0 1 1-87.267556 87.267556L113.777778 201.045333V398.222222a56.888889 56.888889 0 0 1-113.777778 0V56.888889a56.888889 56.888889 0 0 1 56.888889-56.888889h341.333333a56.888889 56.888889 0 0 1 0 113.777778z" fill="'.concat(n,'" p-id="9916"></path></svg>')}function X(t,e,n,i){var o=t.document.querySelector(".noWrap-ODIQgNap"),r=document.createElement("div");r.classList.add("price-box"),!i&&r.classList.add("hide"),r.innerHTML="<div class='block sell'>\n                        <span class='num'>\n                            ".concat(e,"\n                        </span>\n                        <span class='text'>\n                            sell\n                        </span>\n                    </div>\n                    <div class='block buy'>\n                        <span class='num'>\n                            ").concat(n,"\n                        </span>\n                        <span class='text'>\n                            buy\n                        </span>\n                    </div>");var a=r.querySelector(".sell .num"),s=r.querySelector(".buy .num");o&&o.appendChild(r);var c=0,l=function(t){Number(c)<Number(t)?(r.classList.add("rise"),r.classList.remove("fall")):(r.classList.add("fall"),r.classList.remove("rise")),a.innerText=t,c=t},u=function(t){s.innerText=t},d=function(){r.classList.remove("hide")},h=function(){r.classList.add("hide")};return{setSellPrice:l,setBuyPrice:u,show:d,hide:h}}function Y(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];if(e&&clearTimeout(e),i){var c=!e;e=setTimeout((function(){e=null}),n),c&&t.apply(this,a)}else e=setTimeout((function(){t.apply(o,a)}),n)}}var tt={props:{initialValue:{type:Object,default:null},options:{type:Object,default:function(){return{}}}},setup:function(t,e){var n=Object(i["J"])([90,-90].includes(window.orientation)),o=Object.keys(c["e"]).map((function(t){return{text:c["f"][t],value:t}})),r=Object(i["J"])(null);Object(i["B"])((function(){var o=t.options;r.value=K({containerId:"#tv-chart-container",initial:Object(s["a"])({},t.initialValue),property:o.property,indicators:o.indicators,extension:o.extension},(function(){Object(i["S"])(r).subscribe("isLandscape",(function(t){n.value=t,e.emit("orientationChanged",t)})),Object(i["S"])(r).nativeSubscribe("study_event",(function(t,n){"remove"===n&&t&&e.emit("indicatorRemoved",t)})),e.emit("onChartReady")}))})),Object(i["C"])((function(){Object(i["S"])(r).destroyed()}));var a=function(){var t;(t=Object(i["S"])(r)).setChartType.apply(t,arguments)},l=function(t){Object(i["S"])(r).setSymbol(t).then((function(t){e.emit("symbolChanged",t)}))},u=function(){var t;(t=Object(i["S"])(r)).setResolution.apply(t,arguments)},d=function(){var t;(t=Object(i["S"])(r)).updateIndicator.apply(t,arguments)},h=function(){var t;(t=Object(i["S"])(r)).updateLineData.apply(t,arguments)},p=function(){var t;(t=Object(i["S"])(r)).updatePosition.apply(t,arguments)},b=function(){var t;(t=Object(i["S"])(r)).updateProperty.apply(t,arguments)},f=function(t,e){Object(i["S"])(r).setTick(t,e)};return{resolutionList:o,isLandscape:n,chart:r,setSymbol:l,setResolution:u,updateIndicator:d,updatePosition:p,setChartType:a,updateLineData:h,updateProperty:b,setTick:f}}};n("0373");tt.render=a,tt.__scopeId="data-v-e79e8368";e["a"]=tt},"3e395":function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#ff6d00"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#26c6da"},plot_2:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#fbc02d"}},precision:e,bands:[{color:"#808080",linestyle:2,linewidth:1,visible:!0,value:70},{color:"#808080",linestyle:2,linewidth:1,visible:!0,value:30}],filledAreasStyle:{fill_0:{color:"#800080",transparency:90,visible:!0}},inputs:{in_0:6,in_1:12,in_2:24}},plots:[{id:"plot_0",type:"line"},{id:"plot_1",type:"line"},{id:"plot_2",type:"line"}],styles:{plot_0:{title:"Plot",histogramBase:0,joinPoints:!1},plot_1:{title:"Plot",histogramBase:0,joinPoints:!1},plot_2:{title:"Plot",histogramBase:0,joinPoints:!1}},description:"Custom Relative Strength Index",shortDescription:"RSI",is_price_study:!1,bands:[{id:"hline_0",name:"UpperLimit"},{id:"hline_1",name:"LowerLimit"}],filledAreas:[{id:"fill_0",objAId:"hline_0",objBId:"hline_1",type:"hline_hline",title:"Hlines Background"}],inputs:[{id:"in_0",name:"Length",defval:6,type:"integer",min:1,max:2e3},{id:"in_1",name:"Length",defval:12,type:"integer",min:1,max:2e3},{id:"in_2",name:"Length",defval:24,type:"integer",min:1,max:2e3}],id:"Custom Relative Strength Index@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.f_0=function(e){return t.Std.max(e,0)},this.f_1=function(e){return-t.Std.min(e,0)},this.f_2=function(e,n){return t.Std.eq(e,0)?100:t.Std.eq(n,0)?0:100-100/(1+n/e)},this.main=function(e,n){var i,o,r,a,s,c,l,u,d,h,p,b,f,m,v,y;return this._context=e,this._input=n,i=t.Std.close(this._context),o=this._input(0),r=this._input(1),a=this._input(2),s=this._context.new_var(i),c=t.Std.change(s),l=this.f_0(c),u=this._context.new_var(l),d=t.Std.rma(u,o,this._context),h=t.Std.rma(u,r,this._context),p=t.Std.rma(u,a,this._context),b=this.f_1(c),f=this._context.new_var(b),m=t.Std.rma(f,o,this._context),v=t.Std.rma(f,r,this._context),y=t.Std.rma(f,a,this._context),[this.f_2(m,d),this.f_2(v,h),this.f_2(y,p)]}}}}},"4ae1":function(t,e,n){var i=n("23e7"),o=n("d066"),r=n("1c0b"),a=n("825a"),s=n("861d"),c=n("7c73"),l=n("0538"),u=n("d039"),d=o("Reflect","construct"),h=u((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),p=!u((function(){d((function(){}))})),b=h||p;i({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(t,e){r(t),a(e);var n=arguments.length<3?t:r(arguments[2]);if(p&&!h)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var o=n.prototype,u=c(s(o)?o:Object.prototype),b=Function.apply.call(t,u,e);return s(b)?b:u}})},"4c17":function(t,e,n){"use strict";n("031c")},"585c":function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"red"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"blue"},plot_2:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"green"}},precision:e,inputs:{in_0:9,in_1:3,in_2:3}},plots:[{id:"plot_0",type:"line"},{id:"plot_1",type:"line"},{id:"plot_2",type:"line"}],styles:{plot_0:{title:"Drawings",histogramBase:0,joinPoints:!1},plot_1:{title:"Drawings",histogramBase:0,joinPoints:!1},plot_2:{title:"Drawings",histogramBase:0,joinPoints:!1}},description:"Custom KDJ",shortDescription:"KDJ",is_price_study:!1,inputs:[{id:"in_0",name:"Period",defval:9,type:"integer",min:1,max:2e3},{id:"in_1",name:"Signal",defval:3,type:"integer",min:1,max:2e3},{id:"in_2",name:"Signal",defval:3,type:"integer",min:1,max:2e3}],id:"Custom K D J/Divergence@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.main=function(e,n){var i=n(0),o=n(1),r=n(2),a=t.Std.close(e),s=t.Std.high(e),c=t.Std.low(e),l=e.new_var(s),u=e.new_var(c),d=a,h=t.Std.lowest(u,i),p=t.Std.highest(l,i),b=(d-h)/(p-h)*100,f=isNaN(this.prevK)?50:this.prevK,m=isNaN(this.prevD)?50:this.prevD,v=(o-1)/o*f+1/o*b,y=(r-1)/r*m+1/r*v,O=3*v-2*y;return this.prevK=v,this.prevD=y,[v,y,O]}}}}},"66e7":function(t,e,n){"use strict";n("1d5f")},"83cb":function(t,e,n){var i={"./EMA.js":"a477","./KDJ.js":"585c","./MA.js":"eb37","./MACD.js":"150b","./RSI.js":"3e395","./WR.js":"ed9f","./index.js":"ad16"};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="83cb"},8545:function(t,e,n){},"927a":function(t,e,n){"use strict";n("2520")},"98ea":function(t,e,n){"use strict";n("19bb")},a477:function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#ff6d00"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#26c6da"}},precision:e,inputs:{in_0:12,in_1:26,in_2:"close",in_3:0}},plots:[{id:"plot_0",type:"line"},{id:"plot_1",type:"line"}],styles:{plot_0:{title:"Plot",histogramBase:0,joinPoints:!1},plot_1:{title:"Plot",histogramBase:0,joinPoints:!1}},description:"Custom Moving Average Exponential",shortDescription:"EMA",is_price_study:!0,inputs:[{id:"in_0",name:"Length",defval:12,type:"integer",min:1,max:1e4},{id:"in_1",name:"Length",defval:26,type:"integer",min:1,max:1e4},{id:"in_2",name:"Source",defval:"close",type:"source",options:["open","high","low","close","hl2","hlc3","ohlc4"]},{id:"in_3",name:"Offset",defval:0,type:"integer",min:-1e4,max:1e4}],id:"Custom Moving Average Exponential@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.main=function(e,n){var i,o,r,a,s,c;return this._context=e,this._input=n,r=this._input(0),a=this._input(1),s=this._input(2),c=this._input(3),i=t.Std[s](this._context),o=this._context.new_var(i),[{value:t.Std.ema(o,r,this._context),offset:c},{value:t.Std.ema(o,a,this._context),offset:c}]}}}}},a7e3:function(t,e,n){"use strict";n("b0c0");var i=n("f2bf"),o=Object(i["bb"])("data-v-2d35c165");Object(i["H"])("data-v-2d35c165");var r={class:"content"},a={class:"type"},s={class:"list"},c={class:"type"},l={class:"list"};Object(i["F"])();var u=o((function(t,e,n,u,d,h){var p=Object(i["M"])("van-popup");return Object(i["E"])(),Object(i["j"])(p,{show:d.showList,"onUpdate:show":e[2]||(e[2]=function(t){return d.showList=t}),"close-on-click-overlay":!1,closeable:"","get-container":h.getContainer,round:"",style:{width:"90%"},onClickCloseIcon:h.onClose,onClosed:h.closed},{default:o((function(){return[Object(i["n"])("div",r,[Object(i["n"])("span",a,Object(i["Q"])(t.$t("chart.mainStudy")),1),Object(i["n"])("div",s,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(d.MAINSTUDIES,(function(t,e){return Object(i["E"])(),Object(i["j"])("span",{key:e,class:["item of-1px",{active:d.mainStudy===t.name}],style:[{"font-size":t.label.length>=6?"0.28rem":""}],onTouchend:function(e){return h.onClick("main",t.name)}},Object(i["Q"])(t.label),47,["onTouchend"])})),128))]),Object(i["n"])("span",c,Object(i["Q"])(t.$t("chart.subStudy")),1),Object(i["n"])("div",l,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(d.SUBSTUDIES,(function(t,e){return Object(i["E"])(),Object(i["j"])("span",{key:e,class:["item of-1px",{active:d.subStudy===t.name}],style:[{"font-size":t.label.length>6?"0.28rem":""}],onTouchend:function(e){return h.onClick("sub",t.name)}},Object(i["Q"])(t.label),47,["onTouchend"])})),128)),(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(5-d.SUBSTUDIES.length%5,(function(t){return Object(i["E"])(),Object(i["j"])("span",{key:"other"+t,class:"item of-1px",style:{opacity:"0"}})})),128))]),Object(i["n"])("div",{class:"submit",onClick:e[1]||(e[1]=function(){return h.onSubmit&&h.onSubmit.apply(h,arguments)})},Object(i["Q"])(t.$t("confirm")),1)])]})),_:1},8,["show","get-container","onClickCloseIcon","onClosed"])})),d=(n("7db0"),n("3b6b")),h={props:{show:{type:Boolean,default:!1},propMainStudy:{type:String,default:""},propSubStudy:{type:String,default:""}},data:function(){return{MAINSTUDIES:d["a"],SUBSTUDIES:d["b"],list:[],mainStudy:"",subStudy:"",showList:!1}},watch:{show:function(t){this.showList=t},propMainStudy:{immediate:!0,handler:function(t){var e=this.MAINSTUDIES.find((function(e){return e.name===t}));this.mainStudy=e?t:null}},propSubStudy:{immediate:!0,handler:function(t){var e=this.SUBSTUDIES.find((function(e){return e.name===t}));this.subStudy=e?t:null}}},methods:{onSubmit:function(){this.mainStudy!==this.propMainStudy&&(this.$emit("removeStudy","main"),this.$emit("createStudy","main",this.mainStudy)),this.subStudy!==this.propSubStudy&&(this.$emit("removeStudy","sub"),this.$emit("createStudy","sub",this.subStudy)),this.onClose()},onClose:function(){this.$emit("update:show",!1)},closed:function(){this.mainStudy=this.propMainStudy,this.subStudy=this.propSubStudy,this.$emit("update:show",!1)},onClick:function(t,e){switch(t){case"main":this.mainStudy=this.mainStudy===e?"":e;break;case"sub":this.subStudy=this.subStudy===e?"":e;break}},getContainer:function(){return document.body}}};n("18f5");h.render=u,h.__scopeId="data-v-2d35c165";e["a"]=h},ad16:function(t,e,n){"use strict";n.r(e);n("d3b7"),n("d81d"),n("4de4"),n("ddb0"),n("caad"),n("2532");var i=n("83cb");e["default"]=function(t){return Promise.resolve(i.keys().filter((function(t){return!t.includes("index")})).map((function(e,n){return i(e).default(t)})))}},ba6c:function(t,e,n){},be61:function(t,e,n){"use strict";n("c928")},c49d:function(t,e,n){"use strict";n("09fc")},c928:function(t,e,n){},d023:function(t,e,n){"use strict";n("8545")},e13f:function(t,e,n){"use strict";n.r(e);var i=n("f2bf"),o=Object(i["bb"])("data-v-0a048fd0");Object(i["H"])("data-v-0a048fd0");var r={class:"setting-wrap"},a={class:"page-wrap"},s={class:"notice"};Object(i["F"])();var c=o((function(t,e,n,c,l,u){var d=Object(i["M"])("van-nav-bar"),h=Object(i["M"])("van-icon"),p=Object(i["M"])("van-cell"),b=Object(i["M"])("van-cell-group"),f=Object(i["M"])("van-switch");return Object(i["E"])(),Object(i["j"])("div",r,[Object(i["n"])(d,{"left-arrow":"","left-text":t.$t("common.back"),title:t.$t("common.chart"),onClickLeft:t.$attrs.onBackEvent},null,8,["left-text","title","onClickLeft"]),Object(i["n"])("div",a,[Object(i["n"])(b,{class:"group"},{default:o((function(){return[Object(i["n"])(p,{title:t.$t("chart.candleStick"),onClick:e[1]||(e[1]=function(t){return c.changeType(1)})},Object(i["l"])({icon:o((function(){return[Object(i["n"])(h,{class:"icon icon_yinyangzhu"})]})),_:2},[1===t.chartSet.chartType?{name:"right-icon",fn:o((function(){return[Object(i["n"])(h,{color:"#58C225",name:"success"})]}))}:void 0]),1032,["title"]),Object(i["n"])(p,{title:t.$t("chart.barLine"),onClick:e[2]||(e[2]=function(t){return c.changeType(0)})},Object(i["l"])({icon:o((function(){return[Object(i["n"])(h,{class:"icon icon_zhuxingtu"})]})),_:2},[0===t.chartSet.chartType?{name:"right-icon",fn:o((function(){return[Object(i["n"])(h,{color:"#58C225",name:"success"})]}))}:void 0]),1032,["title"]),Object(i["n"])(p,{title:t.$t("chart.chartLine"),onClick:e[3]||(e[3]=function(t){return c.changeType(2)})},Object(i["l"])({icon:o((function(){return[Object(i["n"])(h,{class:"icon icon_tubiaoxian"})]})),_:2},[2===t.chartSet.chartType?{name:"right-icon",fn:o((function(){return[Object(i["n"])(h,{color:"#58C225",name:"success"})]}))}:void 0]),1032,["title"])]})),_:1}),Object(i["n"])(b,{class:"group"},{default:o((function(){return[Object(i["n"])(p,{title:t.$t("chart.buyLine")},{"right-icon":o((function(){return[Object(i["n"])(f,{modelValue:t.chartSet.showBuyPrice,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.chartSet.showBuyPrice=e}),"active-color":"#53C41C",size:"22px",onChange:e[5]||(e[5]=function(t){return c.handleChartSet("showBuyPrice")})},null,8,["modelValue"])]})),_:1},8,["title"]),Object(i["n"])(p,{title:t.$t("chart.sellLine")},{"right-icon":o((function(){return[Object(i["n"])(f,{modelValue:t.chartSet.showSellPrice,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.chartSet.showSellPrice=e}),"active-color":"#53C41C",size:"22px",onChange:e[7]||(e[7]=function(t){return c.handleChartSet("showSellPrice")})},null,8,["modelValue"])]})),_:1},8,["title"]),Object(i["n"])(p,{title:t.$t("chart.tradeLevel")},{"right-icon":o((function(){return[Object(i["n"])(f,{modelValue:t.chartSet.tradeLevel,"onUpdate:modelValue":e[8]||(e[8]=function(e){return t.chartSet.tradeLevel=e}),"active-color":"#53C41C",size:"22px",onChange:e[9]||(e[9]=function(t){return c.handleChartSet("tradeLevel")})},null,8,["modelValue"])]})),_:1},8,["title"]),Object(i["n"])("p",s,Object(i["Q"])(t.$t("chart.noticeTips")),1),Object(i["n"])(p,{title:t.$t("chart.OHLC")},{"right-icon":o((function(){return[Object(i["n"])(f,{modelValue:t.chartSet.showSeriesOHLC,"onUpdate:modelValue":e[10]||(e[10]=function(e){return t.chartSet.showSeriesOHLC=e}),"active-color":"#53C41C",size:"22px",onChange:e[11]||(e[11]=function(t){return c.handleChartSet("showSeriesOHLC")})},null,8,["modelValue"])]})),_:1},8,["title"]),Object(i["n"])(p,{title:t.$t("chart.upAndDown")},{"right-icon":o((function(){return[Object(i["n"])(f,{modelValue:t.chartSet.showBarChange,"onUpdate:modelValue":e[12]||(e[12]=function(e){return t.chartSet.showBarChange=e}),"active-color":"#53C41C",size:"22px",onChange:e[13]||(e[13]=function(t){return c.handleChartSet("showBarChange")})},null,8,["modelValue"])]})),_:1},8,["title"])]})),_:1})])])})),l=n("5530"),u=n("ade3"),d=n("ca00"),h={setup:function(t){var e=Object(i["I"])({chartSet:{volumeSwitch:!1,showBuyPrice:!1,periodSeparator:!1,tradeLevel:!1,showSeriesOHLC:!1,showBarChange:!1,showSellPrice:!1,chartType:1}}),n=function(t){e.chartSet.chartType=t;var n=JSON.parse(Object(d["n"])("chartConfig"));Object(d["m"])(n)?Object(d["o"])("chartConfig",JSON.stringify({chartType:t})):(n["chartType"]=t,Object(d["o"])("chartConfig",JSON.stringify(n)))},o=function(t){var n=JSON.parse(Object(d["n"])("chartConfig"));Object(d["m"])(n)?Object(d["o"])("chartConfig",JSON.stringify(Object(u["a"])({},t,e.chartSet[t]))):(n[t]=e.chartSet[t],Object(d["o"])("chartConfig",JSON.stringify(n)))};return Object(i["x"])((function(){var t=JSON.parse(Object(d["n"])("chartConfig"));Object(d["m"])(t)?Object(d["o"])("chartConfig",JSON.stringify({chartType:1})):e.chartSet=t})),Object(l["a"])({changeType:n,handleChartSet:o},Object(i["R"])(e))}};n("98ea");h.render=c,h.__scopeId="data-v-0a048fd0";e["default"]=h},eb37:function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#0a74e0"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#e49200"},plot_2:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#d604a4"},plot_3:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#21a900"},plot_4:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#780be4"}},precision:e,inputs:{in_0:5,in_1:20,in_2:30,in_3:60,in_4:250,in_5:"close",in_6:0}},plots:[{id:"plot_0",type:"line"},{id:"plot_1",type:"line"},{id:"plot_2",type:"line"},{id:"plot_3",type:"line"},{id:"plot_4",type:"line"}],styles:{plot_0:{title:"MA1",histogramBase:0,joinPoints:!1},plot_1:{title:"MA2",histogramBase:0,joinPoints:!1},plot_2:{title:"MA3",histogramBase:0,joinPoints:!1},plot_3:{title:"MA4",histogramBase:0,joinPoints:!1},plot_4:{title:"MA5",histogramBase:0,joinPoints:!1}},description:"Moving Average mock",shortDescription:"MA",is_price_study:!0,inputs:[{id:"in_0",name:"MA1",defval:5,type:"integer",min:1,max:300},{id:"in_1",name:"MA2",defval:20,type:"integer",min:1,max:300},{id:"in_2",name:"MA3",defval:30,type:"integer",min:1,max:300},{id:"in_3",name:"MA4",defval:60,type:"integer",min:1,max:300},{id:"in_4",name:"MA5",defval:250,type:"integer",min:1,max:300},{id:"in_5",name:"Source",defval:"close",type:"source",options:["open","high","low","close","hl2","hlc3","ohlc4"]},{id:"in_6",name:"Offset",defval:0,type:"integer",min:-1e4,max:1e4}],id:"Moving Average mock@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.main=function(e,n){var i,o,r,a,s,c,l,u;return this._context=e,this._input=n,o=this._input(0),r=this._input(1),a=this._input(2),s=this._input(3),c=this._input(4),l=t.Std[this._input(5)](this._context),u=this._input(6),i=this._context.new_var(l),[{value:t.Std.sma(i,o,this._context),offset:u},{value:t.Std.sma(i,r,this._context),offset:u},{value:t.Std.sma(i,a,this._context),offset:u},{value:t.Std.sma(i,s,this._context),offset:u},{value:t.Std.sma(i,c,this._context),offset:u}]}}}}},ece0:function(t,e,n){},ed9f:function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_price_study:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#000080"}},precision:e,bands:[{color:"#808080",linestyle:2,linewidth:1,visible:!0,value:-20},{color:"#808080",linestyle:2,linewidth:1,visible:!0,value:-80}],filledAreasStyle:{fill_0:{color:"#000080",transparency:90,visible:!0}},inputs:{in_0:14}},plots:[{id:"plot_0",type:"line"}],styles:{plot_0:{title:"Plot",histogramBase:0,joinPoints:!1}},bands:[{id:"hline_0",name:"UpperLimit"},{id:"hline_1",name:"LowerLimit"}],filledAreas:[{id:"fill_0",objAId:"hline_0",objBId:"hline_1",type:"hline_hline",title:"Hlines Background"}],inputs:[{id:"in_0",name:"length",defval:14,type:"integer",min:1,max:2e3}],description:"Custom Williams %R",shortDescription:"WR",id:"Custom Williams %R@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.f_0=function(t,e,n){return 100*(t-e)/(e-n)},this.main=function(e,n){var i,o,r,a,s,c,l;return this._context=e,this._input=n,i=this._input(0),o=t.Std.high(this._context),r=this._context.new_var(o),a=t.Std.highest(r,i,this._context),s=t.Std.low(this._context),c=this._context.new_var(s),l=t.Std.lowest(c,i,this._context),[this.f_0(t.Std.close(this._context),a,l)]}}}}},f67f:function(t,e,n){"use strict";n("ba6c")},f750:function(t,e,n){"use strict";n.r(e);var i=n("f2bf"),o=Object(i["bb"])("data-v-4917654e"),r=o((function(t,e,n,r,a,s){var c=Object(i["M"])("SideMenu"),l=Object(i["M"])("tv"),u=Object(i["M"])("Indicator"),d=Object(i["M"])("van-popup"),h=Object(i["M"])("ChartSetting");return Object(i["E"])(),Object(i["j"])(i["a"],null,[Object(i["n"])("div",{class:["chartWrap",{landscape:r.isLandscape}]},[r.initialValue?(Object(i["E"])(),Object(i["j"])(l,{key:0,ref:"chartRef","initial-value":r.initialValue,options:r.chartConfig,"position-list":r.positionList,onChangeOrientation:r.changeOrientation,onIndicatorRemoved:r.indicatorRemoved,onSymbolChanged:r.symbolChanged},Object(i["l"])({_:2},[r.isLandscape?{name:"sideMenu",fn:o((function(){return[Object(i["n"])(c,{ref:r.sideMenuRef,chart:r.chartRef.chart,class:["side-menu-Component",{landscape:r.isLandscape}],onTogglePriceBox:r.togglePriceBox},null,8,["chart","class","onTogglePriceBox"])]}))}:void 0]),1032,["initial-value","options","position-list","onChangeOrientation","onIndicatorRemoved","onSymbolChanged"])):Object(i["k"])("",!0)],2),Object(i["n"])(d,{show:r.showIndicator,"onUpdate:show":e[1]||(e[1]=function(t){return r.showIndicator=t}),position:"right",style:{height:"100%",width:"100%"}},{default:o((function(){return[r.showIndicator?(Object(i["E"])(),Object(i["j"])(u,{key:0,onBack:r.onBack},null,8,["onBack"])):Object(i["k"])("",!0)]})),_:1},8,["show"]),Object(i["n"])(d,{show:r.showSetting,"onUpdate:show":e[2]||(e[2]=function(t){return r.showSetting=t}),position:"right",style:{height:"100%",width:"100%"}},{default:o((function(){return[Object(i["n"])(h,{onBackEvent:r.onBackEvent},null,8,["onBackEvent"])]})),_:1},8,["show"])],64)})),a=n("5530"),s=n("ade3"),c=(n("d82d"),n("7278")),l=(n("b0c0"),n("d81d"),n("4de4"),n("7db0"),n("3d18")),u=n("5502"),d=n("2ae1"),h=n("6c02"),p=n("e13f"),b=n("ca00"),f=Object(i["bb"])("data-v-0b338690");Object(i["H"])("data-v-0b338690");var m={class:"left"},v={class:"right"};Object(i["F"])();var y=f((function(t,e,n,o,r,a){var s=Object(i["M"])("Indicator"),c=Object(i["M"])("van-popup"),l=Object(i["M"])("ChartSetting");return o.showSelf?(Object(i["E"])(),Object(i["j"])("div",{key:0,ref:function(t){return o.componentRef=t}},[Object(i["n"])("div",{class:"side-menu",onClick:e[1]||(e[1]=function(){return o.showSelf=!1})},[Object(i["n"])("div",m,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(o.resolutionList,(function(t){return Object(i["E"])(),Object(i["j"])("span",{key:t.value,class:"item",onClick:function(e){return n.chart.setResolution(t.value)}},Object(i["Q"])(t.text),9,["onClick"])})),128))]),Object(i["n"])("div",v,[(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(o.rightMenu,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t.value,class:"item",onClick:Object(i["ab"])(t.method,["stop"])},[Object(i["n"])("i",{class:["icon",t.icon]},null,2)],8,["onClick"])})),128))])]),o.componentRef?(Object(i["E"])(),Object(i["j"])(c,{key:0,show:o.showIndicator,"onUpdate:show":e[2]||(e[2]=function(t){return o.showIndicator=t}),position:"right",style:{height:"100%",width:"100%"},teleport:o.componentRef},{default:f((function(){return[o.showIndicator?(Object(i["E"])(),Object(i["j"])(s,{key:0,onBack:o.onBack},null,8,["onBack"])):Object(i["k"])("",!0)]})),_:1},8,["show","teleport"])):Object(i["k"])("",!0),o.componentRef?(Object(i["E"])(),Object(i["j"])(c,{key:1,show:o.showSetting,"onUpdate:show":e[3]||(e[3]=function(t){return o.showSetting=t}),position:"right",style:{height:"100%",width:"100%"},teleport:o.componentRef},{default:f((function(){return[o.showSetting?(Object(i["E"])(),Object(i["j"])(l,{key:0,onBackEvent:o.onBackEvent},null,8,["onBackEvent"])):Object(i["k"])("",!0)]})),_:1},8,["show","teleport"])):Object(i["k"])("",!0)],512)):Object(i["k"])("",!0)})),O=(n("b64b"),n("3b6b")),j=Object(i["bb"])("data-v-afa391d6");Object(i["H"])("data-v-afa391d6");var _={class:"indicator-wrap"},g={class:"indicator"},S=Object(i["n"])("span",{class:"remark"}," 要添加指标，请点击窗口标题 ",-1);Object(i["F"])();var w,k=j((function(t,e,n,o,r,a){var s=Object(i["M"])("van-nav-bar"),c=Object(i["M"])("van-cell"),l=Object(i["M"])("van-icon"),u=Object(i["M"])("van-button"),d=Object(i["M"])("van-swipe-cell"),h=Object(i["M"])("van-cell-group"),p=Object(i["M"])("StudyList"),b=Object(i["M"])("van-popup");return Object(i["E"])(),Object(i["j"])("div",_,[Object(i["n"])(s,{"left-arrow":"","left-text":"返回","right-text":o.isEdit?"完成":"编辑",title:"指标",onClickLeft:o.onClickLeft,onClickRight:o.onClickRight},null,8,["right-text","onClickLeft","onClickRight"]),Object(i["n"])("div",g,[Object(i["n"])(h,null,{default:j((function(){return[Object(i["n"])(c,{class:"indicator-type","is-link":"",title:"主窗口",onClick:e[1]||(e[1]=function(t){return o.openStudyList("main")})}),(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(o.computedMainList,(function(t){return Object(i["E"])(),Object(i["j"])(d,{key:t.text,ref:function(e){return o.refMap[t.text]=e},"before-close":function(e){return o.beforeClose(e,t)},class:"item",disabled:""},{left:j((function(){return[Object(i["n"])("div",{class:"left",onClick:function(e){return o.openRight(o.refMap[t.text])}},[Object(i["n"])(l,{name:"clear"})],8,["onClick"])]})),right:j((function(){return[Object(i["n"])(u,{square:"",text:"删除",type:"danger",onClick:function(e){return o.onDelete(t.name)}},null,8,["onClick"])]})),default:j((function(){return[Object(i["n"])(c,{title:t.text,value:t.value},null,8,["title","value"])]})),_:2},1032,["before-close"])})),128)),Object(i["n"])(c,{class:"indicator-type","is-link":"",title:"指标窗口",onClick:e[2]||(e[2]=function(t){return o.openStudyList("sub")})}),(Object(i["E"])(!0),Object(i["j"])(i["a"],null,Object(i["K"])(o.computedSubList,(function(t){return Object(i["E"])(),Object(i["j"])(d,{key:t.value,ref:function(e){return o.refMap[t.text]=e},"before-close":function(e){return o.beforeClose(e,t)},class:"item",disabled:""},{left:j((function(){return[Object(i["n"])("div",{class:"left",onClick:function(e){return o.openRight(o.refMap[t.text])}},[Object(i["n"])(l,{name:"clear"})],8,["onClick"])]})),right:j((function(){return[Object(i["n"])(u,{square:"",text:"删除",type:"danger",onClick:function(e){return o.onDelete(t.name)}},null,8,["onClick"])]})),default:j((function(){return[Object(i["n"])(c,{title:t.text,value:t.value},null,8,["title","value"])]})),_:2},1032,["before-close"])})),128))]})),_:1}),S]),Object(i["n"])(b,{show:o.showMainStudy,"onUpdate:show":e[4]||(e[4]=function(t){return o.showMainStudy=t}),position:"right",style:{height:"100%",width:"100%"}},{default:j((function(){return[o.showMainStudy?(Object(i["E"])(),Object(i["j"])(p,{key:0,type:o.indicatorType,onAddStudy:o.addStudy,onBack:e[3]||(e[3]=function(t){return o.showMainStudy=!1})},null,8,["type","onAddStudy"])):Object(i["k"])("",!0)]})),_:1},8,["show"])])})),C=n("2909"),P=(n("68ef"),n("2221"),n("c199")),x=n("d282"),L=n("8da3"),I=n("1325"),T=n("482d"),M=n("7e3e"),B=n("8c53"),E=n("9cf2"),D=n("cdd8"),z=n("4eda"),[R,A]=Object(x["a"])("swipe-cell"),q=Object(i["o"])({name:R,props:{disabled:Boolean,leftWidth:[Number,String],rightWidth:[Number,String],beforeClose:Function,stopPropagation:Boolean,name:{type:[Number,String],default:""}},emits:["open","close","click"],setup(t,{emit:e,slots:n}){var o,r,a,s=Object(i["J"])(),c=Object(i["J"])(),l=Object(i["J"])(),u=Object(i["I"])({offset:0,dragging:!1}),d=Object(D["a"])(),h=t=>t.value?Object(B["a"])(t).width:0,p=Object(i["h"])(()=>Object(L["b"])(t.leftWidth)?+t.leftWidth:h(c)),b=Object(i["h"])(()=>Object(L["b"])(t.rightWidth)?+t.rightWidth:h(l)),f=n=>{o=!0,u.offset="left"===n?p.value:-b.value,e("open",{name:t.name,position:n})},m=n=>{u.offset=0,o&&(o=!1,e("close",{name:t.name,position:n}))},v=t=>{var e=Math.abs(u.offset),n=.15,i=o?1-n:n,r="left"===t?p.value:b.value;r&&e>r*i?f(t):m(t)},y=e=>{t.disabled||(a=u.offset,d.start(e))},O=e=>{if(!t.disabled){var{deltaX:n}=d;if(d.move(e),d.isHorizontal()){r=!0,u.dragging=!0;var i=!o||n.value*a<0;i&&Object(I["a"])(e,t.stopPropagation),u.offset=Object(T["b"])(n.value+a,-b.value,p.value)}}},j=()=>{u.dragging&&(u.dragging=!1,v(u.offset>0?"left":"right"),setTimeout(()=>{r=!1},0))},_=(n="outside")=>{e("click",n),o&&!r&&Object(M["a"])({interceptor:t.beforeClose,args:[{name:t.name,position:n}],done:()=>m(n)})},g=(t,e)=>n=>{e&&n.stopPropagation(),_(t)},S=(t,e)=>{var o=n[t];if(o)return Object(i["n"])("div",{ref:e,class:A(t),onClick:g(t,!0)},[o()])};return Object(z["a"])({open:f,close:m}),Object(E["a"])(s,()=>_("outside"),{eventName:"touchstart"}),()=>{var t={transform:"translate3d("+u.offset+"px, 0, 0)",transitionDuration:u.dragging?"0s":".6s"};return Object(i["n"])("div",{ref:s,class:A(),onClick:g("cell"),onTouchstart:y,onTouchmove:O,onTouchend:j,onTouchcancel:j},[Object(i["n"])("div",{class:A("wrapper"),style:t},[S("left",c),null==n.default?void 0:n.default(),S("right",l)])])}}}),N=Object(P["a"])(q),J=N,V=(n("5246"),n("6b41")),Q=(n("159b"),n("99af"),n("a7e3")),H={name:"Indicator",components:(w={},Object(s["a"])(w,V["a"].name,V["a"]),Object(s["a"])(w,J.name,J),Object(s["a"])(w,"StudyList",Q["a"]),w),emits:["back"],setup:function(t,e){var n=Object(i["J"])(!1),o=Object(i["J"])({});try{o.value=JSON.parse(Object(b["n"])("chartConfig"))||{}}catch(y){}var r={},a=Object(i["h"])((function(){var t;return(null===(t=Object(i["S"])(o).indicators)||void 0===t?void 0:t.filter((function(t){return t.params[0]})).map((function(t){return{text:t.label,name:t.name}})))||[]})),s=Object(i["h"])((function(){var t;return(null===(t=Object(i["S"])(o).indicators)||void 0===t?void 0:t.filter((function(t){return!t.params[0]})).map((function(t){return{text:t.label,name:t.name}})))||[]})),c=Object(i["J"])(!1),l=function(){e.emit("back")},u=function(){c.value=!c.value,c.value?Object.keys(r).forEach((function(t){return r[t]&&r[t].open("left")})):Object.keys(r).forEach((function(t){return r[t]&&r[t].close()}))},d=function(t){t.open("right")},h=function(t,e){var n=t.position,i=e.ref;"cell"===n&&(i.close("right"),i.open("left"))},p=Object(i["J"])(""),f=function(t){p.value=t,n.value=!0},m=function(t){t.type;var e,n=t.value;o.value=JSON.parse(Object(b["n"])("chartConfig"))||{},Object(i["S"])(o).indicators=[].concat(Object(C["a"])((null===(e=Object(i["S"])(o))||void 0===e?void 0:e.indicators)||[]),[n]),Object(b["o"])("chartConfig",JSON.stringify(Object(i["S"])(o)))},v=function(t){var e;o.value=JSON.parse(Object(b["n"])("chartConfig"))||{},Object(i["S"])(o).indicators=null===(e=Object(i["S"])(o))||void 0===e?void 0:e.indicators.filter((function(e){return e.name!==t})),Object(b["o"])("chartConfig",JSON.stringify(Object(i["S"])(o)))};return{computedMainList:a,computedSubList:s,onClickLeft:l,openRight:d,onClickRight:u,isEdit:c,beforeClose:h,showMainStudy:n,openStudyList:f,addStudy:m,onDelete:v,indicatorType:p,refMap:r}}};n("4c17");H.render=k,H.__scopeId="data-v-afa391d6";var F=H,U={components:{Indicator:F,ChartSetting:p["default"]},props:{chart:{type:Object,default:null}},setup:function(t,e){var n=t.chart,o=Object(i["J"])(!1),r=Object(i["J"])({}),a=Object.keys(O["e"]).map((function(t){return{text:O["f"][t],value:t}})),s=Object(i["J"])(!1),c=function(){s.value=!1};Object(i["W"])(s,(function(t){t||(r.value=JSON.parse(Object(b["n"])("chartConfig"))||{},n.updateIndicator(Object(i["S"])(r).indicators))}));var l=Object(i["J"])(!1),u=function(){l.value=!1};Object(i["W"])(l,(function(t){t||(r.value=JSON.parse(Object(b["n"])("chartConfig"))||{},n.setChartType(Object(i["S"])(r).chartType),n.updateProperty(Object(i["S"])(r)))}));var d=function(t){r.value=JSON.parse(Object(b["n"])("chartConfig"))||{},Object(i["S"])(r).chartType=t,Object(b["o"])("chartConfig",JSON.stringify(Object(i["S"])(r))),n.updateProperty({chartType:t})},h=[{icon:"icon_yinyangzhu",method:function(){return d(1)}},{icon:"icon_zhuxingtu",method:function(){return d(0)}},{icon:"icon_tubiaoxian",method:function(){return d(2)}},{icon:"icon_f",method:function(){s.value=!0}},{icon:"icon_maimai",method:function(){e.emit("togglePriceBox")}},{icon:"icon_shezhi",method:function(){l.value=!0}}];Object(i["B"])((function(){n.subscribe("click",(function(){o.value=!0}))}));var p=Object(i["J"])(null);return{resolutionList:a,showIndicator:s,onBack:c,rightMenu:h,onBackEvent:u,showSetting:l,showSelf:o,componentRef:p}}};n("f67f");U.render=y,U.__scopeId="data-v-0b338690";var $,K=U,W={components:($={tv:l["a"]},Object(s["a"])($,c["a"].name,c["a"]),Object(s["a"])($,"ChartSetting",p["default"]),Object(s["a"])($,"SideMenu",K),Object(s["a"])($,"Indicator",F),$),setup:function(){var t=this,e=Object(h["e"])(),n=Object(h["d"])(),o=Object(u["c"])(),r=Object(i["h"])((function(){return o.state._quote.productList})),s=Object(i["h"])((function(){return o.state._trade.positionList})),c=Object(i["h"])((function(){return o.state._user.customerInfo}));c.value&&o.dispatch("_trade/queryPositionPage");var l=Object(i["J"])({property:{showBuyPrice:!0,showSellPrice:!0,showSeriesOHLC:!0,showBarChange:!0,chartType:"1",showSeriesTitle:!1}}),p=Object(i["J"])(null),f=Object(i["J"])(!1),m=Object(i["J"])(null),v=Object(i["J"])(!1),y=Object(i["J"])(!1),O=Object(i["J"])(!1),j=function(){O.value=!1};Object(i["W"])(O,(function(t){t||(Object.assign(l.value,JSON.parse(Object(b["n"])("chartConfig"))||{}),Object(i["S"])(p).chart.updateIndicator(Object(i["S"])(l).indicators))}));var _=Object(i["J"])(!1),g=function(){_.value=!0},S=function(){_.value=!1};Object(i["W"])(_,(function(t){t||(Object.assign(l.value,JSON.parse(Object(b["n"])("chartConfig"))||{}),Object(i["S"])(p).chart.setChartType(Object(i["S"])(l).property.chartType),Object(i["S"])(p).chart.updateProperty(Object(i["S"])(l)))}));var w=r.value.map((function(t){var e=t.symbolId;return e}));o.dispatch("_quote/querySymbolBaseInfoList",w),d["b"].send_subscribe(w);var k=Object(i["h"])((function(){return r.value.filter((function(t){return t.symbolName})).map((function(t){return{text:t.symbolName,description:t.symbolCode,symbolId:t.symbolId,digits:t.symbolDigits}}))})),C=Object(i["h"])((function(){if(!k.value.length)return null;var t=Object(b["n"])("symbolIdForChart");if(t){var e=k.value.find((function(e){return e.symbolId+""===t}));if(e)return e}return k.value[0]}));Object(i["W"])(C,(function(t){t&&Object(b["o"])("symbolIdForChart",t.symbolId)}));var P=function(){e.push({name:"Order",query:Object(a["a"])(Object(a["a"])({},n.query),{},{symbolId:Object(b["n"])("symbolIdForChart")||t.initialValue.value})})};try{Object.assign(l.value,JSON.parse(Object(b["n"])("chartConfig"))||{})}catch(B){console.error("图表缓存出错，进行清空"),Object(b["o"])("chartConfig","{}")}var x=function(){Object(i["S"])(l).property.showPriceBox=!Object(i["S"])(l).property.showPriceBox,Object(i["S"])(p).chart.togglePriceBox(Object(i["S"])(l).property.showPriceBox),Object(b["o"])("chartConfig",JSON.stringify(Object(i["S"])(l)))},L=function(t){Object(b["o"])("symbolIdForChart",t)},I=function(t){f.value=t,console.log("changeOrientation: ",t)},T=function(t){Object.assign(l.value,JSON.parse(Object(b["n"])("chartConfig"))||{}),Object(i["S"])(l).indicators=Object(i["S"])(l).indicators.filter((function(e){return e.name!==t})),Object(b["o"])("chartConfig",JSON.stringify(Object(i["S"])(l)))},M=function(t){Object(i["S"])(p).chart.setResolution(t)};return{computedProductList:k,initialValue:C,gotoOrder:P,onShowSetting:g,showSetting:_,onBackEvent:S,chartConfig:l,symbolChanged:L,isLandscape:f,changeOrientation:I,sideMenuRef:m,togglePriceBox:x,indicatorRemoved:T,showProductPopover:v,showResolutionPopover:y,onBack:j,showIndicator:O,chartRef:p,setResolution:M,positionList:s}}};n("66e7"),n("be61");W.render=r,W.__scopeId="data-v-4917654e";e["default"]=W}}]);
//# sourceMappingURL=chart.e11f22e8.js.map