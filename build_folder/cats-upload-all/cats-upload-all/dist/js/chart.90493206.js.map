{"version":3,"sources":["webpack:///./src/components/tradingview/tv.vue?78d5","webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./src/components/tradingview/datafeeds/userConfig/customIndicators/MACD.js","webpack:///./src/components/tradingview/datafeeds/userConfig/base.config.js","webpack:///./src/components/tradingview/datafeeds/userConfig/config.js","webpack:///./src/themes/cats/views/chart/product.vue","webpack:///./src/themes/cats/views/chart/icons/kIcon.vue","webpack:///./src/themes/cats/views/chart/icons/kIcon.vue?73ae","webpack:///./src/themes/cats/views/chart/components/StallsAndDeal/index.vue","webpack:///./src/themes/cats/views/chart/components/StallsAndDeal/index.vue?b587","webpack:///./src/themes/mt4/layout/topRight.vue","webpack:///./src/themes/mt4/layout/topRight.vue?15c2","webpack:///./src/themes/cats/views/chart/product.vue?20cd","webpack:///./src/themes/cats/views/chart/components/indicator.vue?b711","webpack:///./src/components/tradingview/tv.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/helpers.js","webpack:///./src/components/tradingview/datafeeds/userConfig/requestKData.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/history-provider.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/data-pulse-provider.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/quotes-pulse-provider.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/symbols-storage.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/udf-compatible-datafeed-base.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/quotes-provider.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/requester.js","webpack:///./src/components/tradingview/datafeeds/udf/lib/udf-compatible-datafeed.js","webpack:///./src/components/tradingview/chart.js","webpack:///./src/components/tradingview/tv.vue?e35a","webpack:///./src/themes/cats/views/chart/chart.vue","webpack:///./node_modules/@vant/popperjs/dist/esm/index.js","webpack:///./node_modules/vant/es/popover/index.js","webpack:///./src/themes/cats/views/chart/components/sideMenu.vue","webpack:///./src/themes/cats/views/chart/components/indicator.vue","webpack:///./node_modules/vant/es/swipe-cell/index.js","webpack:///./src/themes/cats/views/chart/components/indicator.vue?c141","webpack:///./src/themes/cats/views/chart/components/sideMenu.vue?0f75","webpack:///./src/themes/cats/views/chart/chart.vue?7e90","webpack:///./src/components/tradingview/datafeeds/userConfig/customIndicators/RSI.js","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./src/themes/cats/views/chart/chart.vue?b5bb","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./src/themes/cats/views/chart/product.vue?63c3","webpack:///./src/components/tradingview/datafeeds/userConfig/customIndicators/KDJ.js","webpack:///./src/themes/cats/views/chart/components/StallsAndDeal/index.vue?1036","webpack:///./src/themes/cats/views/chart/chart.vue?c901","webpack:///./src/components/tradingview/datafeeds/userConfig/customIndicators sync .js$","webpack:///./src/themes/cats/views/chart/components/studyList.vue?e815","webpack:///./src/themes/mt4/layout/topRight.vue?bf6c","webpack:///./src/themeCommon/user/chartSetting.vue?ae91","webpack:///./src/components/tradingview/datafeeds/userConfig/customIndicators/EMA.js","webpack:///./src/components/tradingview/datafeeds/userConfig/customIndicators/index.js","webpack:///./src/themes/cats/views/chart/icons/kIcon.vue?a2d1","webpack:///./src/themes/cats/views/chart/components/studyList.vue","webpack:///./src/themes/cats/views/chart/components/studyList.vue?4dbf","webpack:///./src/themeCommon/user/chartSetting.vue","webpack:///./src/themeCommon/user/chartSetting.vue?faec","webpack:///./src/components/tradingview/datafeeds/userConfig/customIndicators/MA.js","webpack:///./src/components/tradingview/datafeeds/userConfig/customIndicators/WR.js","webpack:///./src/themes/cats/views/chart/components/sideMenu.vue?5367"],"names":["aFunction","isObject","slice","factories","construct","C","argsLength","args","list","i","Function","join","module","exports","bind","that","fn","this","partArgs","call","arguments","boundFunction","concat","length","apply","prototype","n","precision","metainfo","_metainfoVersion","isTVScript","isTVScriptStub","is_hidden_study","defaults","styles","plot_0","linestyle","linewidth","plottype","trackPrice","transparency","visible","color","plot_1","plot_2","inputs","in_0","in_1","in_3","in_2","palettes","plot_0_Palette","colors","0","width","style","1","plots","id","type","palette","target","name","title","histogramBase","joinPoints","description","shortDescription","is_price_study","defval","min","max","options","scriptIdPart","constructor","f_0","e","t","getColorKey","main","o","r","s","a","l","c","u","h","d","p","colorKey","_context","_input","Std","new_var","ema","genBaseConfig","autosize","container_id","library_path","custom_css_url","locale","charts_storage_api_version","user_id","theme","timezone","custom_indicators_getter","customIndicatorsGetter","overrides","disabled_features","enabled_features","landscapeOptions","filter","includes","portraitOptions","push","resolutionToKlineType","resolutionToText","MAINSTUDIES","label","params","SUBSTUDIES","class","ref","$route","query","isIframe","back","menu","right","addOptional","isSelfSymbol","toContractInfo","product","symbolName","symbolCode","$t","formatTime","tick_time","show","loading","cur_color","parseFloat","cur_price","toFixed","price_digits","upDownAmount","upDownAmount_pip","upDownWidth","open_price","yesterday_close_price","high_price","low_price","active","activeTab","before-change","onBeforeChange","$style","primary","line-height","line-width","title-active-color","candleKTypeList","item","key","ktype","moreKType","moreTimeIsOpened","onClickMoreTime","klineType","value","klineTypeIndex","klineTypeList","is-link","setChartType","right-icon","settingStatus","settingList","handleLineChange","lineList","icon-size","mainStudyList","mainStudy","onClickStudy","showStudyDialog","studyVis","initialValue","initial-value","initConfig","indicatorRemoved","onChartReady","orientationChanged","sideStudyList","subStudy","cur-price","setting-list","symbol-id","symbolId","toOrder","sell_color","sell_price","buy_color","buy_price","spread_text","prop-main-study","prop-sub-study","createStudy","removeStudy","updateShow","height","viewBox","xmlns","fill","stroke","stroke-linecap","stroke-dasharray","stroke-linejoin","p-id","version","xmlns:xlink","props","Number","default","render","__scopeId","showTabs","statusList","indexOf","tickResult","index","price_bid","volume_bid","sell","price_ask","volume_ask","buy","dealData","image","colorCls","setup","store","state","tempDealData","isDealDelaying","timer","_quote","productMap","newValues","result","tempArr","forEach","maxValue","Math","minValue","diff","val","console","log","curPrice","newVal","oldVal","newList","len","genRandomLen","time","Date","now","volume","genRandomVolume","unshift","old","delayMounted","deep","immediate","requestAnimationFrame","splice","pop","setTimeout","random","range","dayjs","format","href","routeName","$router","moreVisible","to","data","computed","components","KIcon","StudyList","tv","StallsAndDeal","Loading","route","router","useScope","klineTypeDropdown","collect","title_zh","title_en","linesData","showLastPrice","status","showPositionPrice","showBuyPrice","showSellPrice","stalls","deal","onChartReadyFlag","chartRef","curIndex","findIndex","el","renderChart","property","productList","positionList","_trade","selfSymbolList","_user","dispatch","subscribList","map","send_subscribe","text","digits","symbolDigits","find","parseInt","obj","sub","oldStudyName","setResolution","localSetChartConfig","toggle","v","updateProperty","updateLineData","buyPrice","sellPrice","setPositionLine","positionProducts","temp","direction","quantity","openNum","price","openPrice","profit","updatePosition","JSON","parse","stringify","updateIndicator","chartConfig","showTips","alert","message","confirmButtonColor","then","initOtherTime","path","setTick","initChartData","locChartConfig","invertColor","showSeriesOHLC","showBarChange","chartType","showSeriesTitle","indicators","extension","fullScreen","String","resolution","lineSetList","topRight","symbolList","res","check","classList","remove","catch","err","add","chart","resolutionList","setSymbol","isLandscape","_setPrototypeOf","Object","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","sham","Proxy","toString","_construct","Parent","Class","isNativeReflectConstruct","Constructor","instance","extendStatics","b","Array","hasOwnProperty","__extends","__","create","isLoggingEnabled","logMessage","toLocaleTimeString","getMilliseconds","getErrorMessage","error","undefined","isLog","RequestKData","_leftBar","_latestBar","_product","firstDataRequest","_params","startTime","endTime","requestKline","bars","rawData","exit_earlier_kline","nextTime","kline_timestamp_start","kline_timestamp_end","assign","meta","noData","tickTime","latestBar","ticks","isSameTime","open","high","low","close","_getLatestKline","Promise","reject","logMessageForTick","resolve","QuoteSocket","ws","readyState","send","logMessageForKline","checkResult","validateRes","kline_list","timestamp","close_price","latestTime","oldTime","newTime","test","oldMinutes","hour","minute","newMinutes","ret","groupCollapsed","isArray","groupEnd","group","HistoryProvider","datafeedUrl","requester","_datafeedUrl","_requester","_requestKData","_onTick","symbolInfo","rangeStartDate","rangeEndDate","symbolParams","getKline","normalizeTick","cb","DataPulseProvider","historyProvider","updateFrequency","_subscribers","_requestsPending","_historyProvider","subscribeBars","newDataCallback","listenerGuid","lastBarTime","listener","unsubscribeBars","_updateData","_this","_loop_1","this_1","_updateDataForSubscriber","reason","subscriptionRecord","rangeEndTime","rangeStartTime","periodLengthSeconds","getBars","_onSubscriberDataReceived","lastBar","requiredPeriodsCount","daysCount","QuotesPulseProvider","quotesProvider","_quotesProvider","setInterval","_updateQuotes","subscribeQuotes","symbols","fastSymbols","onRealtimeCallback","unsubscribeQuotes","updateType","getQuotes","extractField","field","arrayIndex","valueIsArray","symbolWithCurrencyKey","symbol","currency","SymbolsStorage","datafeedSupportedResolutions","_exchangesList","_symbolsInfo","_symbolsList","_datafeedSupportedResolutions","_readyPromise","_init","resolveSymbol","currencyCode","searchSymbols","searchString","exchange","symbolType","maxSearchResults","weightedResult","queryIsEmpty","toUpperCase","positionInName","positionInDescription","alreadyExists","some","weight","_i","_a","sort","item1","item2","full_name","ticker","promises","alreadyRequestedExchanges","_requestExchangeData","all","sendRequest","response","_onExchangeDataReceived","symbolIndex","symbolsCount","tickerPresent","listedExchange","tradedExchange","fullName","base_name","listed_exchange","currency_code","original_currency_code","has_intraday","definedValueOrDefault","has_no_volume","minmov","minmove2","fractional","pricescale","session","supported_resolutions","force_session_rebuild","has_daily","intraday_multipliers","has_weekly_and_monthly","has_empty_bars","volume_precision","Error","defaultValue","UDFCompatibleDatafeedBase","datafeedURL","otherConfig","_configuration","defaultConfiguration","_symbolsStorage","_datafeedURL","_dataPulseProvider","_quotesPulseProvider","_configurationReadyPromise","_requestConfiguration","configuration","_setupWithConfiguration","onReady","callback","onDataCallback","onErrorCallback","calculateHistoryDepth","resolutionBack","intervalBack","getMarks","from","supports_marks","requestParams","_send","labelFontColor","minSize","getTimescaleMarks","supports_timescale_marks","tooltip","getServerTime","supports_time","isNaN","userInput","onResult","supports_search","limit","errmsg","onResolve","onError","resolveRequestStartTime","onResultReady","isControl","querySymbolInfo","supports_group_request","onTick","onResetCacheNeededCallback","otherDefaultConfiguration","urlPath","configurationData","exchanges","setSymbolInfo","info","code_id","minmov2","pointvalue","keys","normalizeInfo","pow","QuotesProvider","errorMessage","Requester","headers","_headers","paramKeys","encodeURIComponent","credentials","fetch","responseTest","UDFCompatibleDatafeed","_super","createChart","Chart","containerId","initial","chartReadyCallback","datafeed","widget","activeChart","_setPrecisionForStudies","_setLine","priceBox","setSellPrice","setBuyPrice","allStudies","getAllStudies","addList","removeList","_indicatorsEntity","removeEntity","eventName","_listener","_destroyedFns","shift","elm","document","querySelector","containerHeight","offsetHeight","_orientation","_linesMap","_positionLines","click","_nativeListener","_firstInit","destroyed","_options","save","saved_data","window","tvWidget","TradingView","interval","_addPriceBox","_bindEvent","orientation","_setStyle","_bindResize","_bindClick","_addFullScreenBtn","handleResize","debounce","_toggleFullScreen","addEventListener","removeEventListener","iframeWindow","contentWindow","isDrawing","touchStatus","handleTouchmove","handleMouseDown","handleMouseUp","oldStatus","f","subscribe","appendPriceBoxToIframe","showPriceBox","bool","hide","appendBtnToIframe","_setLandscape","_setPortrait","innerWidth","innerHeight","top","left","body","scrollTop","getStudyById","applyOverrides","config","buyPriceLine","setPrice","createOrderLine","setText","setLineStyle","setLineColor","setQuantity","sellPriceLine","event","_setProperty","_resolveFn","_applyOverrides","positions","entity","setExtendLeft","setQuantityBackgroundColor","setBodyBorderColor","setQuantityBorderColor","setLineLength","fillColor","landscape","div","createElement","innerHTML","getIconHtml","appendChild","isShow","sellElm","buyElm","oldSellPrice","innerText","func","wait","rest","clearTimeout","callNow","context","emit","nativeSubscribe","position-list","changeOrientation","symbolChanged","sideMenuRef","togglePriceBox","showIndicator","position","onBack","showSetting","onBackEvent","_extends","source","getBoundingClientRect","element","rect","bottom","x","y","getWindow","node","ownerDocument","defaultView","getWindowScroll","win","scrollLeft","pageXOffset","pageYOffset","isElement","OwnElement","Element","isHTMLElement","HTMLElement","getHTMLElementScroll","getNodeScroll","getNodeName","nodeName","toLowerCase","getDocumentElement","documentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","scroll","offsets","clientLeft","clientTop","getLayoutRect","offsetLeft","offsetTop","offsetWidth","getParentNode","assignedSlot","parentNode","host","getScrollParent","listScrollParents","scrollParent","isBody","visualViewport","updatedList","isTableElement","getTrueOffsetParent","html","getContainingBlock","currentNode","css","transform","perspective","willChange","getOffsetParent","auto","basePlacements","start","end","placements","reduce","acc","placement","beforeRead","read","afterRead","beforeMain","afterMain","beforeWrite","write","afterWrite","modifierPhases","order","modifiers","Map","visited","Set","modifier","requires","requiresIfExists","dep","has","depModifier","get","set","orderModifiers","orderedModifiers","phase","pending","getBasePlacement","split","mergeByName","merged","current","existing","getVariation","getMainAxisFromPlacement","computeOffsets","_ref","reference","basePlacement","variation","commonX","commonY","mainAxis","floor","ceil","DEFAULT_OPTIONS","strategy","areValidElements","_len","_key","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","popper","modifiersData","elements","attributes","effectCleanupFns","isDestroyed","setOptions","cleanupModifierEffects","scrollParents","contextElement","m","enabled","runModifierEffects","update","forceUpdate","_state$elements","rects","reset","_state$orderedModifie","_state$orderedModifie2","destroy","_ref3","_ref3$options","effect","cleanupFn","noopFn","onFirstUpdate","passive","_options$scroll","_options$resize","resize","eventListeners","popperOffsets","popperOffsets$1","unsetSides","roundOffsets","dpr","devicePixelRatio","round","mapToStyles","_ref2","_Object$assign2","popperRect","gpuAcceleration","adaptive","_roundOffsets","hasX","hasY","sideX","sideY","clientHeight","clientWidth","_Object$assign","commonStyles","computeStyles","_options$gpuAccelerat","_options$adaptive","arrow","computeStyles$1","applyStyles","removeAttribute","setAttribute","effect$1","initialStyles","margin","styleProperties","attribute","applyStyles$1","createPopper","distanceAndSkiddingToXY","offset","invertDistance","skidding","distance","_options$offset","_data$state$placement","offset$1","_isSlot","_createNamespace","createComponent","bem","Boolean","overlay","trigger","actions","teleport","closeOnClickAction","emits","slots","attrs","wrapperRef","popoverRef","createPopperInstance","popupRef","updateLocation","onClickWrapper","onTouchstart","stopPropagation","onClickAction","action","disabled","onClickAway","renderAction","icon","className","useClickAway","showSelf","componentRef","rightMenu","method","left-arrow","left-text","right-text","isEdit","onClickLeft","onClickRight","openStudyList","computedMainList","refMap","before-close","beforeClose","openRight","square","onDelete","computedSubList","showMainStudy","indicatorType","addStudy","leftWidth","rightWidth","opened","lockClick","startOffset","root","leftRef","rightRef","dragging","touch","getWidthByRef","useRect","abs","THRESHOLD","threshold","onTouchStart","onTouchMove","deltaX","move","isHorizontal","isEdge","onTouchEnd","onClick","interceptor","done","getClickHandler","stop","renderSideContent","wrapperStyle","transitionDuration","Indicator","ChartSetting","updateChartType","customerInfo","showProductPopover","showResolutionPopover","onShowSetting","computedProductList","gotoOrder","bands","filledAreasStyle","fill_0","filledAreas","objAId","objBId","f_1","f_2","eq","o_0","o_1","o_2","c_0","c_1","c_2","d_0","d_1","d_2","change","rma","$","$some","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","proto","forced","callbackfn","getBuiltIn","anObject","fails","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","FORCED","stat","Target","newTarget","$args","input","period","signal1","signal2","highSource","lowSource","Cn","Ln","lowest","Hn","highest","RSV","_prevK","prevK","_prevD","prevD","K","D","J","webpackContext","req","webpackContextResolve","__webpack_require__","code","modulesFiles","require","PineJS","modules","modulePath","showList","close-on-click-overlay","closeable","get-container","getContainer","onClose","closed","onSubmit","propMainStudy","propSubStudy","watch","handler","study","methods","$emit","$attrs","changeType","chartSet","active-color","size","handleChartSet","tradeLevel","volumeSwitch","periodSeparator","plot_3","plot_4","in_4","in_5","in_6","sma"],"mappings":"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","file":"js/chart.90493206.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./tv.vue?vue&type=style&index=0&id=e79e8368&lang=scss&scoped=true\"","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","export default function (n, precision) {\r\n    return {\r\n        metainfo: {\r\n            _metainfoVersion: 27,\r\n            isTVScript: !1,\r\n            isTVScriptStub: !1,\r\n            is_hidden_study: !1,\r\n            defaults: {\r\n                styles: {\r\n                    plot_0: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 1,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#FF0000'\r\n                    },\r\n                    plot_1: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#0000FF'\r\n                    },\r\n                    plot_2: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#FF0000'\r\n                    }\r\n                },\r\n                precision: precision,\r\n                inputs: {\r\n                    in_0: 12,\r\n                    in_1: 26,\r\n                    in_3: 'close',\r\n                    in_2: 9\r\n                },\r\n                palettes: {\r\n                    plot_0_Palette: {\r\n                        colors: {\r\n                            0: {\r\n                                color: '#eb4d5c',\r\n                                width: 1,\r\n                                style: 0\r\n                            },\r\n                            1: {\r\n                                color: '#53b987',\r\n                                width: 1,\r\n                                style: 0\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            plots: [{\r\n                id: 'plot_0',\r\n                type: 'line'\r\n            }, {\r\n                id: 'plot_0_Palette',\r\n                palette: 'plot_0_Palette',\r\n                target: 'plot_0',\r\n                type: 'colorer'\r\n            }, {\r\n                id: 'plot_1',\r\n                type: 'line'\r\n            }, {\r\n                id: 'plot_2',\r\n                type: 'line'\r\n            }],\r\n            palettes: {\r\n                plot_0_Palette: {\r\n                    colors: {\r\n                        0: {\r\n                            name: 'Growing'\r\n                        },\r\n                        1: {\r\n                            name: 'Falling'\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            styles: {\r\n                plot_0: {\r\n                    title: 'Histogram',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_1: {\r\n                    title: 'MACD',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_2: {\r\n                    title: 'Signal',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                }\r\n            },\r\n            description: 'Custom MACD',\r\n            shortDescription: 'MACD',\r\n            is_price_study: !1,\r\n            inputs: [{\r\n                id: 'in_0',\r\n                name: 'fastLength',\r\n                defval: 12,\r\n                type: 'integer',\r\n                min: 1,\r\n                max: 2e3\r\n            }, {\r\n                id: 'in_1',\r\n                name: 'slowLength',\r\n                defval: 26,\r\n                type: 'integer',\r\n                min: 1,\r\n                max: 2e3\r\n            }, {\r\n                id: 'in_3',\r\n                name: 'Source',\r\n                defval: 'close',\r\n                type: 'source',\r\n                options: ['open', 'high', 'low', 'close', 'hl2', 'hlc3', 'ohlc4']\r\n            }, {\r\n                id: 'in_2',\r\n                name: 'signalLength',\r\n                defval: 9,\r\n                type: 'integer',\r\n                min: 1,\r\n                max: 50\r\n            }],\r\n            id: 'Custom Moving Average Convergence/Divergence@tv-basicstudies-1',\r\n            scriptIdPart: '',\r\n        },\r\n        constructor: function () {\r\n            this.f_0 = function (e, t) {\r\n                return e - t\r\n            }\r\n            this.getColorKey = function (e, t) {\r\n                return e - t > 0 ? 0 : 1\r\n            }\r\n            this.main = function (e, t) {\r\n                var i, o, r, s, a, l, c, u, h, d, p, colorKey\r\n                return this._context = e,\r\n                this._input = t,\r\n                i = n.Std[this._input(2)](this._context),\r\n                o = this._input(0),\r\n                r = this._input(1),\r\n                s = this._input(3),\r\n                a = this._context.new_var(i),\r\n                l = n.Std.ema(a, o, this._context),\r\n                c = this._context.new_var(i),\r\n                u = n.Std.ema(c, r, this._context),\r\n                h = this.f_0(l, u),\r\n                d = this._context.new_var(h),\r\n                p = n.Std.ema(d, s, this._context),\r\n                (colorKey = this.getColorKey(h, p)),\r\n                [this.f_0(h, p), colorKey, h, p]\r\n            }\r\n        }\r\n    }\r\n}\r\n","import customIndicatorsGetter from './customIndicators'\r\n\r\n// 基本配置\r\nexport function genBaseConfig () {\r\n    return {\r\n        autosize: true,\r\n        container_id: 'tv_chart_container',\r\n        library_path: '/charting_library/',\r\n        custom_css_url: 'customCssUrl.css?v=1.0.1',\r\n        locale: 'zh',\r\n        charts_storage_api_version: '1.1',\r\n        user_id: 'public_user_id',\r\n        theme: 'Light', // \"Light\" | \"Dark\"\r\n        timezone: 'Asia/Shanghai',\r\n        custom_indicators_getter: customIndicatorsGetter,\r\n        overrides: {\r\n            'paneProperties.legendProperties.showSeriesTitle': false, // 隐藏K线标题\r\n            'paneProperties.legendProperties.showSeriesOHLC': false, // 显示高开低收\r\n            'paneProperties.legendProperties.showBarChange': false, // 涨跌幅\r\n            'paneProperties.legendProperties.showLegend': true,\r\n            // 边际（百分比）。 用于自动缩放。\r\n            'paneProperties.topMargin': 22,\r\n            'paneProperties.bottomMargin': 5,\r\n            'timeScale.rightOffset': 5,\r\n            // 数据列风格。 请参阅下面的支持的值\r\n            //  Bars = 0            #美国线\r\n            //  Candles = 1         #K线图\r\n            //  Line = 2            #线形图\r\n            //  Area = 3            #面积图\r\n            //  Heiken Ashi = 8     #平均K线图\r\n            //  Hollow Candles = 9  #空心K线图\r\n            //  Renko = 4           #转形图\r\n            //  Kagi = 5            #卡吉图\r\n            //  Point&Figure = 6    #点数图\r\n            //  Line Break = 7      #新价图\r\n            'mainSeriesProperties.style': 1, // K线样式 0美国K线 1K线 2线形图 3面积图\r\n            'mainSeriesProperties.showPriceLine': true, // 现价线\r\n            'scalesProperties.showSeriesLastValue': true, // 现价标签\r\n            'mainSeriesProperties.priceLineColor': 'rgb(71, 127, 211)',\r\n            'mainSeriesProperties.priceAxisProperties.autoScaleDisabled': false,\r\n            'mainSeriesProperties.priceAxisProperties.percentage': false,\r\n            'mainSeriesProperties.priceAxisProperties.percentageDisabled': false,\r\n            'mainSeriesProperties.priceAxisProperties.log': false,\r\n            'mainSeriesProperties.priceAxisProperties.logDisabled': false\r\n        },\r\n        disabled_features: [\r\n            // 头部工具栏\r\n            'header_widget',\r\n            // K线类型\r\n            // 'header_chart_type',\r\n            // K线周期\r\n            // 'header_resolutions',\r\n            // 指标工具\r\n            // 'header_indicators',\r\n            // 左边工具栏\r\n            'left_toolbar',\r\n            // 底部时间栏目\r\n            'timeframes_toolbar',\r\n            // 头部设置按钮\r\n            'header_settings',\r\n            // 头部全屏按钮\r\n            'header_fullscreen_button',\r\n            // 底部控制按钮\r\n            'control_bar',\r\n            // 左上角产品名称部件\r\n            'legend_context_menu',\r\n            // 在表单左上角元素信息中隐藏“设置”按钮\r\n            // 'edit_buttons_in_legend',\r\n            // 在表单左上角元素信息中隐藏“设置”按钮\r\n            'symbol_info',\r\n            // “撤销”、“重做”按钮\r\n            'header_undo_redo',\r\n            // 成交量是否显示\r\n            'create_volume_indicator_by_default',\r\n            // k线与销量分开\r\n            // 'volume_force_overlay',\r\n            // 图表右键菜单\r\n            'pane_context_menu',\r\n            // 照相机\r\n            'header_screenshot',\r\n            // 上传下载按钮\r\n            'header_saveload',\r\n            // 移动端可以隐藏logo\r\n            'adaptive_logo',\r\n            // 指标模板\r\n            'study_templates',\r\n            // 图表对比\r\n            'header_compare',\r\n            // 市场状态\r\n            'display_market_status',\r\n            // 用户本地存储\r\n            'use_localstorage_for_settings',\r\n            // 搜索\r\n            'header_symbol_search',\r\n            'symbol_search_hot_key',\r\n\r\n            'high_density_bars',\r\n            // 禁用右边价格坐标弹窗\r\n            'scales_context_menu',\r\n            // 禁用图表上下滑动，上下滑动是直接滑动页面\r\n            'vert_touch_drag_scroll',\r\n            // 显示有关可能的鼠标/快捷键/ UI操作的弹出提示\r\n            'popup_hints'\r\n        ],\r\n        enabled_features: [\r\n            // 指标栏目\r\n            'dont_show_boolean_study_arguments',\r\n            // 阻止滚动到第一个历史 K 线的左侧\r\n            'fix_left_edge'\r\n        ],\r\n\r\n    }\r\n}\r\n","import { genBaseConfig } from './base.config.js'\r\n\r\n// 横屏配置\r\nexport function landscapeOptions () {\r\n    const options = genBaseConfig()\r\n    options.disabled_features = options.disabled_features.filter(e => !['left_toolbar', 'vert_touch_drag_scroll'].includes(e))\r\n    return options\r\n}\r\n\r\n// 竖屏配置\r\nexport function portraitOptions () {\r\n    const options = genBaseConfig()\r\n    options.disabled_features.push('left_toolbar', 'vert_touch_drag_scroll')\r\n    return options\r\n}\r\n\r\nexport const resolutionToKlineType = {\r\n    '1': '1',\r\n    '5': '2',\r\n    '15': '3',\r\n    '30': '4',\r\n    '60': '5',\r\n    '240': '7',\r\n    '1D': '8',\r\n    '1W': '9',\r\n    '1M': '10'\r\n}\r\n\r\nexport const resolutionToText = {\r\n    '1': 'M1',\r\n    '5': 'M5',\r\n    '15': 'M15',\r\n    '30': 'M30',\r\n    '60': 'H1',\r\n    '240': 'H4',\r\n    '1D': 'D1',\r\n    '1W': 'W1',\r\n    '1M': 'MN'\r\n}\r\n\r\n// 主图指标\r\nexport const MAINSTUDIES = [\r\n    {\r\n        label: 'MA',\r\n        name: 'Moving Average mock',\r\n        params: [true, false, [5, 20, 30, 60, 250, 'close', 0]]\r\n    },\r\n    {\r\n        label: 'BOLL',\r\n        name: 'Bollinger Bands',\r\n        params: [true, false, [26, 2]]\r\n    },\r\n    {\r\n        label: 'EMA',\r\n        name: 'Custom Moving Average Exponential',\r\n        params: [true, false]\r\n    },\r\n    {\r\n        label: 'SAR',\r\n        name: 'Parabolic SAR',\r\n        params: [true, false, [0.02, 0.02, 0.2]]\r\n    },\r\n    {\r\n        label: 'Alligator',\r\n        name: 'Williams Alligator',\r\n        params: [true, false, [13, 8, 5]]\r\n    },\r\n    {\r\n        label: 'TEMA',\r\n        name: 'Triple EMA',\r\n        params: [true, false]\r\n    },\r\n\r\n    {\r\n        label: 'DEMA',\r\n        name: 'Double EMA',\r\n        params: [true, false]\r\n    },\r\n    {\r\n        label: 'SMMA',\r\n        name: 'Smoothed Moving Average',\r\n        params: [true, false]\r\n    },\r\n    {\r\n        label: 'Ichimoku',\r\n        name: 'Ichimoku Cloud',\r\n        params: [true, false]\r\n    },\r\n    {\r\n        label: 'ENV',\r\n        name: 'Envelopes',\r\n        params: [true, false]\r\n    }\r\n]\r\n\r\n// 副图指标\r\nexport const SUBSTUDIES = [\r\n    {\r\n        label: 'MACD',\r\n        name: 'Custom MACD',\r\n        params: [false, false, [12, 26, 'close', 9]]\r\n    },\r\n    {\r\n        label: 'KDJ',\r\n        name: 'Custom KDJ',\r\n        params: [false, false, [9, 3, 3]]\r\n    },\r\n    {\r\n        label: 'RSI',\r\n        name: 'Custom Relative Strength Index',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'ATR',\r\n        name: 'Average True Range',\r\n        params: [false, false, [14]]\r\n    },\r\n    {\r\n        label: 'CCI',\r\n        name: 'Commodity Channel Index',\r\n        params: [false, false, [14]]\r\n    },\r\n    {\r\n        label: 'WR',\r\n        name: 'Custom Williams %R',\r\n        params: [false, false, [14]]\r\n    },\r\n    {\r\n        label: 'DMI',\r\n        name: 'Directional Movement',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'TRIX',\r\n        name: 'TRIX',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'ASI',\r\n        name: 'Accumulative Swing Index',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'Momentum',\r\n        name: 'Momentum',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'DPO',\r\n        name: 'Detrended Price Oscillator',\r\n        params: [false, false]\r\n    },\r\n\r\n    {\r\n        label: 'Aroon',\r\n        name: 'Aroon',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'KST',\r\n        name: 'Know Sure Thing',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'ROC',\r\n        name: 'Rate Of Change',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'CRSI',\r\n        name: 'Connors RSI',\r\n        params: [false, false]\r\n    },\r\n\r\n    {\r\n        label: 'SMII',\r\n        name: 'SMI Ergodic Indicator/Oscillator',\r\n        params: [false, false]\r\n    },\r\n    {\r\n        label: 'HV',\r\n        name: 'Historical Volatility',\r\n        params: [false, false, 10]\r\n    },\r\n    {\r\n        label: 'Stoch',\r\n        name: 'Stochastic',\r\n        params: [false, false]\r\n    },\r\n]\r\n","<template>\r\n    <div class='page-wrap' :class='{ isIframe: $route.query.isIframe }'>\r\n        <LayoutTop :back='true' :menu='false'>\r\n            <p>{{ product.symbolName }}</p>\r\n            <p class='infomation'>\r\n                {{ product.symbolCode }} {{ $t('trade.update') }}:{{ formatTime(product.tick_time) }}\r\n            </p>\r\n\r\n            <template #right>\r\n                <div class='right-wrap'>\r\n                    <button v-preventReClick class='collectIcon' @click='addOptional'>\r\n                        <i\r\n                            ref='collect'\r\n                            class='icon_zixuan1'\r\n                            :class=\"{ 'icon_zixuan2':isSelfSymbol }\"\r\n                        ></i>\r\n                    </button>\r\n                    <div class='ft'>\r\n                        <span\r\n                            @click='toContractInfo'\r\n                        >\r\n                            <i class='icon_guanyu'></i>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </LayoutTop>\r\n        <Loading :show='loading' />\r\n        <section class='container'>\r\n            <div class='productInfo'>\r\n                <div class='hd'>\r\n                    <div class='hd-left'>\r\n                        <p class='cur_price' :class='product.cur_color'>\r\n                            {{ parseFloat(product.cur_price).toFixed(product.price_digits) }}\r\n                        </p><!---->\r\n                    </div><div class='others'>\r\n                        <span :class='product.cur_color'>\r\n                            {{ product.upDownAmount }}({{ product.upDownAmount_pip }} {{ $t('trade.dot') }})\r\n                        </span><div class='others-bottom'>\r\n                            <span class='upDownAmount' :class='product.cur_color'>\r\n                                {{ product.upDownWidth }}\r\n                            </span><!---->\r\n                        </div>\r\n                    </div><!---->\r\n                </div><div class='bd'>\r\n                    <div class='item'>\r\n                        <p class='priceBottom'>\r\n                            <span>\r\n                                {{ $t('trade.todayOpen') }}\r\n                            </span>\r\n                            <span>\r\n                                {{ product.open_price }}\r\n                            </span>\r\n                        </p><p>\r\n                            <span>\r\n                                {{ $t('trade.yesterdayClosed') }}\r\n                            </span>\r\n                            <span>\r\n                                {{ product.yesterday_close_price }}\r\n                            </span>\r\n                        </p>\r\n                    </div><div class='item'>\r\n                        <p class='priceBottom'>\r\n                            {{ $t('trade.high') }}\r\n                            <span>\r\n                                {{ product.high_price }}\r\n                            </span>\r\n                        </p>\r\n                        <p>\r\n                            {{ $t('trade.low') }}\r\n                            <span>\r\n                                {{ product.low_price }}\r\n                            </span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <div class='placeholder'></div>\r\n        <div class='tv-head'>\r\n            <div class='tabs-wrap'>\r\n                <van-tabs\r\n                    v-model:active='activeTab'\r\n                    :before-change='onBeforeChange'\r\n                    class='tabs'\r\n                    :color='$style.primary'\r\n                    line-height='2'\r\n                    line-width='20'\r\n                    title-active-color='$style.primary'\r\n                >\r\n                    <van-tab\r\n                        v-for='(item) in candleKTypeList.slice(0,6)'\r\n                        :key='item.ktype'\r\n                        :name='item.ktype'\r\n                        :title='item.title'\r\n                    />\r\n                    <van-tab name='moreKTypes'>\r\n                        <template #title class='other-time-tab'>\r\n                            {{ moreKType.title }}\r\n                        </template>\r\n                    </van-tab>\r\n                </van-tabs>\r\n\r\n                <div class='more-time' :class='{ opened: moreTimeIsOpened }'>\r\n                    <div v-show='moreTimeIsOpened' class='options van-hairline--surround'>\r\n                        <div\r\n                            v-for='(item,i) in candleKTypeList.slice(6)'\r\n                            :key='i'\r\n                            class='option'\r\n                            :class='{ active: moreKType.title === item.title }'\r\n                            @click='onClickMoreTime(item)'\r\n                        >\r\n                            {{ item.title }}\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        v-show='moreTimeIsOpened'\r\n                        class='mask'\r\n                        @click.stop='moreTimeIsOpened = false'\r\n                        @touchmove.stop='moreTimeIsOpened = false'\r\n                    ></div>\r\n                </div>\r\n\r\n                <div class='flex-right'>\r\n                    <van-dropdown-menu class='kIcon-wrap'>\r\n                        <van-dropdown-item ref='klineTypeDropdown' v-model='klineType'>\r\n                            <template #title>\r\n                                <KIcon class='kIcon' :value='klineTypeIndex' />\r\n                            </template>\r\n                            <van-cell\r\n                                v-for='(item, i) in klineTypeList'\r\n                                :key='item.name'\r\n                                :class=\"{ 'mainColor':klineType === item.value }\"\r\n                                is-link\r\n                                @click='setChartType(item)'\r\n                            >\r\n                                <template #title>\r\n                                    <span class='custom-title'>\r\n                                        <KIcon class='kIcon' :value='i+1' />\r\n                                        {{ item['title_zh'] }}\r\n                                    </span>\r\n                                </template>\r\n                                <template #right-icon>\r\n                                    <van-icon v-if='klineType===item.value' class='klineTypeRightIcon' name='success' />\r\n                                </template>\r\n                            </van-cell>\r\n                        </van-dropdown-item>\r\n                    </van-dropdown-menu>\r\n                    <div class='setting' @click='settingStatus = !settingStatus'>\r\n                        <van-icon class='icon' name='setting-o' />\r\n\r\n                        <div v-show='settingStatus' class='content van-hairline--surround' @click.stop=''>\r\n                            <van-checkbox-group ref='checkboxGroup' v-model='settingList' @change='handleLineChange'>\r\n                                <van-checkbox\r\n                                    v-for='item in lineList'\r\n                                    :key='item.value'\r\n\r\n                                    class='item'\r\n                                    icon-size='16px'\r\n                                    :name='item.value'\r\n                                >\r\n                                    {{ item.title }}\r\n                                </van-checkbox>\r\n                            </van-checkbox-group>\r\n                        </div>\r\n                        <div\r\n                            v-show='settingStatus'\r\n                            class='mask'\r\n                            @click.stop='settingStatus = false'\r\n                            @touchmove.stop='settingStatus = false'\r\n                        >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div v-show='studyVis' ref='mainStudyArea' class='study-area'>\r\n            <div class='main-study'>\r\n                <div class='content'>\r\n                    <div\r\n                        v-for='(item, i) in mainStudyList'\r\n                        :key='i'\r\n                        class='item'\r\n                        :class='{ active: mainStudy === item.name }'\r\n                        :color='$style.primary'\r\n                    >\r\n                        <span\r\n                            class='inner-label'\r\n                            @click='onClickStudy(\"main\", item.name)'\r\n                        >\r\n                            {{ item.label }}\r\n                        </span>\r\n                    </div>\r\n                    <span class='item more' @click='showStudyDialog = true'>\r\n                        <span class='inner-label'>\r\n                            {{ $t('chart.more') }}\r\n                        </span>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class='chart-wrap'>\r\n            <tv\r\n                v-if='initialValue'\r\n                ref='chartRef'\r\n                :initial-value='initialValue'\r\n                :options='initConfig'\r\n                @indicatorRemoved='indicatorRemoved'\r\n                @onChartReady='onChartReady'\r\n                @orientationChanged='orientationChanged'\r\n            />\r\n        </div>\r\n        <div v-show='studyVis' ref='mainStudyArea' class='study-area'>\r\n            <div class='main-study'>\r\n                <div class='content'>\r\n                    <div\r\n                        v-for='(item, i) in sideStudyList'\r\n                        :key='i'\r\n                        class='item'\r\n                        :class='{ active: subStudy === item.name }'\r\n                    >\r\n                        <span\r\n                            class='inner-label'\r\n                            @click='onClickStudy(\"sub\", item.name)'\r\n                        >\r\n                            {{ item.label }}\r\n                        </span>\r\n                    </div>\r\n                    <span class='item more' @click='showStudyDialog = true'>\r\n                        <span class='inner-label'>\r\n                            {{ $t('chart.more') }}\r\n                        </span>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <StallsAndDeal\r\n            :cur-price='product.cur_price'\r\n            :setting-list='settingList'\r\n            :symbol-id='symbolId'\r\n        />\r\n\r\n        <div class='footerBtnBox'>\r\n            <div class='trade-btn-wrap'>\r\n                <div class='sell fallColorBg' @click=\"toOrder('sell')\">\r\n                    <p>\r\n                        {{ $t('trade.sell') }}\r\n                    </p>\r\n                    <p class='price ' :class=\"product.sell_color+'Arrow'\">\r\n                        {{ product.sell_price }}\r\n                    </p>\r\n                </div>\r\n                <div class='buy riseColorBg' @click=\"toOrder('buy')\">\r\n                    <p>\r\n                        {{ $t('trade.buy') }}\r\n                    </p>\r\n                    <p class='price' :class=\"product.buy_color+'Arrow'\">\r\n                        {{ product.buy_price }}\r\n                    </p>\r\n                </div>\r\n                <span class='spread_text'>\r\n                    {{ product.spread_text }}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <StudyList\r\n        :prop-main-study='mainStudy'\r\n        :prop-sub-study='subStudy'\r\n        :show='showStudyDialog'\r\n        @createStudy='createStudy'\r\n        @removeStudy='removeStudy'\r\n        @update:show='updateShow'\r\n    />\r\n</template>\r\n\r\n<script>\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport StudyList from './components/studyList.vue'\r\nimport { useI18n } from 'vue-i18n'\r\nimport { computed, reactive, toRefs, onBeforeUnmount, ref, onMounted, unref, watchEffect, watch, onUpdated, nextTick } from 'vue'\r\nimport KIcon from './icons/kIcon.vue'\r\nimport { MAINSTUDIES, SUBSTUDIES } from '@/components/tradingview/datafeeds/userConfig/config'\r\nimport dayjs from 'dayjs'\r\nimport { useStore } from 'vuex'\r\nimport { Dialog, Toast } from 'vant'\r\nimport { isEmpty, localSet, localGet } from '@/utils/util'\r\nimport tv from '@/components/tradingview/tv'\r\nimport { QuoteSocket } from '@/plugins/socket/socket'\r\nimport StallsAndDeal from './components/StallsAndDeal'\r\nimport { addCustomerOptional, removeCustomerOptional } from '@/api/trade'\r\nimport Loading from '@/components/loading.vue'\r\nimport topRightVue from '@/themes/mt4/layout/topRight.vue'\r\n\r\nexport default {\r\n    components: { KIcon, StudyList, tv, StallsAndDeal, Loading },\r\n    setup (props) {\r\n        const route = useRoute()\r\n        const router = useRouter()\r\n        const symbolId = route.query.symbolId\r\n        const { t } = useI18n({ useScope: 'global' })\r\n        const klineTypeDropdown = ref(null)\r\n        const collect = ref(null)\r\n        const store = useStore()\r\n        const candleKTypeList = [\r\n            // {\r\n            //     title: t('chart.timeSharing'),\r\n            //     value: '1min',\r\n            //     ktype: 'timeSharing',\r\n            // },\r\n            {\r\n                title: t('chart.1min'),\r\n                value: '1min',\r\n                ktype: '1',\r\n            }, {\r\n                title: t('chart.15min'),\r\n                value: '15min',\r\n                ktype: '15',\r\n            }, {\r\n                title: t('chart.30min'),\r\n                value: '30min',\r\n                ktype: '30',\r\n            }, {\r\n                title: t('chart.1hour'),\r\n                value: '1hour',\r\n                ktype: '60',\r\n            }, {\r\n                title: t('chart.day'),\r\n                value: 'day',\r\n                ktype: '1D',\r\n            }, {\r\n                title: t('chart.week'),\r\n                value: 'week',\r\n                ktype: '1W',\r\n            }, {\r\n                title: t('chart.5min'),\r\n                value: '5min',\r\n                ktype: '5',\r\n            }, {\r\n                title: t('chart.2hour'),\r\n                value: '2hour',\r\n                ktype: '120',\r\n            }, {\r\n                title: t('chart.4hour'),\r\n                value: '4hour',\r\n                ktype: '240',\r\n            }, {\r\n                title: t('chart.month'),\r\n                value: 'month',\r\n                ktype: '1M',\r\n            }\r\n        ]\r\n\r\n        const klineTypeList = [{\r\n            name: 'kIcon1',\r\n            title_zh: t('chart.bars'),\r\n            title_en: 'Bars',\r\n            value: 0,\r\n        }, {\r\n            name: 'kIcon2',\r\n            title_zh: t('chart.candles'),\r\n            title_en: 'Candles',\r\n            value: 1,\r\n        }, {\r\n            name: 'kIcon3',\r\n            title_zh: t('chart.hollowCandles'),\r\n            title_en: 'Hollow Candles',\r\n            value: 9,\r\n        }, {\r\n            name: 'kIcon4',\r\n            title_zh: t('chart.heikinAshi'),\r\n            title_en: 'Heikin Ashi',\r\n            value: 8,\r\n        }, {\r\n            name: 'kIcon5',\r\n            title_zh: t('chart.line'),\r\n            title_en: 'Line',\r\n            value: 2,\r\n        }, {\r\n            name: 'kIcon6',\r\n            title_zh: t('chart.area'),\r\n            title_en: 'Area',\r\n            value: 3,\r\n        }, {\r\n            name: 'kIcon7',\r\n            title_zh: t('chart.baseLine'),\r\n            title_en: 'Baseline',\r\n            value: 10,\r\n        }]\r\n\r\n        const state = reactive({\r\n            activeTab: 0,\r\n            moreKType: {\r\n                title: t('chart.more'),\r\n                ktype: null\r\n            },\r\n            moreTimeIsOpened: false,\r\n            settingStatus: false,\r\n            mainStudyList: MAINSTUDIES.slice(0, 5), // 主图\r\n            sideStudyList: SUBSTUDIES.slice(0, 5), // 副图\r\n            studyVis: true,\r\n            mainStudy: 'Moving Average mock',\r\n            subStudy: 'Custom MACD',\r\n            showStudyDialog: false,\r\n            lineList: [\r\n                {\r\n                    title: t('chart.lastValueLine'),\r\n                    value: 'showLastPrice'\r\n                },\r\n                {\r\n                    title: t('chart.positionLine'),\r\n                    value: 'showPositionPrice',\r\n                },\r\n                {\r\n                    title: t('chart.buyLine'),\r\n                    value: 'showBuyPrice',\r\n                },\r\n                {\r\n                    title: t('chart.sellLine'),\r\n                    value: 'showSellPrice',\r\n                },\r\n                {\r\n                    title: t('trade.buySellFive'),\r\n                    value: 'stalls',\r\n                },\r\n                {\r\n                    title: t('trade.dealData'),\r\n                    value: 'deal',\r\n                }\r\n            ],\r\n            linesData: {\r\n                showLastPrice: {\r\n                    status: true\r\n                },\r\n                showPositionPrice: {\r\n                    status: false\r\n                },\r\n                showBuyPrice: {\r\n                    status: false\r\n                },\r\n                showSellPrice: {\r\n                    status: false\r\n                },\r\n                stalls: {\r\n                    status: false\r\n                },\r\n                deal: {\r\n                    status: false\r\n                }\r\n            },\r\n            settingList: [],\r\n            klineType: 0,\r\n            initConfig: {},\r\n            symbolId: symbolId,\r\n            onChartReadyFlag: false,\r\n            loading: false\r\n        })\r\n\r\n        // 图表组件引用\r\n        const chartRef = ref(null)\r\n        const klineTypeIndex = computed(() => {\r\n            const curIndex = klineTypeList.findIndex(el => el.value === state.klineType)\r\n            return curIndex + 1\r\n        })\r\n        const product = computed(() => {\r\n            const product = store.state._quote.productMap[symbolId]\r\n            if (product.cur_price) {\r\n                // 有产品数据就渲染图表\r\n                renderChart(product, state.initConfig.property)\r\n            }\r\n            return product\r\n        })\r\n        const productList = computed(() => store.state._quote.productList)\r\n        const positionList = computed(() => store.state._trade.positionList)\r\n        const selfSymbolList = computed(() => store.state._user.selfSymbolList)\r\n\r\n        // 查询持仓列表，获取持仓线数据\r\n        store.dispatch('_trade/queryPositionPage')\r\n        // 订阅产品\r\n        const subscribList = productList.value.map(({ symbolId }) => symbolId)\r\n        store.dispatch('_quote/querySymbolBaseInfoList', subscribList)\r\n        QuoteSocket.send_subscribe(subscribList)\r\n\r\n        // 图表初始值\r\n        const initialValue = computed(() => {\r\n            if (product.value.symbolName) {\r\n                return {\r\n                    text: product.value.symbolName, // 用于vant组件显示\r\n                    description: product.value.symbolCode, // 显示在图表左上角\r\n                    symbolId: product.value.symbolId, // 产品id\r\n                    digits: product.value.symbolDigits, // 小数点\r\n                }\r\n            }\r\n        })\r\n\r\n        const isSelfSymbol = computed(() => !isEmpty(selfSymbolList.value.find(el => el.symbolId === parseInt(symbolId))))\r\n\r\n        // 选择指标\r\n        const onClickStudy = (type, name) => {\r\n            const obj = {\r\n                main: 'mainStudy',\r\n                sub: 'subStudy'\r\n            }\r\n            const oldStudyName = state[obj[type]]\r\n\r\n            if (oldStudyName === name) {\r\n                removeStudy(type)\r\n            } else {\r\n                removeStudy(type)\r\n                createStudy(type, name)\r\n            }\r\n        }\r\n\r\n        // 设置图表周期\r\n        const onBeforeChange = (name, title) => {\r\n            if (name === 'moreKTypes') {\r\n                state.moreTimeIsOpened = !state.moreTimeIsOpened\r\n                return\r\n            }\r\n            if (name === 'timeSharing') {\r\n                state.studyVis = false\r\n            } else {\r\n                state.studyVis = true\r\n            }\r\n\r\n            state.onChartReadyFlag && unref(chartRef).setResolution(name)\r\n\r\n            localSetChartConfig('resolution', name)\r\n\r\n            return true\r\n        }\r\n\r\n        // 设置图表类型\r\n        const setChartType = (item) => {\r\n            state.klineType = item.value\r\n\r\n            state.onChartReadyFlag && unref(chartRef).setChartType(Number(item.value))\r\n            localSetChartConfig('chartType', item.value)\r\n            klineTypeDropdown.value.toggle()\r\n        }\r\n\r\n        // 设置图表线\r\n        const handleLineChange = (val, v) => {\r\n            var property = {}\r\n            if (val.indexOf('showBuyPrice') > -1) {\r\n                property.showBuyPrice = true\r\n            } else {\r\n                property.showBuyPrice = false\r\n            }\r\n\r\n            if (val.indexOf('showPositionPrice') > -1) {\r\n                property.showPositionPrice = true\r\n            } else {\r\n                property.showPositionPrice = false\r\n            }\r\n\r\n            if (val.indexOf('showSellPrice') > -1) {\r\n                property.showSellPrice = true\r\n            } else {\r\n                property.showSellPrice = false\r\n            }\r\n\r\n            if (val.indexOf('showLastPrice') > -1) {\r\n                property.showLastPrice = true\r\n            } else {\r\n                property.showLastPrice = false\r\n            }\r\n            renderChart(product.value, property)\r\n        }\r\n\r\n        // 重新渲染图表\r\n        const renderChart = (product, property) => {\r\n            state.onChartReadyFlag && unref(chartRef).updateProperty(property)\r\n            state.onChartReadyFlag && unref(chartRef).updateLineData({\r\n                buyPrice: product.buy_price,\r\n                sellPrice: product.sell_price\r\n            })\r\n            setPositionLine()\r\n        }\r\n\r\n        const setPositionLine = () => {\r\n            const positionProducts = positionList.value.filter(item => item.symbolId === Number(symbolId))\r\n            if (positionProducts.length > 0) {\r\n                const temp = []\r\n                positionProducts.forEach(item => {\r\n                    temp.push({\r\n                        text: (Number(item.direction) === 1 ? t('trade.buy') : t('trade.sell')) + item.volume + t('trade.volumeUnit'),\r\n                        quantity: item.openNum,\r\n                        price: item.openPrice,\r\n                        color: item.profit < 0 ? 'green' : 'red'\r\n                    })\r\n                })\r\n\r\n                state.onChartReadyFlag && unref(chartRef).updatePosition(temp)\r\n            }\r\n        }\r\n\r\n        // 增加指标\r\n        const createStudy = (type, name) => {\r\n            const target = JSON.parse(JSON.stringify([...MAINSTUDIES, ...SUBSTUDIES].find(item => item.name === name) || null))\r\n            switch (type) {\r\n                case 'main': {\r\n                    state.mainStudy = target.name\r\n                    localSetChartConfig('mainStudy', JSON.stringify({\r\n                        name: target.name,\r\n                        params: target.params\r\n                    }))\r\n                    break\r\n                }\r\n                case 'sub': {\r\n                    state.subStudy = target.name\r\n                    localSetChartConfig('subStudy', JSON.stringify({\r\n                        name: target.name,\r\n                        params: target.params\r\n                    }))\r\n                    break\r\n                }\r\n            }\r\n\r\n            const property = [\r\n                JSON.parse(JSON.parse(localGet('chartConfig')).mainStudy),\r\n                JSON.parse(JSON.parse(localGet('chartConfig')).subStudy)\r\n            ]\r\n\r\n            state.onChartReadyFlag && unref(chartRef).updateIndicator(property)\r\n        }\r\n\r\n        // 删除指标\r\n        const removeStudy = (type) => {\r\n            switch (type) {\r\n                case 'main': {\r\n                    state.mainStudy = ''\r\n                    break\r\n                }\r\n                case 'sub': {\r\n                    state.subStudy = ''\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        // 缓存图表设置\r\n        const localSetChartConfig = (key, value) => {\r\n            const chartConfig = JSON.parse(localGet('chartConfig'))\r\n            if (!isEmpty(chartConfig)) {\r\n                chartConfig[key] = value\r\n                localSet('chartConfig', JSON.stringify(chartConfig))\r\n            } else {\r\n                localSet('chartConfig', JSON.stringify({\r\n                    [key]: value\r\n                }))\r\n            }\r\n        }\r\n\r\n        const updateShow = (val) => {\r\n            state.showStudyDialog = val\r\n        }\r\n\r\n        const showTips = () => {\r\n            Dialog.alert({\r\n                title: t('trade.descTitle'),\r\n                message: t('trade.nonStocksAndnonBullPointDesc'),\r\n                confirmButtonColor: '#477fd3'\r\n            }).then(() => {})\r\n        }\r\n\r\n        // 更多周期\r\n        const onClickMoreTime = ({ title, ktype }) => {\r\n            state.activeTab = 'moreKTypes'\r\n            initOtherTime(title, ktype)\r\n            state.onChartReadyFlag && unref(chartRef).setResolution(ktype)\r\n            localSetChartConfig('resolution', ktype)\r\n            state.moreTimeIsOpened = false\r\n        }\r\n\r\n        const initOtherTime = (title = this.$t('chart.more'), ktype = null) => {\r\n            localSetChartConfig('resolution', ktype)\r\n            state.moreKType = { title, ktype }\r\n        }\r\n\r\n        const toContractInfo = () => {\r\n            router.push({ path: '/contract', query: { symbolId: symbolId } })\r\n        }\r\n\r\n        const orientationChanged = () => {\r\n\r\n        }\r\n\r\n        // 指标移除回调\r\n        const indicatorRemoved = (name, val) => {\r\n            if (name === state.subStudy) {\r\n                removeStudy('sub')\r\n            }\r\n            if (name === state.mainStudy) {\r\n                removeStudy('main')\r\n            }\r\n        }\r\n\r\n        // 图表创建完成回调\r\n        const onChartReady = () => {\r\n            state.onChartReadyFlag = true\r\n        }\r\n\r\n        // 实时更新买卖价线\r\n        watch(() => [product.value.buy_price, product.value.sell_price, product.value.cur_price, product.value.tick_time], (newValues) => {\r\n            if (state.settingList.indexOf('showLastPrice') > -1) {\r\n                state.onChartReadyFlag && unref(chartRef).setTick(product.value.cur_price, product.value.tick_time)\r\n            }\r\n\r\n            // if (state.settingList.indexOf('showBuyPrice') > -1 || state.settingList.indexOf('showSellPrice') > -1) {\r\n            state.onChartReadyFlag && unref(chartRef).updateLineData({\r\n                buyPrice: product.value.buy_price,\r\n                sellPrice: product.value.sell_price\r\n            })\r\n            // }\r\n        })\r\n\r\n        watch(() => [state.settingList], (newValues) => {\r\n            if (state.settingList.indexOf('showBuyPrice') > -1) {\r\n                localSetChartConfig('showBuyPrice', true)\r\n            } else {\r\n                localSetChartConfig('showBuyPrice', false)\r\n            }\r\n\r\n            if (state.settingList.indexOf('showPositionPrice') > -1) {\r\n                localSetChartConfig('showPositionPrice', true)\r\n            } else {\r\n                localSetChartConfig('showPositionPrice', false)\r\n            }\r\n\r\n            if (state.settingList.indexOf('showSellPrice') > -1) {\r\n                localSetChartConfig('showSellPrice', true)\r\n            } else {\r\n                localSetChartConfig('showSellPrice', false)\r\n            }\r\n\r\n            if (state.settingList.indexOf('showLastPrice') > -1) {\r\n                localSetChartConfig('showLastPrice', true)\r\n            } else {\r\n                localSetChartConfig('showLastPrice', false)\r\n            }\r\n\r\n            localSetChartConfig('lineSetList', state.settingList)\r\n        })\r\n\r\n        const initChartData = () => {\r\n            // 设置图表设置缓存\r\n            const locChartConfig = JSON.parse(localGet('chartConfig'))\r\n            const invertColor = localGet('invertColor')\r\n            if (isEmpty(locChartConfig)) {\r\n                localSetChartConfig('showLastPrice', false)\r\n                localSetChartConfig('mainStudy', JSON.stringify({\r\n                    name: 'Bollinger Bands',\r\n                    params: [true, false, [26, 2]]\r\n                }))\r\n                localSetChartConfig('subStudy', JSON.stringify({\r\n                    name: 'Custom MACD',\r\n                    params: [false, false, [12, 26, 'close', 9]]\r\n                }))\r\n                localSetChartConfig('resolution', 1)\r\n                localSetChartConfig('lineSetList', [])\r\n                localSetChartConfig('chartType', 1)\r\n                // 默认选中现价线\r\n                state.settingList = ['showLastPrice']\r\n\r\n                // 图表配置\r\n                state.initConfig = ref({\r\n                    property: {\r\n                        showLastPrice: true, // 现价线\r\n                        showPositionPrice: false, // 持仓线\r\n                        showBuyPrice: false, // 买价线\r\n                        showSellPrice: false, // 卖价线\r\n                        showSeriesOHLC: true, // 高开低收\r\n                        showBarChange: true, // 涨跌幅\r\n                        chartType: '1', // 图表类型\r\n                        showSeriesTitle: false // K线标题\r\n                    },\r\n                    indicators: [\r\n                        {\r\n                            name: 'Bollinger Bands',\r\n                            params: [true, false, [26, 2]]\r\n                        },\r\n                        {\r\n                            name: 'Custom MACD',\r\n                            params: [false, false, [12, 26, 'close', 9]]\r\n                        }\r\n\r\n                    ],\r\n                    extension: {\r\n                        theme: invertColor === 'light' ? 'Light' : 'Dark', // 主题 \"Light\" | \"Dark\"\r\n                        fullScreen: false // 全屏功能（右上角缩放按钮、横屏监听等）\r\n                    }\r\n                })\r\n            } else {\r\n                state.mainStudy = JSON.parse(locChartConfig.mainStudy).name\r\n                state.subStudy = JSON.parse(locChartConfig.subStudy).name\r\n                state.activeTab = candleKTypeList.find(item => String(item.ktype) === String(locChartConfig.resolution)).ktype\r\n\r\n                state.klineType = locChartConfig.chartType\r\n                state.settingList = locChartConfig.lineSetList\r\n\r\n                state.initConfig = ref({\r\n                    property: {\r\n                        showLastPrice: locChartConfig.showLastPrice, // 现价线\r\n                        showPositionPrice: locChartConfig.showPositionPrice, // 持仓线\r\n                        showBuyPrice: locChartConfig.showBuyPrice, // 买价线\r\n                        showSellPrice: locChartConfig.showSellPrice, // 卖价线\r\n                        showSeriesOHLC: true, // 高开低收\r\n                        showBarChange: true, // 涨跌幅\r\n                        chartType: locChartConfig.chartType, // 图表类型\r\n                        showSeriesTitle: false // K线标题\r\n                    },\r\n                    indicators: [\r\n                        JSON.parse(locChartConfig.mainStudy),\r\n                        JSON.parse(locChartConfig.subStudy)\r\n\r\n                    ],\r\n                    extension: {\r\n                        theme: invertColor === 'light' ? 'Light' : 'Dark', // 主题 \"Light\" | \"Dark\"\r\n                        fullScreen: false // 全屏功能（右上角缩放按钮、横屏监听等）\r\n                    }\r\n                })\r\n\r\n            // state.settingList = chartConfig.lineSet\r\n            }\r\n            // renderChart(state.initConfig.property)\r\n        }\r\n\r\n        // 添加自选\r\n        const addOptional = () => {\r\n            state.loading = topRightVue\r\n            if (isSelfSymbol.value) {\r\n                removeCustomerOptional({ symbolList: [symbolId] }).then(res => {\r\n                    if (res.check()) {\r\n                        state.loading = false\r\n                        store.dispatch('_user/queryCustomerOptionalList')\r\n                        Toast(t('trade.removeOptionalOk'))\r\n                        collect.value.classList.remove('icon_zixuan2')\r\n                    }\r\n                }).catch(err => {\r\n                    state.loading = false\r\n                })\r\n            } else {\r\n                addCustomerOptional({ symbolList: [symbolId] }).then(res => {\r\n                    if (res.check()) {\r\n                        state.loading = false\r\n                        store.dispatch('_user/queryCustomerOptionalList')\r\n                        collect.value.classList.add('icon_zixuan2')\r\n\r\n                        Toast(t('trade.addOptionalOk'))\r\n                    }\r\n                }).catch(err => {\r\n                    state.loading = false\r\n                })\r\n            }\r\n        }\r\n\r\n        const toOrder = (direction) => {\r\n            router.push({\r\n                path: '/order',\r\n                query: {\r\n                    symbolId, direction\r\n                }\r\n            })\r\n        }\r\n\r\n        // 格式化时间\r\n        const formatTime = (val) => {\r\n            if (val) { return dayjs(Number(val)).format('HH:mm:ss') }\r\n        }\r\n\r\n        // 初始化图表配置\r\n        initChartData()\r\n\r\n        return {\r\n            ...toRefs(state),\r\n            candleKTypeList,\r\n            klineTypeList,\r\n            onBeforeChange,\r\n            onClickStudy,\r\n            createStudy,\r\n            removeStudy,\r\n            showTips,\r\n            updateShow,\r\n            onClickMoreTime,\r\n            setChartType,\r\n            klineTypeDropdown,\r\n            klineTypeIndex,\r\n            toContractInfo,\r\n            isSelfSymbol,\r\n            product,\r\n            initialValue,\r\n            indicatorRemoved,\r\n            chartRef,\r\n            handleLineChange,\r\n            orientationChanged,\r\n            positionList,\r\n            onChartReady,\r\n            addOptional,\r\n            toOrder,\r\n            collect,\r\n            formatTime,\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n@import '~@/sass/animations.scss';\r\n.page-wrap {\r\n    width: 100%;\r\n    height: 100%;\r\n    margin-top: rem(90px);\r\n    margin-bottom: rem(120px);\r\n    overflow: auto;\r\n    background: var(--bgColor);\r\n    &.isIframe {\r\n        margin-bottom: 0;\r\n        .footerBtnBox,\r\n        .right-wrap {\r\n            display: none;\r\n        }\r\n    }\r\n    .infomation {\r\n        padding-top: rem(5px);\r\n        color: var(--minorColor);\r\n        font-size: rem(20px);\r\n        line-height: rem(24px);\r\n    }\r\n    .right-wrap {\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        align-items: center;\r\n        justify-content: center;\r\n        height: 100%;\r\n        .ft {\r\n            margin-left: rem(30px);\r\n            a {\r\n                display: inline-block;\r\n            }\r\n            .icon_guanyu {\r\n                color: rgb(153, 153, 153);\r\n            }\r\n        }\r\n        .collectIcon {\r\n            width: rem(40px);\r\n            height: 100%;\r\n            color: #777;\r\n            vertical-align: top;\r\n            background-color: var(--contentColor);\r\n            .icon_zixuan1 {\r\n                font-weight: normal !important;\r\n            }\r\n            .icon_zixuan2 {\r\n                color: #FC822F;\r\n                animation: heartBeat 1.3s ease-in-out forwards;\r\n            }\r\n            .loading {\r\n                position: relative;\r\n                &::before {\r\n                    position: absolute;\r\n                    animation: loading 0.6s linear infinite;\r\n                }\r\n            }\r\n            .zoomIn {\r\n                position: relative;\r\n                &::before {\r\n                    position: absolute;\r\n                    animation: zoomIn 0.6s linear forwards;\r\n                }\r\n            }\r\n            &.disabled {\r\n                background-color: #F00;\r\n            }\r\n        }\r\n    }\r\n    .productInfo {\r\n        position: relative;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n        justify-content: flex-start;\r\n        padding: rem(10px) rem(20px) rem(10px) rem(20px);\r\n        background: var(--contentColor);\r\n        transform: translateZ(1px);\r\n        // margin-bottom: rem(10px);\r\n        .hd {\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: nowrap;\r\n            align-items: center;\r\n            justify-content: flex-start;\r\n            width: 100%;\r\n            min-width: rem(265px);\r\n            font-size: rem(24px);\r\n            line-height: 1;\r\n            .others {\r\n                flex: 1;\r\n                margin-left: rem(10px);\r\n                > span {\r\n                    display: block;\r\n                    margin: rem(5px) 0;\r\n                }\r\n                .others-bottom {\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    justify-content: flex-start;\r\n                }\r\n            }\r\n            .expire-date {\r\n                display: flex;\r\n                flex: 1;\r\n                flex-direction: row;\r\n                flex-wrap: nowrap;\r\n                align-self: flex-end;\r\n                justify-content: flex-end;\r\n                color: #646566;\r\n                font-size: rem(24px);\r\n                white-space: nowrap;\r\n                .value {\r\n                    min-width: rem(153px);\r\n                    text-align: right;\r\n                }\r\n            }\r\n            .account-info {\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                justify-content: center;\r\n                padding: rem(14px) rem(17px) rem(10px);\r\n                color: #FF8400;\r\n                font-weight: 500;\r\n                font-size: rem(21px);\r\n                border: 2px solid #FF8400;\r\n                border-radius: rem(10px);\r\n                .text {\r\n                    display: block;\r\n                    margin-bottom: rem(5px);\r\n                    font-size: rem(22px);\r\n                    line-height: rem(24px);\r\n                }\r\n                .balance {\r\n                    font-weight: 400;\r\n                    font-size: rem(30px);\r\n                    line-height: rem(32px);\r\n                }\r\n            }\r\n            .hd-left {\r\n                &.flex-auto {\r\n                    flex: 1;\r\n                }\r\n                .hd-left-others {\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    flex-wrap: nowrap;\r\n                    .others-bottom {\r\n                        margin-left: rem(20px);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .bd {\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: nowrap;\r\n            justify-content: flex-start;\r\n            width: 100%;\r\n            padding-top: rem(20px);\r\n            color: var(--normalColor);\r\n            font-size: rem(24px);\r\n            .item {\r\n                display: flex;\r\n                flex: 1;\r\n                flex-direction: column;\r\n                margin-left: rem(50px);\r\n                &:first-child {\r\n                    margin-left: 0;\r\n                }\r\n                &:first-child {\r\n                    margin-right: rem(5px);\r\n                }\r\n                > p {\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    flex-wrap: nowrap;\r\n                    justify-content: space-between;\r\n                    white-space: nowrap;\r\n                    &.priceBottom {\r\n                        margin-bottom: rem(10px);\r\n                    }\r\n                }\r\n            }\r\n            .point-value {\r\n                display: flex;\r\n                flex-direction: row;\r\n                flex-wrap: nowrap;\r\n                align-items: center;\r\n                justify-content: flex-start;\r\n                .van-icon {\r\n                    padding: 0 rem(5px);\r\n                }\r\n            }\r\n        }\r\n        .priceTime {\r\n            position: absolute;\r\n            top: rem(35px);\r\n            right: rem(20px);\r\n            color: #777;\r\n        }\r\n        .cur_price {\r\n            font-size: rem(60px);\r\n            // padding-bottom: rem(13px);\r\n        }\r\n        .upDownAmount {\r\n            // padding-left: rem(20px);\r\n        }\r\n        .icon_icon_prompt {\r\n            @include active();\r\n            font-size: rem(40px);\r\n            vertical-align: middle;\r\n        }\r\n    }\r\n    .placeholder {\r\n        height: rem(10px);\r\n        background: var(--bgColor);\r\n    }\r\n    .tv-head {\r\n        box-sizing: border-box;\r\n        // 若高度调整，需同时处理vant-tab组件内的高度和行高等\r\n        width: 100%;\r\n        height: rem(60px);\r\n        background-color: var(--contentColor);\r\n    }\r\n    .tabs-wrap {\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        height: 100%;\r\n        .van-popup {\r\n            @include scroll();\r\n        }\r\n        .tabs {\r\n            flex: 1;\r\n            :deep(.van-tab) {\r\n                flex: 1;\r\n                flex-basis: auto !important;\r\n                padding: 0;\r\n                font-size: rem(24px);\r\n                line-height: rem(60px);\r\n                white-space: nowrap;\r\n            }\r\n            :deep(.van-tabs__wrap) {\r\n                height: rem(60px);\r\n                .van-tabs__nav--line {\r\n                    padding-bottom: 0;\r\n                }\r\n                .van-tabs__line {\r\n                    bottom: 0;\r\n                }\r\n            }\r\n        }\r\n        .other-time-tab {\r\n            min-width: rem(61px);\r\n            white-space: nowrap;\r\n            text-align: center;\r\n        }\r\n        .more-time {\r\n            position: relative;\r\n            height: 100%;\r\n            padding: 0 4px 0 0;\r\n            color: #646566;\r\n            font-size: rem(24px);\r\n            line-height: rem(60px);\r\n            background-color: var(--contentColor);\r\n            &::after {\r\n                position: absolute;\r\n                top: 50%;\r\n                right: 1px;\r\n                margin-top: -5px;\r\n                border: 3px solid;\r\n                border-color: transparent transparent var(--normalColor) var(--normalColor);\r\n                -webkit-transform: rotate(-45deg);\r\n                transform: rotate(-45deg);\r\n                opacity: 0.8;\r\n                content: '';\r\n            }\r\n            &.opened {\r\n                &::after {\r\n                    margin-top: -1px;\r\n                    // border-color: transparent transparent currentColor currentColor;\r\n                    transform: rotate(135deg);\r\n                }\r\n            }\r\n            .options {\r\n                position: absolute;\r\n                top: rem(71px);\r\n                left: rem(-100px);\r\n                z-index: 10;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                justify-content: center;\r\n                margin-top: rem(1px);\r\n                background: var(--contentColor);\r\n                //box-shadow: 0 0 2px 0 #EBEDF0;\r\n                .option {\r\n                    padding: rem(20px) rem(50px) rem(10px);\r\n                    color: var(--normalColor);\r\n                    line-height: rem(30px);\r\n                    white-space: nowrap;\r\n                    &.active {\r\n                        color: var(--primary);\r\n                    }\r\n                }\r\n            }\r\n            .mask {\r\n                position: fixed;\r\n                top: 0;\r\n                left: 0;\r\n                z-index: 9;\r\n                width: 100%;\r\n                height: 100%;\r\n                opacity: 0;\r\n            }\r\n        }\r\n        .loadingIcon {\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: center;\r\n            justify-content: center;\r\n            width: rem(80px);\r\n            text-align: center;\r\n            background: #FFF;\r\n        }\r\n        .flex-right {\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: nowrap;\r\n        }\r\n        .study-wrap,\r\n        .kIcon-wrap {\r\n            height: auto;\r\n            :deep(.van-dropdown-menu__title) {\r\n                color: #646566;\r\n                font-size: rem(24px);\r\n            }\r\n            :deep(.van-dropdown-menu__bar) {\r\n                width: 100%;\r\n                height: 100%;\r\n                box-shadow: none;\r\n            }\r\n            .mainColor {\r\n                color: var(--primary);\r\n            }\r\n        }\r\n        .chartPositinLine {\r\n            font-size: rem(40px);\r\n        }\r\n        .study-wrap {\r\n            width: rem(120px);\r\n            :deep(.van-dropdown-menu__bar) {\r\n                .van-dropdown-menu__bar {\r\n                    box-sizing: border-box;\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    padding-right: 13px;\r\n                }\r\n            }\r\n        }\r\n        .kIcon-wrap {\r\n            width: rem(80px);\r\n            padding-right: 0;\r\n            :deep(.van-dropdown-menu__item) {\r\n                background-color: var(--contentColor);\r\n                .van-dropdown-menu__title::after {\r\n                    display: none;\r\n                }\r\n            }\r\n        }\r\n        .kIcon {\r\n            display: inline-block;\r\n            color: var(--normalColor);\r\n            vertical-align: middle;\r\n        }\r\n        .klineTypeRightIcon {\r\n            padding-top: rem(10px);\r\n            font-size: rem(36px);\r\n        }\r\n        .setting {\r\n            position: relative;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            width: rem(80px);\r\n            background: var(--contentColor);\r\n            .icon {\r\n                color: var(--normalColor);\r\n                font-size: rem(32px);\r\n            }\r\n            .content {\r\n                position: absolute;\r\n                top: rem(72px);\r\n                right: 0;\r\n                z-index: 10;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                align-items: flex-start;\r\n                justify-content: center;\r\n                background: var(--contentColor);\r\n                box-shadow: 0 0 2px 0 var(--contentColor);\r\n                .item {\r\n                    padding: rem(20px) rem(50px) rem(10px);\r\n                    line-height: rem(30px);\r\n                    white-space: nowrap;\r\n                    &.active {\r\n                        :deep(&.van-checkbox__icon--disabled) {\r\n                            .van-icon {\r\n                                background-color: #EBEDF0;\r\n                                border-color: #C8C9CC;\r\n                            }\r\n                        }\r\n                        .van-icon {\r\n                            background-color: red;\r\n                            border-color: red;\r\n                        }\r\n                        .van-checkbox__label {\r\n                            color: red;\r\n                            &.van-checkbox__label--disabled {\r\n                                color: #C8C9CC;\r\n                            }\r\n                        }\r\n                    }\r\n                    :deep(.van-checkbox__label) {\r\n                        color: var(--color);\r\n                    }\r\n                }\r\n            }\r\n            .mask {\r\n                position: fixed;\r\n                top: 0;\r\n                left: 0;\r\n                z-index: 9;\r\n                width: 100%;\r\n                height: 100%;\r\n                opacity: 0;\r\n            }\r\n        }\r\n    }\r\n    .study-area {\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        width: 100%;\r\n        height: rem(60px);\r\n        line-height: rem(60px);\r\n        background: var(--contentColor);\r\n        .main-study,\r\n        .side-study {\r\n            display: flex;\r\n            flex: 1;\r\n            flex-direction: row;\r\n            flex-wrap: nowrap;\r\n            align-items: flex-end;\r\n            justify-content: flex-start;\r\n            height: 100%;\r\n            overflow-x: auto;\r\n            .content {\r\n                display: flex;\r\n                flex: 1;\r\n                flex-direction: row;\r\n                flex-wrap: nowrap;\r\n                justify-content: space-around;\r\n                white-space: nowrap;\r\n                .item {\r\n                    display: flex;\r\n                    flex: 1;\r\n                    flex-direction: row;\r\n                    align-items: flex-end;\r\n                    justify-content: center;\r\n                    padding: 0 rem(10px);\r\n                    color: #646566;\r\n                    font-size: rem(24px);\r\n                    text-align: center;\r\n                    &.active {\r\n                        color: var(--primary);\r\n                        .inner-label {\r\n                            color: var(--primary);\r\n                        }\r\n                    }\r\n                    &.disabled {\r\n                        color: var(--minorColor);\r\n                    }\r\n                    .inner-label {\r\n                        flex: 1;\r\n                        height: rem(50px);\r\n                        color: var(--normalColor);\r\n                        line-height: rem(45px);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .more {\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: flex-end;\r\n            justify-content: center;\r\n            margin: 0 rem(10px);\r\n            .inner-label {\r\n                flex: 1;\r\n                height: rem(50px);\r\n                line-height: rem(45px);\r\n            }\r\n        }\r\n    }\r\n\r\n    // 底部按钮\r\n    .footerBtnBox {\r\n        position: absolute;\r\n        bottom: rem(20px);\r\n        left: 0;\r\n        z-index: 2;\r\n        display: flex;\r\n        width: 100%;\r\n        height: rem(100px);\r\n        text-align: center;\r\n        background: var(--contentColor);\r\n        .watch {\r\n            @include active();\r\n            width: rem(110px);\r\n            padding-top: rem(20px);\r\n            line-height: 1;\r\n            background-color: #FFF;\r\n            .icon {\r\n                font-size: rem(40px);\r\n            }\r\n            .text {\r\n                padding-top: rem(8px);\r\n                font-size: rem(20px);\r\n            }\r\n        }\r\n        .trade-btn-wrap {\r\n            position: relative;\r\n            display: flex;\r\n            flex: 1;\r\n            flex-direction: row;\r\n            flex-wrap: nowrap;\r\n            padding: 0 rem(20px);\r\n            white-space: nowrap;\r\n            .buy {\r\n                margin-left: rem(20px);\r\n            }\r\n        }\r\n        .sell,\r\n        .buy {\r\n            @include active();\r\n            position: relative;\r\n            flex: 1;\r\n            padding-top: rem(18px);\r\n            color: #FFF;\r\n            font-size: rem(24px);\r\n            line-height: 1;\r\n            background-color: #858C9A;\r\n            border-radius: 3px;\r\n            &.fallColorBg {\r\n                background-color: var(--riseColor);\r\n            }\r\n            &.riseColorBg {\r\n                background-color: var(--fallColor);\r\n            }\r\n        }\r\n        .sell::after {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            width: 1px;\r\n            height: 100%;\r\n            background-color: rgba(0, 0, 0, 0.15);\r\n            content: '';\r\n        }\r\n        .text {\r\n            font-size: rem(28px);\r\n            vertical-align: middle;\r\n        }\r\n        .price {\r\n            padding-top: rem(12px);\r\n            font-size: rem(32px);\r\n            vertical-align: middle;\r\n            &.fallColorArrow::after {\r\n                position: relative;\r\n                left: rem(5px);\r\n                font-weight: normal;\r\n                font-size: rem(17px);\r\n                font-family: 'iconfont' !important;\r\n                vertical-align: middle;\r\n                content: '\\e674';\r\n            }\r\n            &.riseColorArrow::after {\r\n                position: relative;\r\n                left: rem(5px);\r\n                font-weight: normal;\r\n                font-size: rem(17px);\r\n                font-family: 'iconfont' !important;\r\n                vertical-align: middle;\r\n                content: '\\e675';\r\n            }\r\n        }\r\n        .spread_text {\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 50%;\r\n            height: rem(44px);\r\n            padding: 0 rem(14px);\r\n            color: var(--color);\r\n            font-size: rem(28px);\r\n            line-height: rem(46px);\r\n            background: var(--contentColor);\r\n            border-radius: 3px;\r\n            transform: translate(-50%, -50%);\r\n        }\r\n        .scrollToPosition {\r\n            display: flex;\r\n            flex: 0 0 rem(140px);\r\n            flex-direction: row;\r\n            align-content: center;\r\n            justify-content: center;\r\n            margin-right: rem(20px);\r\n            color: #333;\r\n            font-weight: 500;\r\n            font-size: rem(28px);\r\n            line-height: rem(100px);\r\n            background: #EEE;\r\n            border-radius: 3px;\r\n        }\r\n    }\r\n    .chart-wrap {\r\n        height: rem(720px);\r\n    }\r\n}\r\n\r\n</style>\r\n","<template>\r\n    <span class='icon'>\r\n        <template v-if='value===1'>\r\n            <svg height='28' viewBox='0 0 28 28' width='28' xmlns='http://www.w3.org/2000/svg'>\r\n                <g fill='none' stroke='currentColor' stroke-linecap='square'>\r\n                    <path d='M10.5 7.5v15M7.5 20.5H10M13.5 11.5H11M19.5 6.5v15M16.5 9.5H19M22.5 16.5H20' />\r\n                </g>\r\n            </svg>\r\n        </template>\r\n        <template v-else-if='value===2'>\r\n            <svg fill='currentColor' height='28' viewBox='0 0 28 28' width='28' xmlns='http://www.w3.org/2000/svg'>\r\n                <path\r\n                    d='M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z'\r\n                />\r\n                <path d='M18 7h1v3.5h-1zm0 10.5h1V21h-1z' />\r\n                <path\r\n                    d='M9 8v12h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5z'\r\n                />\r\n                <path d='M10 4h1v3.5h-1zm0 16.5h1V24h-1z' />\r\n            </svg>\r\n        </template>\r\n        <template v-else-if='value===3'>\r\n            <svg fill='currentColor' height='28' viewBox='0 0 28 28' width='28' xmlns='http://www.w3.org/2000/svg'>\r\n                <path\r\n                    d='M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z'\r\n                />\r\n                <path d='M18 7h1v3.5h-1zm0 10.5h1V21h-1z' />\r\n                <path\r\n                    d='M9 8v11h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-12a.5.5 0 0 1 .5-.5z'\r\n                />\r\n                <path\r\n                    d='M10 4h1v5h-1zm0 14h1v5h-1zM8.5 9H10v1H8.5zM11 9h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11z'\r\n                />\r\n            </svg>\r\n        </template>\r\n        <template v-else-if='value===4'>\r\n            <svg fill='currentColor' height='28' viewBox='0 0 28 28' width='28' xmlns='http://www.w3.org/2000/svg'>\r\n                <path\r\n                    d='M9 8v12h3V8H9zm-1-.502C8 7.223 8.215 7 8.498 7h4.004c.275 0 .498.22.498.498v13.004a.493.493 0 0 1-.498.498H8.498A.496.496 0 0 1 8 20.502V7.498z'\r\n                />\r\n                <path d='M10 4h1v3.5h-1z' />\r\n                <path\r\n                    d='M17 6v6h3V6h-3zm-1-.5c0-.276.215-.5.498-.5h4.004c.275 0 .498.23.498.5v7c0 .276-.215.5-.498.5h-4.004a.503.503 0 0 1-.498-.5v-7z'\r\n                />\r\n                <path d='M18 2h1v3.5h-1z' />\r\n            </svg>\r\n        </template>\r\n        <template v-else-if='value===5'>\r\n            <svg height='28' viewBox='0 0 28 28' width='28' xmlns='http://www.w3.org/2000/svg'>\r\n                <path\r\n                    d='M11.982 16.689L17.192 12h3.033l4.149-4.668-.748-.664L19.776 11h-2.968l-4.79 4.311L9 12.293l-4.354 4.353.708.708L9 13.707z'\r\n                    fill='currentColor'\r\n                />\r\n            </svg>\r\n        </template>\r\n        <template v-else-if='value===6'>\r\n            <svg fill='currentColor' height='28' viewBox='0 0 28 28' width='28' xmlns='http://www.w3.org/2000/svg'>\r\n                <path\r\n                    d='M12.5 17.207L18.707 11h2l3.647-3.646-.708-.708L20.293 10h-2L12.5 15.793l-3-3-4.854 4.853.708.708L9.5 14.207z'\r\n                />\r\n                <path\r\n                    d='M9 16h1v1H9zm1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-3-3h1v1H8zm-1 1h1v1H7zm-1 1h1v1H6zm2 0h1v1H8zm-1 1h1v1H7zm-2 0h1v1H5zm17-9h1v1h-1zm1-1h1v1h-1zm0 2h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-5-7h1v1h-1zm2 0h1v1h-1zm1-1h1v1h-1zm-2 2h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-2-6h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-3-3h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1z'\r\n                />\r\n            </svg>\r\n        </template>\r\n        <template v-else-if='value===7'>\r\n            <svg height='28' viewBox='0 0 28 28' width='28' xmlns='http://www.w3.org/2000/svg'>\r\n                <g fill='none' stroke='currentColor'>\r\n                    <path d='M4 14.5h22' stroke-dasharray='1 1' />\r\n                    <path d='M7.5 12.5l2-4 1 2 2-4 3 6' stroke-linecap='round' stroke-linejoin='round' />\r\n                    <path d='M5.5 16.5l-1 2' stroke-linecap='round' />\r\n                    <path d='M17.5 16.5l2 4 2-4m2-4l1-2-1 2z' stroke-linecap='round' stroke-linejoin='round' />\r\n                </g>\r\n            </svg>\r\n        </template>\r\n        <template v-else-if='value===8'>\r\n            <svg\r\n                class='icon'\r\n                p-id='1428'\r\n                t='1590479572150'\r\n                version='1.1'\r\n                height='16'\r\n                viewBox='0 0 1024 1024'\r\n                fill='currentColor'\r\n                width='16'\r\n                xmlns='http://www.w3.org/2000/svg'\r\n                xmlns:xlink='http://www.w3.org/1999/xlink'\r\n            >\r\n                <path\r\n                    d='M147.911 876.089v-800.995h-72.818v800.995h-0.182v72.818h873.813v-72.818h-800.814z'\r\n                    p-id='1429'\r\n                />\r\n                <path\r\n                    d='M622.137 657.271l-209.078-184.047-139.537 175.218-56.98-45.329 187.324-235.11 210.352 185.322 282.533-337.783 55.796 46.785-330.411 394.945z'\r\n                    p-id='1430'\r\n                />\r\n            </svg>\r\n        </template>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        value: {\r\n            type: Number,\r\n            default: 1\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nsvg {\r\n    width: 22px;\r\n    vertical-align: middle;\r\n}\r\n</style>\r\n","import { render } from \"./kIcon.vue?vue&type=template&id=20129faa&scoped=true\"\nimport script from \"./kIcon.vue?vue&type=script&lang=js\"\nexport * from \"./kIcon.vue?vue&type=script&lang=js\"\n\nimport \"./kIcon.vue?vue&type=style&index=0&id=20129faa&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-20129faa\"\n\nexport default script","<template>\r\n    <div v-if='showTabs' class='stallsAndDeal'>\r\n        <van-tabs\r\n            ref='tabs'\r\n            class='tabs'\r\n            color='#477fd3'\r\n            line-height='2'\r\n            line-width='20'\r\n            title-active-color='#477fd3'\r\n        >\r\n            <van-tab v-if='statusList.indexOf(\"stalls\") > -1' name='stalls' :title='$t(\"trade.sellFive\")'>\r\n                <!-- <van-empty v-if='product.tickResult.length === 0' image='/images/empty.png'>\r\n                    {{ $t('trade.noStallsData') }}\r\n                </van-empty> -->\r\n                <div v-for='(item,index) in product.tickResult' :key='index' class='stalls-wrap'>\r\n                    <div class='sell-wrap'>\r\n                        <div class='item quantity'>\r\n                            <span class='label'>\r\n                                {{ $t('trade.sellShort') }}{{ index+1 }}\r\n                            </span>\r\n                            <span class='price riseColor '>\r\n                                {{ parseFloat(item.price_bid).toFixed(product.price_digits) }}\r\n                            </span>\r\n                            <span class='quantity'>\r\n                                {{ item.volume_bid }}\r\n                            </span>\r\n                            <span\r\n                                class='histogram sell-histogram'\r\n                                :style='\"width:\"+ item?.width?.sell *100 + \"%\"'\r\n                            ></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class='scale-wrap'>\r\n                        <span class='left'></span>\r\n                        <span class='right'></span>\r\n                    </div>\r\n                    <div class='buy-wrap'>\r\n                        <div class='item quantity'>\r\n                            <span class='label'>\r\n                                {{ $t('trade.buyShort') }}{{ index+1 }}\r\n                            </span>\r\n                            <span class='price fallColor'>\r\n                                {{ parseFloat(item.price_ask).toFixed(product.price_digits) }}\r\n                            </span>\r\n                            <span class='quantity'>\r\n                                {{ item.volume_ask }}\r\n                            </span>\r\n                            <span\r\n                                class='histogram buy-histogram'\r\n\r\n                                :style='\"width:\"+ item?.width?.buy * 100 + \"%\"'\r\n                            ></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </van-tab>\r\n            <van-tab v-if='statusList.indexOf(\"deal\") > -1' name='deal' :title='$t(\"trade.deal\")'>\r\n                <!-- 成交记录 -->\r\n                <div class='deal-wrap'>\r\n                    <van-empty v-if='dealData.length === 0' image='/images/empty.png'>\r\n                        {{ $t('trade.noDealData') }}\r\n                    </van-empty>\r\n                    <div v-else class='list-wrap'>\r\n                        <div class='col time-col'>\r\n                            <span class='label'>\r\n                                {{ $t('trade.sortTime') }}\r\n                            </span>\r\n                            <span v-if='dealData.length' class='val forWide'>\r\n                                {{ formatTime(dealData[0][1]) }}\r\n                            </span>\r\n                            <div class='vals'>\r\n                                <span class='val'>\r\n                                    <span v-for='(item, i) in dealData' :key='i' class='val' :class='item.colorCls'>\r\n                                        {{ formatTime(item[1]) }}\r\n                                    </span>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div class='col price-col'>\r\n                            <span class='label'>\r\n                                {{ $t('trade.dealPrice') }}\r\n                            </span>\r\n                            <span v-if='dealData.length' class='val forWide'>\r\n                                {{ dealData[0][2] }}\r\n                            </span>\r\n                            <div class='vals'>\r\n                                <span v-for='(item, i) in dealData' :key='i' class='val' :class='item.colorCls'>\r\n                                    {{ item[2] }}\r\n                                </span>\r\n                            </div>\r\n                        </div><div class='col volume-col'>\r\n                            <span class='label'>\r\n                                {{ $t('trade.dealVolume') }}\r\n                            </span>\r\n                            <span v-if='dealData.length' class='val forWide'>\r\n                                {{ dealData[0][3] }}\r\n                            </span>\r\n                            <div class='vals'>\r\n                                <span v-for='(item, i) in dealData' :key='i' class='val' :class='item.colorCls'>\r\n                                    {{ item[3] }}\r\n                                <!-- {{ item[4] === 1 ? 'B' : 'S' }} -->\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </van-tab>\r\n        </van-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { computed, reactive, toRefs, watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport dayjs from 'dayjs'\r\nexport default {\r\n    props: ['symbolId', 'settingList', 'curPrice'],\r\n    setup (props) {\r\n        const store = useStore()\r\n        const state = reactive({\r\n            dealData: [],\r\n            tempDealData: [],\r\n            statusList: props.settingList,\r\n            isDealDelaying: false,\r\n            timer: 0,\r\n        })\r\n        const product = computed(() => store.state._quote.productMap[props.symbolId])\r\n        const showTabs = computed(() => {\r\n            if (props.settingList.indexOf('stalls') === -1 && props.settingList.indexOf('deal') === -1) {\r\n                return false\r\n            }\r\n            return true\r\n        })\r\n        watch(() => [product.value.tickResult], (newValues) => {\r\n            const result = product.value.tickResult\r\n            const tempArr = []\r\n            if (result.length > 0) {\r\n                result.forEach(item => {\r\n                    tempArr.push(item.volume_ask)\r\n                    tempArr.push(item.volume_bid)\r\n                })\r\n            }\r\n            const maxValue = Math.max(...tempArr)\r\n            const minValue = Math.min(...tempArr)\r\n            const diff = maxValue - minValue\r\n            // 计算深度\r\n            result.forEach(item => {\r\n                item.width = {\r\n                    buy: diff === 0 ? 0 : (parseFloat(item.volume_ask) - parseFloat(minValue)) / diff,\r\n                    sell: diff === 0 ? 0 : (parseFloat(item.volume_bid) - parseFloat(minValue)) / diff,\r\n                }\r\n            })\r\n        })\r\n\r\n        watch(\r\n            () => props.settingList,\r\n            (val) => {\r\n                console.log(props.settingList)\r\n                if (props.settingList.indexOf('stalls') === -1 && props.settingList.indexOf('deal') === -1) {\r\n                    state.showTabs = false\r\n                } else {\r\n                    state.showTabs = true\r\n                }\r\n                state.statusList = props.settingList\r\n                // state.activeObj = props.status\r\n            })\r\n\r\n        watch(() => props.curPrice, (newVal, oldVal) => {\r\n            const newList = []\r\n            const len = genRandomLen()\r\n            while (newList.length < len) {\r\n                const time = Date.now()\r\n                const volume = genRandomVolume()\r\n                newList.unshift([793065, time, newVal, volume, 2, 1])\r\n            }\r\n            if (newList.length && newVal && oldVal) {\r\n                if (newVal * 1 !== oldVal * 1) {\r\n                    if (newVal * 1 > oldVal * 1) {\r\n                        newList[newList.length - 1].colorCls = 'riseColor'\r\n                    } else {\r\n                        newList[newList.length - 1].colorCls = 'fallColor'\r\n                    }\r\n                }\r\n            }\r\n\r\n            state.tempDealData.unshift(...newList)\r\n        })\r\n\r\n        watch(() => state.tempDealData, (val, old) => {\r\n            if (!val.length) {\r\n                state.isDealDelaying = false\r\n            }\r\n\r\n            if (val.length && !state.isDealDelaying) {\r\n                state.isDealDelaying = true\r\n                delayMounted()\r\n                // console.log(val.length, 'delayMounted')\r\n            }\r\n        }, {\r\n            deep: true,\r\n            immediate: true,\r\n        })\r\n\r\n        const delayMounted = (time = 100) => {\r\n            requestAnimationFrame(() => {\r\n                if (!state.tempDealData.length) {\r\n                    return\r\n                }\r\n                // if (this.tempDealData.length > 100) {\r\n                //     this.tempDealData.splice(0, this.tempDealData.length - 60)\r\n                // }\r\n                state.tempDealData.splice(20)\r\n                if (state.dealData.length > 20) {\r\n                    state.dealData.pop()\r\n                }\r\n                state.dealData.unshift(state.tempDealData.splice(state.tempDealData.length - 1, 1)[0])\r\n\r\n                state.timer = setTimeout(() => {\r\n                    delayMounted(100 / state.tempDealData.length)\r\n                }, time)\r\n            })\r\n        }\r\n\r\n        // 生成随机长度，大于0\r\n        const genRandomLen = () => {\r\n            // 笔数=【1，5】随机\r\n            const random = Math.random()\r\n            let range = []\r\n            if (random < 0.7) {\r\n                // 3条概率\r\n                range = [0, 3]\r\n            } else {\r\n                // 5条概率\r\n                range = [3, 2]\r\n            }\r\n\r\n            let len = range[0] + Math.random() * range[1]\r\n            while (!len) {\r\n                len = range[0] + Math.random() * range[1]\r\n            }\r\n\r\n            return len\r\n        }\r\n\r\n        // 生成随机成交量，大于0\r\n        const genRandomVolume = () => {\r\n            const random = Math.random()\r\n            let range = []\r\n            if (random < 0.7) {\r\n                range = [0, 3]\r\n            } else {\r\n                range = [3, 10]\r\n            }\r\n            // BTC产品 数量=【0，30】随机，保留3位小数\r\n            // ETH产品 数量=【0，100】随机，保留3位小数\r\n            let volume = range[0] + Math.random() * range[1]\r\n            while (!volume) {\r\n                volume = range[0] + Math.random() * range[1]\r\n            }\r\n            volume = volume.toFixed(3)\r\n\r\n            return volume\r\n        }\r\n\r\n        // 格式化时间\r\n        const formatTime = (val) => {\r\n            return dayjs(val).format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n\r\n        return {\r\n            product,\r\n            formatTime,\r\n            showTabs,\r\n            ...toRefs(state)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.stallsAndDeal {\r\n    min-width: rem(200px);\r\n    height: rem(890px);\r\n    margin-top: rem(10px);\r\n    margin-bottom: rem(30px);\r\n    background: var(--contentColor);\r\n    .tabs {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n        :deep() {\r\n            .van-tab {\r\n                font-size: rem(24px);\r\n                line-height: rem(50px);\r\n                background-color: var(--contentColor);\r\n            }\r\n            .van-tabs__wrap {\r\n                height: rem(50px);\r\n            }\r\n            .van-tabs__content {\r\n                flex: 1;\r\n                box-sizing: border-box;\r\n                padding-top: rem(10px);\r\n                padding-bottom: rem(20px);\r\n                background: var(--contentColor);\r\n                .van-tab__pane {\r\n                    height: 100%;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .stalls-wrap {\r\n        display: flex;\r\n        flex-direction: row;\r\n        width: 100%;\r\n        .sell-wrap,\r\n        .buy-wrap {\r\n            display: flex;\r\n            flex: 1;\r\n            flex-direction: column;\r\n            // justify-content: space-around;\r\n            justify-content: flex-start;\r\n            color: var(--mutedColor);\r\n            font-size: rem(22px);\r\n            .item {\r\n                // flex: 1;\r\n                display: flex;\r\n                flex-direction: row;\r\n                flex-wrap: nowrap;\r\n                align-items: center;\r\n                justify-content: flex-start;\r\n                box-sizing: border-box;\r\n                width: 100%;\r\n                height: rem(50px);\r\n                padding: 0 rem(10px);\r\n                white-space: nowrap;\r\n                .label,\r\n                .price,\r\n                .quantity {\r\n                    position: relative;\r\n                    z-index: 1;\r\n                }\r\n                .label {\r\n                    width: rem(50px);\r\n                }\r\n                .price {\r\n                    flex: 1;\r\n                    margin-right: rem(10px);\r\n                    text-align: left;\r\n                }\r\n                .quantity {\r\n                    color: var(--normalColor);\r\n                    // flex: 1;\r\n                    text-align: right;\r\n                }\r\n            }\r\n        }\r\n        .scale-wrap {\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: nowrap;\r\n            align-items: center;\r\n            box-sizing: border-box;\r\n            height: rem(50px);\r\n            padding: 0 rem(10px);\r\n            .left {\r\n                display: block;\r\n                flex: 0 0 50%;\r\n                height: rem(10px);\r\n                // background: linear-gradient(-60deg, transparent rem(5px), rgb(15, 52, 255) 0);\r\n                transition: flex 0.28s ease-in-out;\r\n            }\r\n            .right {\r\n                display: block;\r\n                flex: 1;\r\n                height: rem(10px);\r\n                // background: linear-gradient(127deg, transparent rem(5px), rgb(247, 75, 33) 0);\r\n            }\r\n        }\r\n        .quantity {\r\n            position: relative;\r\n            z-index: 0;\r\n            .histogram {\r\n                position: absolute;\r\n                top: 0;\r\n                right: 0;\r\n                width: 0;\r\n                max-width: 55%;\r\n                height: 100%;\r\n                opacity: 0.2;\r\n                transition: width 0.28s ease-in-out;\r\n                &.sell-histogram {\r\n                    background: rgb(227, 82, 92);\r\n                }\r\n                &.buy-histogram {\r\n                    background: rgb(16, 184, 115);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .deal-wrap {\r\n        position: relative;\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        color: var(--mutedColor);\r\n        font-size: rem(22px);\r\n        line-height: rem(24px);\r\n        .list-wrap {\r\n            display: flex;\r\n            flex: rem(300px); // 仅用于不撑开外层\r\n            flex-direction: row;\r\n            flex-wrap: nowrap;\r\n            width: 85%;\r\n            margin: 0 auto;\r\n            padding: 0 rem(10px);\r\n            overflow: hidden;\r\n            .col {\r\n                position: relative;\r\n                display: flex;\r\n                flex-direction: column;\r\n                overflow: hidden;\r\n                white-space: nowrap;\r\n                text-align: left;\r\n                &:last-child {\r\n                    margin-right: 0;\r\n                }\r\n                .label {\r\n                    position: relative;\r\n                    z-index: 1;\r\n                    width: 100%;\r\n                    padding: rem(5px) 0;\r\n                    background: var(--contentColor);\r\n                }\r\n                .vals {\r\n                    position: absolute;\r\n                    top: rem(26px);\r\n                    z-index: 0;\r\n                    min-height: 100%;\r\n                    .val {\r\n                        display: block;\r\n                        margin: rem(15px) 0;\r\n                    }\r\n                }\r\n                .forWide {\r\n                    height: 0;\r\n                    margin: 0 rem(2px);\r\n                    overflow: hidden;\r\n                    color: #FFF;\r\n                    opacity: 0;\r\n                }\r\n            }\r\n            .time-col{\r\n            }\r\n            .price-col {\r\n                flex: 1;\r\n                align-items: flex-end;\r\n                text-align: right;\r\n            }\r\n            .volume-col {\r\n                flex: 1;\r\n                align-items: flex-end;\r\n                margin-left: rem(6px);\r\n                text-align: right;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=485b72c1&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=485b72c1&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-485b72c1\"\n\nexport default script","<template>\r\n    <div v-if=\"routeName==='Quote'\" class='rightActions'>\r\n        <a class='icon icon_add' href='javascript:;'></a>\r\n        <a class='icon icon_bi' href='javascript:;'></a>\r\n    </div>\r\n    <div v-else-if=\"routeName==='Chart'\" class='rightActions'>\r\n        <a class='icon icon_xindingdan' href='javascript:;'></a>\r\n    </div>\r\n    <div v-else-if=\"routeName==='Trade'\" class='rightActions'>\r\n        <a class='icon icon_paixu' href='javascript:;'></a>\r\n        <a class='icon icon_xindingdan' href='javascript:;'></a>\r\n    </div>\r\n    <div v-else-if=\"routeName==='History'\" class='rightActions'>\r\n        <a class='icon icon_paixu' href='javascript:;'></a>\r\n        <a class='icon icon_rili' href='javascript:;'></a>\r\n    </div>\r\n    <div v-else-if=\"routeName==='OnlineService'\" class='rightActions'>\r\n        <a class='icon icon_gengduo' href='javascript:;'></a>\r\n    </div>\r\n    <div v-else-if=\"routeName==='AccountManager'\" class='rightActions'>\r\n        <a class='icon icon_add' href='javascript:;' @click=\"$router.push('/addAccount')\"></a>\r\n        <a class='icon icon_gengduo' href='javascript:;' @click='moreVisible=true'></a>\r\n    </div>\r\n    <!-- 账户管理页面更多按钮弹窗 -->\r\n    <div v-show='moreVisible' class='morePopup' @click='moreVisible=false'>\r\n        <div class='morePopupContainer'>\r\n            <router-link class='link of-1px-bottom' to='/modifyPwd'>更改密码</router-link>\r\n            <a class='link' href='javascript:;'>删除账户</a>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            moreVisible: false\r\n        }\r\n    },\r\n    computed: {\r\n        routeName () {\r\n            return this.$route.name\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.icon {\r\n    color: var(--white);\r\n    font-size: 1.4em;\r\n    &:not(:first-of-type) {\r\n        margin-left: 0.6em;\r\n    }\r\n    &.icon_gengduo {\r\n        font-size: 1.2em;\r\n        opacity: 0.7;\r\n    }\r\n}\r\n.morePopup {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 9;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.3);\r\n}\r\n.morePopupContainer {\r\n    position: absolute;\r\n    top: rem(90px);\r\n    right: rem(10px);\r\n    background: var(--bgColor);\r\n    .link {\r\n        @include active()\r\n    ;\r\n        display: block;\r\n        padding: 0 rem(30px);\r\n        color: var(--color);\r\n        font-size: rem(28px);\r\n        line-height: rem(88px);\r\n    }\r\n}\r\n.morePopupContainer {\r\n    color: var(--color);\r\n}\r\n</style>\r\n","import { render } from \"./topRight.vue?vue&type=template&id=0cc5e839&scoped=true\"\nimport script from \"./topRight.vue?vue&type=script&lang=js\"\nexport * from \"./topRight.vue?vue&type=script&lang=js\"\n\nimport \"./topRight.vue?vue&type=style&index=0&id=0cc5e839&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0cc5e839\"\n\nexport default script","import { render } from \"./product.vue?vue&type=template&id=2a2e49a3&scoped=true\"\nimport script from \"./product.vue?vue&type=script&lang=js\"\nexport * from \"./product.vue?vue&type=script&lang=js\"\n\nimport \"./product.vue?vue&type=style&index=0&id=2a2e49a3&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2a2e49a3\"\n\nexport default script","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./indicator.vue?vue&type=style&index=0&id=3592030e&lang=scss&scoped=true\"","<template>\r\n    <div class='tv'>\r\n        <!-- slot头部渲染 -->\r\n        <slot\r\n            v-if='chart'\r\n            name='top'\r\n            :resolutionList='resolutionList'\r\n            :setSymbol='setSymbol'\r\n        ></slot>\r\n        <!-- 图表承载节点 -->\r\n        <div id='tv-chart-container' :class='{ landscape: isLandscape }'></div>\r\n\r\n        <!-- slot横屏菜单渲染 -->\r\n        <slot\r\n            v-if='chart'\r\n            :chart='chart'\r\n            name='sideMenu'\r\n        ></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, onUnmounted, ref, unref } from 'vue'\r\nimport { resolutionToKlineType, resolutionToText } from './datafeeds/userConfig/config.js'\r\nimport { createChart } from './chart'\r\n\r\nexport default {\r\n    props: {\r\n        // 产品初始值\r\n        initialValue: {\r\n            type: Object,\r\n            default: null\r\n        },\r\n        options: {\r\n            type: Object,\r\n            default: () => ({})\r\n        }\r\n    },\r\n    setup (props, context) {\r\n        // 是否横屏\r\n        const isLandscape = ref([90, -90].includes(window.orientation))\r\n\r\n        /** 图表相关-start */\r\n        // 周期列表\r\n        const resolutionList = Object.keys(resolutionToKlineType).map(value => ({\r\n            text: resolutionToText[value],\r\n            value\r\n        }))\r\n\r\n        // 图表实例\r\n        const chart = ref(null)\r\n        onMounted(() => {\r\n            const { options } = props\r\n            chart.value = createChart({\r\n                // 容器id\r\n                containerId: '#tv-chart-container',\r\n                // 产品初始值\r\n                initial: {\r\n                    ...props.initialValue\r\n                },\r\n                // 图表属性\r\n                property: options.property,\r\n                // 指标\r\n                indicators: options.indicators,\r\n                // 扩展\r\n                extension: options.extension\r\n            }, () => {\r\n                // 监听是否横屏\r\n                unref(chart).subscribe('isLandscape', (bool) => {\r\n                    isLandscape.value = bool\r\n                    context.emit('orientationChanged', bool)\r\n                })\r\n\r\n                // 监听指标从图表内直接移除\r\n                unref(chart).nativeSubscribe('study_event', (name, event) => {\r\n                    if (event === 'remove' && name) {\r\n                        context.emit('indicatorRemoved', name)\r\n                    }\r\n                })\r\n                // 图表实例创建完成后回调\r\n                context.emit('onChartReady')\r\n            })\r\n        })\r\n        onUnmounted(() => {\r\n            unref(chart).destroyed()\r\n        })\r\n\r\n        // 设置图表类型\r\n        const setChartType = (...args) => {\r\n            unref(chart).setChartType(...args)\r\n        }\r\n        // 切换产品, 执行symbolChanged回调\r\n        const setSymbol = (info) => {\r\n            unref(chart).setSymbol(info)\r\n                .then(id => {\r\n                    context.emit('symbolChanged', id)\r\n                })\r\n        }\r\n        // 设置周期\r\n        const setResolution = (...args) => {\r\n            unref(chart).setResolution(...args)\r\n        }\r\n        // 设置指标\r\n        const updateIndicator = (...args) => {\r\n            unref(chart).updateIndicator(...args)\r\n        }\r\n        // 更新买卖价线（若左上角/买卖价框设置显示，则同步更新）\r\n        const updateLineData = (...args) => {\r\n            unref(chart).updateLineData(...args)\r\n        }\r\n        // 更新持仓线\r\n        const updatePosition = (...args) => {\r\n            unref(chart).updatePosition(...args)\r\n        }\r\n        // 覆盖图表配置\r\n        const updateProperty = (...args) => {\r\n            unref(chart).updateProperty(...args)\r\n        }\r\n        // 实时更新tick\r\n        const setTick = (price, time) => {\r\n            unref(chart).setTick(price, time)\r\n        }\r\n\r\n        /** 图表相关-end */\r\n\r\n        return {\r\n            resolutionList,\r\n            isLandscape,\r\n            chart,\r\n            setSymbol,\r\n            setResolution,\r\n            updateIndicator,\r\n            updatePosition,\r\n            setChartType,\r\n            updateLineData,\r\n            updateProperty,\r\n            setTick\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tv {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 100%;\r\n    #tv-chart-container {\r\n        flex: 1;\r\n        background: var(--contentColor);\r\n        &.landscape {\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            z-index: 99;\r\n            width: 100%;\r\n            height: 100%;\r\n            overflow: hidden;\r\n            background: #FFF;\r\n            transform: rotate(90deg);\r\n        }\r\n    }\r\n    @media screen and (orientation: landscape) {\r\n        #tv-chart-container {\r\n            top: 0 !important;\r\n            left: 0 !important;\r\n            transform: none !important;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\r\n * If you want to enable logs from datafeed set it to `true`\r\n */\r\nvar isLoggingEnabled = false;\r\nexport function logMessage(message) {\r\n    if (isLoggingEnabled) {\r\n        var now = new Date();\r\n        // tslint:disable-next-line:no-console\r\n        console.log(now.toLocaleTimeString() + \".\" + now.getMilliseconds() + \"> \" + message);\r\n    }\r\n}\r\nexport function getErrorMessage(error) {\r\n    if (error === undefined) {\r\n        return '';\r\n    }\r\n    else if (typeof error === 'string') {\r\n        return error;\r\n    }\r\n    return error.message;\r\n}\r\n","import dayjs from 'dayjs'\r\nimport { QuoteSocket } from '@/plugins/socket/socket'\r\nlet isLog = true // 是否输出日志\r\n\r\nexport class RequestKData {\r\n    constructor() {\r\n        // 第一根k数据\r\n        this._leftBar = null\r\n        // 最新一根k数据\r\n        this._latestBar = null\r\n        // 产品信息\r\n        this._product = {}\r\n    }\r\n    getKline(params, firstDataRequest) {\r\n        if (firstDataRequest) {\r\n            // 第一次调用此商品/周期的历史记录\r\n            this._product = {\r\n                symbolId: params.symbolId,\r\n                klineType: params.klineType\r\n            }\r\n            this._leftBar = null\r\n            this._latestBar = null\r\n        }\r\n\r\n        const _params = {\r\n            \"trade_type\": 1,\r\n            \"symbol_id\": params.symbolId,\r\n            \"kline_type\": params.klineType,\r\n            \"kline_timestamp_start\": params.startTime,\r\n            \"kline_timestamp_end\": params.endTime,\r\n        }\r\n\r\n        return requestKline(_params, firstDataRequest)\r\n            .then(res => {\r\n                if (firstDataRequest) {\r\n                    if (res.data.bars.length) {\r\n                        // 记录最新bar\r\n                        this._latestBar = { ...res.data.bars[res.data.bars.length - 1] }\r\n                        // 记录最左侧bar\r\n                        this._leftBar = { ...res.data.bars[0] }\r\n                    }\r\n                }\r\n                return res\r\n            })\r\n            .then(res => {\r\n                console.log('exit_earlier_kline: ', res.rawData.exit_earlier_kline)\r\n                if (!res.data.bars.length) {\r\n                    let nextTime = this._leftBar ? this._leftBar.time : undefined\r\n                    if(!res.rawData.exit_earlier_kline){\r\n                        nextTime = undefined\r\n                        console.log(`%c${_params.kline_timestamp_start}-${_params.kline_timestamp_end}区间无数据，并且没有更早历史数据，不再进行请求`, 'color:red')\r\n                    } else {\r\n                        console.log(`%c${_params.kline_timestamp_start}-${_params.kline_timestamp_end}区间无数据，准备请求${nextTime}左侧的时间区间的历史数据`, 'color:red')\r\n                    }\r\n\r\n                    Object.assign(res.data, {\r\n                        meta: {\r\n                            noData: true,\r\n                            nextTime\r\n                        }\r\n                    })\r\n                }\r\n                return res.data\r\n            })\r\n    }\r\n\r\n    // 统一处理tick（替换或请求最新两根数据）\r\n    async normalizeTick(price, tickTime, resolution) {\r\n        if (!price || !this._latestBar) {\r\n            return\r\n        }\r\n        const latestBar = this._latestBar\r\n        let ticks = []\r\n\r\n        if (isSameTime(resolution, latestBar.time, tickTime)) {\r\n            // 最新一条数据\r\n            ticks.push({\r\n                time: latestBar.time,\r\n                open: latestBar.open,\r\n                high: Math.max(latestBar.high, price),\r\n                low: Math.min(latestBar.low, price),\r\n                close: price,\r\n            })\r\n        } else {\r\n            // 最新两条数据\r\n            ticks = await this._getLatestKline()\r\n        }\r\n\r\n        if (!ticks.length) {\r\n            Promise.reject()\r\n        }\r\n\r\n        this._latestBar = ticks[ticks.length - 1]\r\n        isLog && logMessageForTick(ticks)\r\n\r\n        return Promise.resolve(ticks)\r\n    }\r\n\r\n    // 获取最新两条数据\r\n    _getLatestKline() {\r\n        const params = {\r\n            \"trade_type\": 1,\r\n            \"symbol_id\": this._product.symbolId,\r\n            \"kline_type\": this._product.klineType,\r\n            \"query_type\": 2,\r\n            \"query_kline_num\": 2\r\n        }\r\n        return requestKline(params)\r\n            .then(res => {\r\n                return res.data.bars\r\n            })\r\n    }\r\n}\r\n\r\n\r\n// 历史k线\r\nfunction requestKline(params) {\r\n    return new Promise((resolve) => {\r\n        const fn = () => {\r\n            if (QuoteSocket.ws.readyState === 1) {\r\n                resolve()\r\n            } else {\r\n                setTimeout(fn, 1000)\r\n            }\r\n        }\r\n        fn()\r\n    })\r\n        .then(() => {\r\n            return QuoteSocket.send(14002, params)\r\n                .then(res => {\r\n                    isLog && logMessageForKline(res, params)\r\n\r\n                    const checkResult = validateRes(res)\r\n                    if (checkResult) {\r\n                        return checkResult\r\n                    }\r\n\r\n                    const { kline_list, price_digits } = res.data\r\n                    // const pow = Math.pow(10, price_digits)\r\n                    const bars = kline_list.map(e => ({\r\n                        time: parseFloat(e.timestamp * 1000),\r\n                        close: parseFloat(e.close_price),\r\n                        open: parseFloat(e.open_price),\r\n                        high: parseFloat(e.high_price),\r\n                        low: parseFloat(e.low_price),\r\n                    }))\r\n\r\n                    return {\r\n                        rawData: res.data,\r\n                        data: {\r\n                            bars\r\n                        }\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.error(error)\r\n                })\r\n        })\r\n}\r\n\r\n// 校验两个时间是否属于同一根K线\r\nfunction isSameTime(resolution, latestTime, tickTime) {\r\n    latestTime = latestTime * 1\r\n    tickTime = tickTime * 1\r\n    if (latestTime > tickTime) return true\r\n\r\n    let oldTime = dayjs(latestTime)\r\n    let newTime = dayjs(tickTime)\r\n\r\n    if (/^[0-9]+$/.test(resolution)) {\r\n        // 小于日k\r\n        const oldMinutes = oldTime.hour() * 60 + oldTime.minute()\r\n        const newMinutes = newTime.hour() * 60 + newTime.minute()\r\n        // console.log(oldMinutes, newMinutes)\r\n        return newMinutes - oldMinutes < resolution\r\n    } else {\r\n        return oldTime === newTime\r\n    }\r\n\r\n}\r\n\r\nfunction validateRes(res) {\r\n    if (res.ret !== 200) {\r\n        return {\r\n            bars: [],\r\n            meta: {\r\n                noData: true,\r\n            }\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\n\r\nfunction logMessageForKline(res, params) {\r\n    console.groupCollapsed(`%c请求历史k线:⬇`, `color:${res.ret === 200 ? 'green' : 'red'}`)\r\n    console.log('request:', JSON.stringify(params, null, ' '))\r\n    console.log('response:', JSON.stringify(res, (key, value) => {\r\n        if (key === 'kline_list') {\r\n            if (Array.isArray(value) && value.length) {\r\n                return `共{${value?.length}}条数据, 区间[${value[0].timestamp}, ${value[value.length - 1]?.timestamp}]`\r\n            } else {\r\n                return '没有数据'\r\n            }\r\n        }\r\n        return value\r\n    }, ' '))\r\n    console.log('response:', res.data?.kline_list, ' ')\r\n    console.groupEnd()\r\n}\r\n\r\nfunction logMessageForTick(ticks) {\r\n    if (ticks.length === 1) {\r\n        console.group('%c实时报价:⬇', 'color:green')\r\n    } else {\r\n        console.group('%c获取最新两根数据:⬇', 'color:green')\r\n    }\r\n    console.log(JSON.stringify(ticks))\r\n    console.groupEnd()\r\n}\r\n","import { resolutionToKlineType } from '../../userConfig/config.js'\r\nimport {  RequestKData }from '../../userConfig/requestKData'\r\n\r\nclass HistoryProvider {\r\n     constructor(datafeedUrl, requester) {\r\n        this._datafeedUrl = datafeedUrl;\r\n        this._requester = requester;\r\n        this._requestKData = new RequestKData()\r\n        this._onTick = null\r\n    }\r\n    // 获取历史k线\r\n    getBars (symbolInfo, resolution, rangeStartDate, rangeEndDate, firstDataRequest) {\r\n        this.symbolParams = {\r\n            symbolId: symbolInfo.symbolId,\r\n            klineType: resolutionToKlineType[resolution],\r\n            startTime: rangeStartDate,\r\n            endTime: rangeEndDate,\r\n            resolution\r\n        }\r\n\r\n        if(typeof firstDataRequest === 'boolean'){\r\n            return this._requestKData.getKline(this.symbolParams, firstDataRequest)\r\n        }\r\n    }\r\n    // 实时更新k线\r\n    async onTick(price, time){\r\n        if(!this._onTick) return\r\n        const ticks = await this._requestKData.normalizeTick(price, time, this.symbolParams.resolution)\r\n        ticks.forEach(t => this._onTick(t))\r\n    }\r\n    // 用于存储udf获取的tick函数\r\n    setTick(cb){\r\n        this._onTick = cb\r\n    }\r\n}\r\n\r\nexport { HistoryProvider };\r\n","import { getErrorMessage, logMessage, } from './helpers';\r\nvar DataPulseProvider = /** @class */ (function () {\r\n    function DataPulseProvider(historyProvider, updateFrequency) {\r\n        this._subscribers = {};\r\n        this._requestsPending = 0;\r\n        this._historyProvider = historyProvider;\r\n        // setInterval(this._updateData.bind(this), updateFrequency);\r\n    }\r\n    DataPulseProvider.prototype.subscribeBars = function (symbolInfo, resolution, newDataCallback, listenerGuid) {\r\n        if (this._subscribers.hasOwnProperty(listenerGuid)) {\r\n            logMessage(\"DataPulseProvider: already has subscriber with id=\" + listenerGuid);\r\n            return;\r\n        }\r\n        this._subscribers[listenerGuid] = {\r\n            lastBarTime: null,\r\n            listener: newDataCallback,\r\n            resolution: resolution,\r\n            symbolInfo: symbolInfo,\r\n        };\r\n        logMessage(\"DataPulseProvider: subscribed for #\" + listenerGuid + \" - {\" + symbolInfo.name + \", \" + resolution + \"}\");\r\n    };\r\n    DataPulseProvider.prototype.unsubscribeBars = function (listenerGuid) {\r\n        delete this._subscribers[listenerGuid];\r\n        logMessage(\"DataPulseProvider: unsubscribed for #\" + listenerGuid);\r\n    };\r\n    DataPulseProvider.prototype._updateData = function () {\r\n        var _this = this;\r\n        if (this._requestsPending > 0) {\r\n            return;\r\n        }\r\n        this._requestsPending = 0;\r\n        var _loop_1 = function (listenerGuid) {\r\n            this_1._requestsPending += 1;\r\n            this_1._updateDataForSubscriber(listenerGuid)\r\n                .then(function () {\r\n                _this._requestsPending -= 1;\r\n                logMessage(\"DataPulseProvider: data for #\" + listenerGuid + \" updated successfully, pending=\" + _this._requestsPending);\r\n            })\r\n                .catch(function (reason) {\r\n                _this._requestsPending -= 1;\r\n                logMessage(\"DataPulseProvider: data for #\" + listenerGuid + \" updated with error=\" + getErrorMessage(reason) + \", pending=\" + _this._requestsPending);\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var listenerGuid in this._subscribers) {\r\n            _loop_1(listenerGuid);\r\n        }\r\n    };\r\n    DataPulseProvider.prototype._updateDataForSubscriber = function (listenerGuid) {\r\n        var _this = this;\r\n        var subscriptionRecord = this._subscribers[listenerGuid];\r\n        var rangeEndTime = parseInt((Date.now() / 1000).toString());\r\n        // BEWARE: please note we really need 2 bars, not the only last one\r\n        // see the explanation below. `10` is the `large enough` value to work around holidays\r\n        var rangeStartTime = rangeEndTime - periodLengthSeconds(subscriptionRecord.resolution, 10);\r\n        return this._historyProvider.getBars(subscriptionRecord.symbolInfo, subscriptionRecord.resolution, rangeStartTime, rangeEndTime)\r\n            .then(function (result) {\r\n            _this._onSubscriberDataReceived(listenerGuid, result);\r\n        });\r\n    };\r\n    DataPulseProvider.prototype._onSubscriberDataReceived = function (listenerGuid, result) {\r\n        // means the subscription was cancelled while waiting for data\r\n        if (!this._subscribers.hasOwnProperty(listenerGuid)) {\r\n            logMessage(\"DataPulseProvider: Data comes for already unsubscribed subscription #\" + listenerGuid);\r\n            return;\r\n        }\r\n        var bars = result.bars;\r\n        if (bars.length === 0) {\r\n            return;\r\n        }\r\n        var lastBar = bars[bars.length - 1];\r\n        var subscriptionRecord = this._subscribers[listenerGuid];\r\n        if (subscriptionRecord.lastBarTime !== null && lastBar.time < subscriptionRecord.lastBarTime) {\r\n            return;\r\n        }\r\n        var isNewBar = subscriptionRecord.lastBarTime !== null && lastBar.time > subscriptionRecord.lastBarTime;\r\n        // Pulse updating may miss some trades data (ie, if pulse period = 10 secods and new bar is started 5 seconds later after the last update, the\r\n        // old bar's last 5 seconds trades will be lost). Thus, at fist we should broadcast old bar updates when it's ready.\r\n        if (isNewBar) {\r\n            // if (bars.length < 2) {\r\n            //     throw new Error('Not enough bars in history for proper pulse update. Need at least 2.');\r\n            // }\r\n            // var previousBar = bars[bars.length - 2];\r\n            // subscriptionRecord.listener(previousBar);\r\n        }\r\n        subscriptionRecord.lastBarTime = lastBar.time;\r\n        subscriptionRecord.listener(lastBar);\r\n    };\r\n    return DataPulseProvider;\r\n}());\r\nexport { DataPulseProvider };\r\nfunction periodLengthSeconds(resolution, requiredPeriodsCount) {\r\n    var daysCount = 0;\r\n    if (resolution === 'D' || resolution === '1D') {\r\n        daysCount = requiredPeriodsCount;\r\n    }\r\n    else if (resolution === 'M' || resolution === '1M') {\r\n        daysCount = 31 * requiredPeriodsCount;\r\n    }\r\n    else if (resolution === 'W' || resolution === '1W') {\r\n        daysCount = 7 * requiredPeriodsCount;\r\n    }\r\n    else {\r\n        daysCount = requiredPeriodsCount * parseInt(resolution) / (24 * 60);\r\n    }\r\n    return daysCount * 24 * 60 * 60;\r\n}\r\n","import { getErrorMessage, logMessage, } from './helpers';\r\nvar QuotesPulseProvider = /** @class */ (function () {\r\n    function QuotesPulseProvider(quotesProvider) {\r\n        this._subscribers = {};\r\n        this._requestsPending = 0;\r\n        this._quotesProvider = quotesProvider;\r\n        setInterval(this._updateQuotes.bind(this, 1 /* Fast */), 10000 /* Fast */);\r\n        setInterval(this._updateQuotes.bind(this, 0 /* General */), 60000 /* General */);\r\n    }\r\n    QuotesPulseProvider.prototype.subscribeQuotes = function (symbols, fastSymbols, onRealtimeCallback, listenerGuid) {\r\n        this._subscribers[listenerGuid] = {\r\n            symbols: symbols,\r\n            fastSymbols: fastSymbols,\r\n            listener: onRealtimeCallback,\r\n        };\r\n        logMessage(\"QuotesPulseProvider: subscribed quotes with #\" + listenerGuid);\r\n    };\r\n    QuotesPulseProvider.prototype.unsubscribeQuotes = function (listenerGuid) {\r\n        delete this._subscribers[listenerGuid];\r\n        logMessage(\"QuotesPulseProvider: unsubscribed quotes with #\" + listenerGuid);\r\n    };\r\n    QuotesPulseProvider.prototype._updateQuotes = function (updateType) {\r\n        var _this = this;\r\n        if (this._requestsPending > 0) {\r\n            return;\r\n        }\r\n        var _loop_1 = function (listenerGuid) {\r\n            this_1._requestsPending++;\r\n            var subscriptionRecord = this_1._subscribers[listenerGuid];\r\n            this_1._quotesProvider.getQuotes(updateType === 1 /* Fast */ ? subscriptionRecord.fastSymbols : subscriptionRecord.symbols)\r\n                .then(function (data) {\r\n                _this._requestsPending--;\r\n                if (!_this._subscribers.hasOwnProperty(listenerGuid)) {\r\n                    return;\r\n                }\r\n                subscriptionRecord.listener(data);\r\n                logMessage(\"QuotesPulseProvider: data for #\" + listenerGuid + \" (\" + updateType + \") updated successfully, pending=\" + _this._requestsPending);\r\n            })\r\n                .catch(function (reason) {\r\n                _this._requestsPending--;\r\n                logMessage(\"QuotesPulseProvider: data for #\" + listenerGuid + \" (\" + updateType + \") updated with error=\" + getErrorMessage(reason) + \", pending=\" + _this._requestsPending);\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var listenerGuid in this._subscribers) {\r\n            _loop_1(listenerGuid);\r\n        }\r\n    };\r\n    return QuotesPulseProvider;\r\n}());\r\nexport { QuotesPulseProvider };\r\n","import { getErrorMessage, logMessage, } from './helpers';\r\nfunction extractField(data, field, arrayIndex, valueIsArray) {\r\n    var value = data[field];\r\n    if (Array.isArray(value) && (!valueIsArray || Array.isArray(value[0]))) {\r\n        return value[arrayIndex];\r\n    }\r\n    return value;\r\n}\r\nfunction symbolWithCurrencyKey(symbol, currency) {\r\n    // here we're using a separator that quite possible shouldn't be in a real symbol name\r\n    return symbol + (currency !== undefined ? '_%|#|%_' + currency : '');\r\n}\r\nvar SymbolsStorage = /** @class */ (function () {\r\n    function SymbolsStorage(datafeedUrl, datafeedSupportedResolutions, requester) {\r\n        this._exchangesList = ['NYSE', 'FOREX', 'AMEX'];\r\n        this._symbolsInfo = {};\r\n        this._symbolsList = [];\r\n        this._datafeedUrl = datafeedUrl;\r\n        this._datafeedSupportedResolutions = datafeedSupportedResolutions;\r\n        this._requester = requester;\r\n        this._readyPromise = this._init();\r\n        this._readyPromise.catch(function (error) {\r\n            // seems it is impossible\r\n            // tslint:disable-next-line:no-console\r\n            console.error(\"SymbolsStorage: Cannot init, error=\" + error.toString());\r\n        });\r\n    }\r\n    // BEWARE: this function does not consider symbol's exchange\r\n    SymbolsStorage.prototype.resolveSymbol = function (symbolName, currencyCode) {\r\n        var _this = this;\r\n        return this._readyPromise.then(function () {\r\n            var symbolInfo = _this._symbolsInfo[symbolWithCurrencyKey(symbolName, currencyCode)];\r\n            if (symbolInfo === undefined) {\r\n                return Promise.reject('invalid symbol');\r\n            }\r\n            return Promise.resolve(symbolInfo);\r\n        });\r\n    };\r\n    SymbolsStorage.prototype.searchSymbols = function (searchString, exchange, symbolType, maxSearchResults) {\r\n        var _this = this;\r\n        return this._readyPromise.then(function () {\r\n            var weightedResult = [];\r\n            var queryIsEmpty = searchString.length === 0;\r\n            searchString = searchString.toUpperCase();\r\n            var _loop_1 = function (symbolName) {\r\n                var symbolInfo = _this._symbolsInfo[symbolName];\r\n                if (symbolInfo === undefined) {\r\n                    return \"continue\";\r\n                }\r\n                if (symbolType.length > 0 && symbolInfo.type !== symbolType) {\r\n                    return \"continue\";\r\n                }\r\n                if (exchange && exchange.length > 0 && symbolInfo.exchange !== exchange) {\r\n                    return \"continue\";\r\n                }\r\n                var positionInName = symbolInfo.name.toUpperCase().indexOf(searchString);\r\n                var positionInDescription = symbolInfo.description.toUpperCase().indexOf(searchString);\r\n                if (queryIsEmpty || positionInName >= 0 || positionInDescription >= 0) {\r\n                    var alreadyExists = weightedResult.some(function (item) { return item.symbolInfo === symbolInfo; });\r\n                    if (!alreadyExists) {\r\n                        var weight = positionInName >= 0 ? positionInName : 8000 + positionInDescription;\r\n                        weightedResult.push({ symbolInfo: symbolInfo, weight: weight });\r\n                    }\r\n                }\r\n            };\r\n            for (var _i = 0, _a = _this._symbolsList; _i < _a.length; _i++) {\r\n                var symbolName = _a[_i];\r\n                _loop_1(symbolName);\r\n            }\r\n            var result = weightedResult\r\n                .sort(function (item1, item2) { return item1.weight - item2.weight; })\r\n                .slice(0, maxSearchResults)\r\n                .map(function (item) {\r\n                var symbolInfo = item.symbolInfo;\r\n                return {\r\n                    symbol: symbolInfo.name,\r\n                    full_name: symbolInfo.full_name,\r\n                    description: symbolInfo.description,\r\n                    exchange: symbolInfo.exchange,\r\n                    params: [],\r\n                    type: symbolInfo.type,\r\n                    ticker: symbolInfo.name,\r\n                };\r\n            });\r\n            return Promise.resolve(result);\r\n        });\r\n    };\r\n    SymbolsStorage.prototype._init = function () {\r\n        var _this = this;\r\n        var promises = [];\r\n        var alreadyRequestedExchanges = {};\r\n        for (var _i = 0, _a = this._exchangesList; _i < _a.length; _i++) {\r\n            var exchange = _a[_i];\r\n            if (alreadyRequestedExchanges[exchange]) {\r\n                continue;\r\n            }\r\n            alreadyRequestedExchanges[exchange] = true;\r\n            promises.push(this._requestExchangeData(exchange));\r\n        }\r\n        return Promise.all(promises)\r\n            .then(function () {\r\n            _this._symbolsList.sort();\r\n            logMessage('SymbolsStorage: All exchanges data loaded');\r\n        });\r\n    };\r\n    SymbolsStorage.prototype._requestExchangeData = function (exchange) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._requester.sendRequest(_this._datafeedUrl, 'symbol_info', { group: exchange })\r\n                .then(function (response) {\r\n                try {\r\n                    _this._onExchangeDataReceived(exchange, response);\r\n                }\r\n                catch (error) {\r\n                    reject(error);\r\n                    return;\r\n                }\r\n                resolve();\r\n            })\r\n                .catch(function (reason) {\r\n                logMessage(\"SymbolsStorage: Request data for exchange '\" + exchange + \"' failed, reason=\" + getErrorMessage(reason));\r\n                resolve();\r\n            });\r\n        });\r\n    };\r\n    SymbolsStorage.prototype._onExchangeDataReceived = function (exchange, data) {\r\n        var symbolIndex = 0;\r\n        try {\r\n            var symbolsCount = data.symbol.length;\r\n            var tickerPresent = data.ticker !== undefined;\r\n            for (; symbolIndex < symbolsCount; ++symbolIndex) {\r\n                var symbolName = data.symbol[symbolIndex];\r\n                var listedExchange = extractField(data, 'exchange-listed', symbolIndex);\r\n                var tradedExchange = extractField(data, 'exchange-traded', symbolIndex);\r\n                var fullName = tradedExchange + ':' + symbolName;\r\n                var currencyCode = extractField(data, 'currency-code', symbolIndex);\r\n                var ticker = tickerPresent ? extractField(data, 'ticker', symbolIndex) : symbolName;\r\n                var symbolInfo = {\r\n                    ticker: ticker,\r\n                    name: symbolName,\r\n                    base_name: [listedExchange + ':' + symbolName],\r\n                    full_name: fullName,\r\n                    listed_exchange: listedExchange,\r\n                    exchange: tradedExchange,\r\n                    currency_code: currencyCode,\r\n                    original_currency_code: extractField(data, 'original-currency-code', symbolIndex),\r\n                    description: extractField(data, 'description', symbolIndex),\r\n                    has_intraday: definedValueOrDefault(extractField(data, 'has-intraday', symbolIndex), false),\r\n                    has_no_volume: definedValueOrDefault(extractField(data, 'has-no-volume', symbolIndex), false),\r\n                    minmov: extractField(data, 'minmovement', symbolIndex) || extractField(data, 'minmov', symbolIndex) || 0,\r\n                    minmove2: extractField(data, 'minmove2', symbolIndex) || extractField(data, 'minmov2', symbolIndex),\r\n                    fractional: extractField(data, 'fractional', symbolIndex),\r\n                    pricescale: extractField(data, 'pricescale', symbolIndex),\r\n                    type: extractField(data, 'type', symbolIndex),\r\n                    session: extractField(data, 'session-regular', symbolIndex),\r\n                    timezone: extractField(data, 'timezone', symbolIndex),\r\n                    supported_resolutions: definedValueOrDefault(extractField(data, 'supported-resolutions', symbolIndex, true), this._datafeedSupportedResolutions),\r\n                    force_session_rebuild: extractField(data, 'force-session-rebuild', symbolIndex),\r\n                    has_daily: definedValueOrDefault(extractField(data, 'has-daily', symbolIndex), true),\r\n                    intraday_multipliers: definedValueOrDefault(extractField(data, 'intraday-multipliers', symbolIndex, true), ['1', '5', '15', '30', '60']),\r\n                    has_weekly_and_monthly: extractField(data, 'has-weekly-and-monthly', symbolIndex),\r\n                    has_empty_bars: extractField(data, 'has-empty-bars', symbolIndex),\r\n                    volume_precision: definedValueOrDefault(extractField(data, 'volume-precision', symbolIndex), 0),\r\n                    format: 'price',\r\n                };\r\n                this._symbolsInfo[ticker] = symbolInfo;\r\n                this._symbolsInfo[symbolName] = symbolInfo;\r\n                this._symbolsInfo[fullName] = symbolInfo;\r\n                if (currencyCode !== undefined) {\r\n                    this._symbolsInfo[symbolWithCurrencyKey(ticker, currencyCode)] = symbolInfo;\r\n                    this._symbolsInfo[symbolWithCurrencyKey(symbolName, currencyCode)] = symbolInfo;\r\n                    this._symbolsInfo[symbolWithCurrencyKey(fullName, currencyCode)] = symbolInfo;\r\n                }\r\n                this._symbolsList.push(symbolName);\r\n            }\r\n        }\r\n        catch (error) {\r\n            throw new Error(\"SymbolsStorage: API error when processing exchange \" + exchange + \" symbol #\" + symbolIndex + \" (\" + data.symbol[symbolIndex] + \"): \" + error.message);\r\n        }\r\n    };\r\n    return SymbolsStorage;\r\n}());\r\nexport { SymbolsStorage };\r\nfunction definedValueOrDefault(value, defaultValue) {\r\n    return value !== undefined ? value : defaultValue;\r\n}\r\n","import { getErrorMessage, logMessage, } from './helpers';\r\nimport { HistoryProvider, } from './history-provider';\r\nimport { DataPulseProvider } from './data-pulse-provider';\r\nimport { QuotesPulseProvider } from './quotes-pulse-provider';\r\nimport { SymbolsStorage } from './symbols-storage';\r\nimport { resolutionToKlineType } from '../../userConfig/config.js'\r\n\r\nfunction extractField(data, field, arrayIndex) {\r\n    var value = data[field];\r\n    return Array.isArray(value) ? value[arrayIndex] : value;\r\n}\r\n/**\r\n * This class implements interaction with UDF-compatible datafeed.\r\n * See UDF protocol reference at https://github.com/tradingview/charting_library/wiki/UDF\r\n */\r\nvar UDFCompatibleDatafeedBase = /** @class */ (function () {\r\n    function UDFCompatibleDatafeedBase(datafeedURL, quotesProvider, requester, updateFrequency, otherConfig) {\r\n        var _this = this;\r\n        if (updateFrequency === void 0) { updateFrequency = 10 * 1000; }\r\n        this.otherConfig = otherConfig || {} // 传入其他配置\r\n        this._configuration = defaultConfiguration();\r\n        this._symbolsStorage = null;\r\n        this._datafeedURL = datafeedURL;\r\n        this._requester = requester;\r\n        this._historyProvider = new HistoryProvider(datafeedURL, this._requester);\r\n        this._quotesProvider = quotesProvider;\r\n        this._dataPulseProvider = new DataPulseProvider(this._historyProvider, updateFrequency);\r\n        this._quotesPulseProvider = new QuotesPulseProvider(this._quotesProvider);\r\n        this._configurationReadyPromise = this._requestConfiguration()\r\n            .then(function (configuration) {\r\n            if (configuration === null) {\r\n                configuration = defaultConfiguration();\r\n            }\r\n            _this._setupWithConfiguration(configuration);\r\n        });\r\n    }\r\n    UDFCompatibleDatafeedBase.prototype.onReady = function (callback) {\r\n        var _this = this;\r\n        this._configurationReadyPromise.then(function () {\r\n            callback(_this._configuration);\r\n        });\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.getQuotes = function (symbols, onDataCallback, onErrorCallback) {\r\n        this._quotesProvider.getQuotes(symbols).then(onDataCallback).catch(onErrorCallback);\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.subscribeQuotes = function (symbols, fastSymbols, onRealtimeCallback, listenerGuid) {\r\n        this._quotesPulseProvider.subscribeQuotes(symbols, fastSymbols, onRealtimeCallback, listenerGuid);\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.unsubscribeQuotes = function (listenerGuid) {\r\n        this._quotesPulseProvider.unsubscribeQuotes(listenerGuid);\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.calculateHistoryDepth = function (resolution, resolutionBack, intervalBack) {\r\n        // 覆盖所需的历史深度\r\n        // return undefined;\r\n        return {resolutionBack: resolution, intervalBack: 20}\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.getMarks = function (symbolInfo, from, to, onDataCallback, resolution) {\r\n        if (!this._configuration.supports_marks) {\r\n            return;\r\n        }\r\n        var requestParams = {\r\n            symbol: symbolInfo.ticker || '',\r\n            from: from,\r\n            to: to,\r\n            resolution: resolution,\r\n        };\r\n        this._send('marks', requestParams)\r\n            .then(function (response) {\r\n            if (!Array.isArray(response)) {\r\n                var result = [];\r\n                for (var i = 0; i < response.id.length; ++i) {\r\n                    result.push({\r\n                        id: extractField(response, 'id', i),\r\n                        time: extractField(response, 'time', i),\r\n                        color: extractField(response, 'color', i),\r\n                        text: extractField(response, 'text', i),\r\n                        label: extractField(response, 'label', i),\r\n                        labelFontColor: extractField(response, 'labelFontColor', i),\r\n                        minSize: extractField(response, 'minSize', i),\r\n                    });\r\n                }\r\n                response = result;\r\n            }\r\n            onDataCallback(response);\r\n        })\r\n            .catch(function (error) {\r\n            logMessage(\"UdfCompatibleDatafeed: Request marks failed: \" + getErrorMessage(error));\r\n            onDataCallback([]);\r\n        });\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.getTimescaleMarks = function (symbolInfo, from, to, onDataCallback, resolution) {\r\n        if (!this._configuration.supports_timescale_marks) {\r\n            return;\r\n        }\r\n        var requestParams = {\r\n            symbol: symbolInfo.ticker || '',\r\n            from: from,\r\n            to: to,\r\n            resolution: resolution,\r\n        };\r\n        this._send('timescale_marks', requestParams)\r\n            .then(function (response) {\r\n            if (!Array.isArray(response)) {\r\n                var result = [];\r\n                for (var i = 0; i < response.id.length; ++i) {\r\n                    result.push({\r\n                        id: extractField(response, 'id', i),\r\n                        time: extractField(response, 'time', i),\r\n                        color: extractField(response, 'color', i),\r\n                        label: extractField(response, 'label', i),\r\n                        tooltip: extractField(response, 'tooltip', i),\r\n                    });\r\n                }\r\n                response = result;\r\n            }\r\n            onDataCallback(response);\r\n        })\r\n            .catch(function (error) {\r\n            logMessage(\"UdfCompatibleDatafeed: Request timescale marks failed: \" + getErrorMessage(error));\r\n            onDataCallback([]);\r\n        });\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.getServerTime = function (callback) {\r\n        if (!this._configuration.supports_time) {\r\n            return;\r\n        }\r\n        this._send('time')\r\n            .then(function (response) {\r\n            var time = parseInt(response);\r\n            if (!isNaN(time)) {\r\n                callback(time);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            logMessage(\"UdfCompatibleDatafeed: Fail to load server time, error=\" + getErrorMessage(error));\r\n        });\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.searchSymbols = function (userInput, exchange, symbolType, onResult) {\r\n        if (this._configuration.supports_search) {\r\n            var params = {\r\n                limit: 30 /* SearchItemsLimit */,\r\n                query: userInput.toUpperCase(),\r\n                type: symbolType,\r\n                exchange: exchange,\r\n            };\r\n            this._send('search', params)\r\n                .then(function (response) {\r\n                if (response.s !== undefined) {\r\n                    logMessage(\"UdfCompatibleDatafeed: search symbols error=\" + response.errmsg);\r\n                    onResult([]);\r\n                    return;\r\n                }\r\n                onResult(response);\r\n            })\r\n                .catch(function (reason) {\r\n                logMessage(\"UdfCompatibleDatafeed: Search symbols for '\" + userInput + \"' failed. Error=\" + getErrorMessage(reason));\r\n                onResult([]);\r\n            });\r\n        }\r\n        else {\r\n            if (this._symbolsStorage === null) {\r\n                throw new Error('UdfCompatibleDatafeed: inconsistent configuration (symbols storage)');\r\n            }\r\n            this._symbolsStorage.searchSymbols(userInput, exchange, symbolType, 30 /* SearchItemsLimit */)\r\n                .then(onResult)\r\n                .catch(onResult.bind(null, []));\r\n        }\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.resolveSymbol = function (symbolName, onResolve, onError, extension) {\r\n        logMessage('Resolve requested');\r\n        var currencyCode = extension && extension.currencyCode;\r\n        var resolveRequestStartTime = Date.now();\r\n        function onResultReady(symbolInfo) {\r\n            logMessage(\"Symbol resolved: \" + (Date.now() - resolveRequestStartTime) + \"ms\");\r\n            onResolve(symbolInfo);\r\n        }\r\n        if(this.otherConfig.isControl){\r\n            // 这里需要异步返回结果\r\n            setTimeout(() => {\r\n                onResultReady({\r\n                    ...querySymbolInfo(symbolName, this.otherConfig.symbolInfo),\r\n                })\r\n            }, 0)\r\n        } else {\r\n            if (!this._configuration.supports_group_request) {\r\n                var params = {\r\n                    symbol: symbolName,\r\n                };\r\n                if (currencyCode !== undefined) {\r\n                    params.currencyCode = currencyCode;\r\n                }\r\n                this._send('symbols', params)\r\n                    .then(function (response) {\r\n                    if (response.s !== undefined) {\r\n                        onError('unknown_symbol');\r\n                    }\r\n                    else {\r\n                        onResultReady(response);\r\n                    }\r\n                })\r\n                    .catch(function (reason) {\r\n                    logMessage(\"UdfCompatibleDatafeed: Error resolving symbol: \" + getErrorMessage(reason));\r\n                    onError('unknown_symbol');\r\n                });\r\n            }\r\n            else {\r\n                if (this._symbolsStorage === null) {\r\n                    throw new Error('UdfCompatibleDatafeed: inconsistent configuration (symbols storage)');\r\n                }\r\n                this._symbolsStorage.resolveSymbol(symbolName, currencyCode).then(onResultReady).catch(onError);\r\n            }\r\n        }\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.getBars = function (symbolInfo, resolution, rangeStartDate, rangeEndDate, onResult, onError, firstDataRequest) {\r\n        this._historyProvider.getBars(symbolInfo, resolution, rangeStartDate, rangeEndDate, firstDataRequest)\r\n            .then(function (result) {\r\n            onResult(result.bars, result.meta);\r\n        })\r\n            .catch(onError);\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.subscribeBars = function (symbolInfo, resolution, onTick, listenerGuid, onResetCacheNeededCallback) {\r\n        this._historyProvider.setTick(onTick)\r\n        this._dataPulseProvider.subscribeBars(symbolInfo, resolution, onTick, listenerGuid);\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype.unsubscribeBars = function (listenerGuid) {\r\n        this._historyProvider.setTick(null)\r\n        this._dataPulseProvider.unsubscribeBars(listenerGuid);\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype._requestConfiguration = function () {\r\n        if(this.otherConfig.isControl){\r\n            return Promise.resolve(otherDefaultConfiguration())\r\n        } else {\r\n            return this._send('config')\r\n                .catch(function (reason) {\r\n                logMessage(\"UdfCompatibleDatafeed: Cannot get datafeed configuration - use default, error=\" + getErrorMessage(reason));\r\n                return null;\r\n            });\r\n        }\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype._send = function (urlPath, params) {\r\n        return this._requester.sendRequest(this._datafeedURL, urlPath, params);\r\n    };\r\n    UDFCompatibleDatafeedBase.prototype._setupWithConfiguration = function (configurationData) {\r\n        this._configuration = configurationData;\r\n        if (configurationData.exchanges === undefined) {\r\n            configurationData.exchanges = [];\r\n        }\r\n        if (!configurationData.supports_search && !configurationData.supports_group_request) {\r\n            throw new Error('Unsupported datafeed configuration. Must either support search, or support group request');\r\n        }\r\n        if (configurationData.supports_group_request || !configurationData.supports_search) {\r\n            this._symbolsStorage = new SymbolsStorage(this._datafeedURL, configurationData.supported_resolutions || [], this._requester);\r\n        }\r\n        logMessage(\"UdfCompatibleDatafeed: Initialized with \" + JSON.stringify(configurationData));\r\n    };\r\n\r\n    // 用于提供给用户修改产品属性\r\n    UDFCompatibleDatafeedBase.prototype.setSymbolInfo = function(info){\r\n        this.otherConfig.symbolInfo = Object.assign({}, info)\r\n    }\r\n\r\n    return UDFCompatibleDatafeedBase;\r\n}());\r\nexport { UDFCompatibleDatafeedBase };\r\nfunction defaultConfiguration() {\r\n    return {\r\n        supports_search: false,\r\n        supports_group_request: true,\r\n        supported_resolutions: [\r\n            '1',\r\n            '5',\r\n            '15',\r\n            '30',\r\n            '60',\r\n            '1D',\r\n            '1W',\r\n            '1M',\r\n        ],\r\n        supports_marks: false,\r\n        supports_timescale_marks: false,\r\n    };\r\n}\r\n\r\nfunction otherDefaultConfiguration() {\r\n    return {\r\n        supports_search: true,\r\n        supports_group_request: false,\r\n        supported_resolutions: [\r\n            '1',\r\n            '5',\r\n            '15',\r\n            '30',\r\n            '60',\r\n            '1D'\r\n        ],\r\n        supports_marks: false,\r\n        supports_timescale_marks: false,\r\n    };\r\n}\r\n\r\n/* 商品信息结构 */\r\nfunction querySymbolInfo (code_id, symbolInfo) {\r\n    if(!code_id){\r\n        console.error('产品symbolId不存在')\r\n    }\r\n    const result = {\r\n        // name: 'asfd',\r\n        // ticker: '888', // 商品代码\r\n        // 'exchange-traded': product.short_name,   不需要这两个字段\r\n        // 'exchange-listed': product.short_name,   不需要这两个字段\r\n        timezone: 'Etc/UTC', // 交易所时区\r\n        minmov: 1, // 最小波动\r\n        minmov2: 0, // 这是一个神奇的数字来格式化复杂情况下的价格\r\n        pointvalue: 1,\r\n        session: '24x7', // 交易时段\r\n        has_intraday: true, // 布尔值显示商品是否具有日内（分钟）历史数据\r\n        has_no_volume: false, // 布尔表示商品是否拥有成交量数据\r\n        description: '', // 商品说明。这个商品说明将被打印在图表的标题栏中。\r\n        type: 'stock', // 仪表的可选类型 stock, index, forex, futures, bitcoin,  expression,  spread, cfd 或其他字符串\r\n        supported_resolutions: Object.keys(resolutionToKlineType),\r\n        pricescale: 100000000000000000, // 价格精度\r\n        has_weekly_and_monthly: true, // 允许周期：周/月\r\n        ...normalizeInfo(symbolInfo)\r\n    }\r\n\r\n    return result\r\n}\r\n\r\n\r\nfunction normalizeInfo(info){\r\n    const result = {\r\n        name: info.description,\r\n        description: info.description,\r\n        symbolId: info.symbolId,\r\n        pricescale:  Math.pow(10, info.digits),\r\n    }\r\n    return result\r\n}\r\n","import { getErrorMessage, logMessage, } from './helpers';\r\nvar QuotesProvider = /** @class */ (function () {\r\n    function QuotesProvider(datafeedUrl, requester) {\r\n        this._datafeedUrl = datafeedUrl;\r\n        this._requester = requester;\r\n    }\r\n    QuotesProvider.prototype.getQuotes = function (symbols) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._requester.sendRequest(_this._datafeedUrl, 'quotes', { symbols: symbols })\r\n                .then(function (response) {\r\n                if (response.s === 'ok') {\r\n                    resolve(response.d);\r\n                }\r\n                else {\r\n                    reject(response.errmsg);\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var errorMessage = getErrorMessage(error);\r\n                logMessage(\"QuotesProvider: getQuotes failed, error=\" + errorMessage);\r\n                reject(\"network error: \" + errorMessage);\r\n            });\r\n        });\r\n    };\r\n    return QuotesProvider;\r\n}());\r\nexport { QuotesProvider };\r\n","import { logMessage } from './helpers';\r\nvar Requester = /** @class */ (function () {\r\n    function Requester(headers) {\r\n        if (headers) {\r\n            this._headers = headers;\r\n        }\r\n    }\r\n    Requester.prototype.sendRequest = function (datafeedUrl, urlPath, params) {\r\n        if (params !== undefined) {\r\n            var paramKeys = Object.keys(params);\r\n            if (paramKeys.length !== 0) {\r\n                urlPath += '?';\r\n            }\r\n            urlPath += paramKeys.map(function (key) {\r\n                return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key].toString());\r\n            }).join('&');\r\n        }\r\n        logMessage('New request: ' + urlPath);\r\n        // Send user cookies if the URL is on the same origin as the calling script.\r\n        var options = { credentials: 'same-origin' };\r\n        if (this._headers !== undefined) {\r\n            options.headers = this._headers;\r\n        }\r\n        return fetch(datafeedUrl + \"/\" + urlPath, options)\r\n            .then(function (response) { return response.text(); })\r\n            .then(function (responseTest) { return JSON.parse(responseTest); });\r\n    };\r\n    return Requester;\r\n}());\r\nexport { Requester };\r\n","import { __extends } from \"tslib\";\r\nimport { UDFCompatibleDatafeedBase } from './udf-compatible-datafeed-base';\r\nimport { QuotesProvider } from './quotes-provider';\r\nimport { Requester } from './requester';\r\nvar UDFCompatibleDatafeed = /** @class */ (function (_super) {\r\n    __extends(UDFCompatibleDatafeed, _super);\r\n    /**\r\n     *\r\n     *\r\n     * @param {*} datafeedURL\r\n     * @param {*} otherConfig 通过该配置覆盖Datafeed的默认逻辑\r\n     * @param {*} updateFrequency\r\n     * @return {*}\r\n     */\r\n    function UDFCompatibleDatafeed(datafeedURL, otherConfig, updateFrequency) {\r\n        if (updateFrequency === void 0) { updateFrequency = 0.5 * 1000; }\r\n        var _this = this;\r\n        var requester = new Requester();\r\n        var quotesProvider = new QuotesProvider(datafeedURL, requester);\r\n        _this = _super.call(this, datafeedURL, quotesProvider, requester, updateFrequency, otherConfig) || this;\r\n        return _this;\r\n    }\r\n    return UDFCompatibleDatafeed;\r\n}(UDFCompatibleDatafeedBase));\r\nexport { UDFCompatibleDatafeed };\r\n","import { UDFCompatibleDatafeed } from './datafeeds/udf/lib/udf-compatible-datafeed'\r\nimport { portraitOptions, landscapeOptions } from './datafeeds/userConfig/config.js'\r\n\r\n// 创建Chart实例\r\nexport function createChart (...args) {\r\n    return new Chart(...args)\r\n}\r\n\r\n/**\r\n    产品数据结构\r\n    initial = {\r\n        description: '欧元美元' || '123',// 图表左上角名称显示\r\n        symbolId: 1,  //产品id\r\n        digits: '4', //小数点\r\n    }\r\n */\r\n\r\n/**\r\n    图表属性-默认值\r\n    property = {\r\n        chartType: '1', // 图表类型\r\n        showLastPrice: true, // 现价线\r\n        showBuyPrice: false, // 买价线\r\n        showSellPrice: false, // 卖价线\r\n        showPositionPrice: false, // 持仓线\r\n        showSeriesOHLC: false, // 高开低收\r\n        showBarChange: false, // 涨跌幅\r\n        showPriceBox: false, // 价格框\r\n        showSeriesTitle: false // K线标题\r\n    }\r\n */\r\n\r\n/**\r\n    扩展字段-默认值\r\n    extension = {\r\n        theme: 'Light' // 主题\r\n        fullScreen: false // 全屏功能（右上角缩放按钮、横屏监听等）\r\n    }\r\n */\r\n\r\nclass Chart {\r\n    constructor ({ containerId, initial, property = {}, indicators = [], extension = {} }, chartReadyCallback = () => {}) {\r\n        // 产品初始值\r\n        this.initial = {\r\n            description: initial.description, // 图表左上角名称显示\r\n            symbolId: initial.symbolId, // 产品id\r\n            digits: initial.digits, // 小数点\r\n        }\r\n        this.buyPrice = '' // 买价\r\n        this.sellPrice = '' // 卖价\r\n        // 产品id\r\n        this.symbolId = initial.symbolId\r\n        // 图表属性\r\n        this.property = property\r\n        // 扩展\r\n        this.extension = extension\r\n        // 容器id\r\n        this.containerId = containerId\r\n        // 容器节点\r\n        this.elm = document.querySelector(containerId)\r\n        // 容器高度\r\n        this.containerHeight = this.elm.offsetHeight\r\n        // 图表渲染后回调\r\n        this.chartReadyCallback = chartReadyCallback\r\n        // 数据适配器\r\n        this.datafeed = new UDFCompatibleDatafeed('', {\r\n            isControl: true,\r\n            symbolInfo: initial\r\n        })\r\n        // 指标列表\r\n        this.indicators = indicators\r\n        // 已创建指标实体(指标实体id和指标名称的映射关系，用于图表直接删除指标时，及时更新)\r\n        this._indicatorsEntity = []\r\n\r\n        // 默认竖屏\r\n        this._orientation = 'portrait'\r\n        // 价格线实例\r\n        this._linesMap = {}\r\n        // 持仓线实例\r\n        this._positionLines = []\r\n        // 事件订阅,通过实例方法subscribe订阅\r\n        this._listener = {\r\n            isLandscape: [], // 是否横屏\r\n            click: [], // 短按\r\n        }\r\n        // 存储图表订阅事件\r\n        this._nativeListener = []\r\n\r\n        // 离开图表前必须执行的事件队列\r\n        this._destroyedFns = []\r\n\r\n        // 第一次执行\r\n        this._firstInit = true\r\n\r\n        this._init()\r\n    }\r\n\r\n    _init () {\r\n        this.destroyed()\r\n        const { initial, containerHeight, datafeed, containerId } = this\r\n        if (!containerHeight || !initial) {\r\n            return\r\n        }\r\n\r\n        console.group('%c当前产品:⬇', 'color:green')\r\n        console.log(JSON.stringify(initial))\r\n        console.groupEnd()\r\n\r\n        // 获取横竖屏配置项\r\n        const options = { ...this._options }\r\n\r\n        if (!this._firstInit) {\r\n            // 还原上一次用户操作（例如绘图）\r\n            this.widget.save((data) => (options.saved_data = data))\r\n        }\r\n\r\n        // eslint-disable-next-line new-cap\r\n        this.widget = window.tvWidget = new window.TradingView.widget({\r\n            ...options,\r\n            datafeed: datafeed,\r\n            container_id: containerId.slice(1),\r\n            symbol: this.symbolId,\r\n            interval: '1',\r\n            locale: 'zh'\r\n        })\r\n\r\n        this.widget.onChartReady(() => {\r\n            this.updateIndicator(this.indicators)\r\n            this.updateProperty(this.property)\r\n            this._addPriceBox()\r\n            this._bindEvent()\r\n            if (this._firstInit && this._orientation === 'portrait' && [90, -90].includes(window.orientation)) {\r\n                // 横屏，但是默认值是竖屏时\r\n                this._setStyle('landscape')\r\n            }\r\n            this._firstInit = false\r\n            // 执行图表创建成功的回调函数\r\n            this.chartReadyCallback()\r\n        })\r\n    }\r\n\r\n    get _options () {\r\n        let options = null\r\n        if (this.fullScreen && this._firstInit && this._orientation === 'portrait' && [90, -90].includes(window.orientation)) {\r\n            // 横屏，但是默认值是竖屏时\r\n            options = landscapeOptions()\r\n        } else {\r\n            options = this._orientation === 'portrait' ? portraitOptions() : landscapeOptions()\r\n        }\r\n\r\n        ['theme'].forEach(key => {\r\n            if (this.extension[key]) {\r\n                options[key] = this.extension[key]\r\n            }\r\n        })\r\n\r\n        // 覆盖图表属性\r\n        Object.assign(options.overrides, this._setProperty(this.property, {}))\r\n\r\n        return options\r\n    }\r\n\r\n    _bindEvent () {\r\n        this._bindResize()\r\n        this._bindClick()\r\n    }\r\n\r\n    // 监听窗口变化\r\n    _bindResize () {\r\n        if (!this.extension.fullScreen) return\r\n\r\n        this._addFullScreenBtn()\r\n        const handleResize = debounce(() => {\r\n            // 火狐的orientation延迟超过200ms以上\r\n            if (window.orientation === 0 && this._orientation !== 'portrait') {\r\n                this._toggleFullScreen('portrait')\r\n            } else if ((window.orientation === 90 || window.orientation === -90) && this._orientation !== 'landscape') {\r\n                this._toggleFullScreen('landscape')\r\n            }\r\n        }, 300)\r\n        window.addEventListener('resize', handleResize)\r\n        this._destroyedFns.push(() => {\r\n            window.removeEventListener('resize', handleResize)\r\n        })\r\n    }\r\n\r\n    /**\r\n     *  添加点击事件，显示两侧菜单\r\n     *  在图表上点击显示菜单或其他事件与图表有冲突（图表自身已有点击/长按事件，指标/画图实体的交互等）\r\n     *  通过订阅图表多个事件（mouse_down/mouse_up/drawing_event/drawingundo_redo_state_changed）以及延迟触发\r\n     *  维护非图表的自定义点击状态\r\n     */\r\n    _bindClick () {\r\n        const iframeWindow = this.elm.querySelector('iframe').contentWindow\r\n        // 绘图状态\r\n        let isDrawing = false\r\n        // 交互状态 mouseDown => mouseMove => mouseUp\r\n        let touchStatus = ''\r\n\r\n        // touchmove\r\n        const handleTouchmove = () => {\r\n            if (touchStatus === 'mouseDown') {\r\n                touchStatus = 'mouseMove'\r\n            }\r\n        }\r\n        iframeWindow.addEventListener('touchmove', handleTouchmove)\r\n        this._destroyedFns.push(() => {\r\n            iframeWindow.removeEventListener('touchmove', handleTouchmove)\r\n        })\r\n        // mouseDown\r\n        const handleMouseDown = () => {\r\n            touchStatus = 'mouseDown'\r\n        }\r\n        // mouseUp\r\n        const handleMouseUp = (e) => {\r\n            setTimeout(() => {\r\n                const oldStatus = touchStatus\r\n                touchStatus = 'mouseUp'\r\n                // 绘图/长按/平移均不触发\r\n                if (isDrawing || oldStatus === 'mouseMove') {\r\n                    return\r\n                }\r\n                this._listener['click'].forEach(f => f())\r\n            }, 0)\r\n        }\r\n\r\n        this.widget.subscribe('mouse_down', handleMouseDown)\r\n        this.widget.subscribe('mouse_up', handleMouseUp)\r\n\r\n        // 隐藏，显示，移动，移除或单击绘图(hide，show、move、remove、click)\r\n        this.widget.subscribe('drawing_event', (a, type) => {\r\n            switch (type) {\r\n            case 'remove': {\r\n                isDrawing = false\r\n                break\r\n            }\r\n            case 'click': {\r\n                isDrawing = true\r\n                break\r\n            }\r\n            default: {\r\n                isDrawing = false\r\n            }\r\n            }\r\n        })\r\n\r\n        // 绘图将添加到图表中\r\n        this.widget.subscribe('drawing', () => {\r\n            isDrawing = true\r\n        })\r\n\r\n        // Undo/Redo状态已更改\r\n        this.widget.subscribe('undo_redo_state_changed', () => {\r\n            setTimeout(() => {\r\n                isDrawing = false\r\n            }, 50)\r\n        })\r\n    }\r\n\r\n    // 批量创建指标\r\n    _createStudies (info) {\r\n        this.indicators.forEach(e => {\r\n            this.widget.activeChart().createStudy(e.name, ...e.params, {\r\n                precision: info.digits\r\n            })\r\n        })\r\n    }\r\n\r\n    // 添加买卖价节点（左上角）\r\n    _addPriceBox () {\r\n        const contentWindow = this.elm.querySelector('iframe').contentWindow\r\n        this.priceBox = appendPriceBoxToIframe(contentWindow, this.sellPrice, this.buyPrice, this.property.showPriceBox)\r\n    }\r\n\r\n    togglePriceBox (bool) {\r\n        if (bool) {\r\n            this.priceBox.show()\r\n        } else {\r\n            this.priceBox.hide()\r\n        }\r\n    }\r\n\r\n    _addFullScreenBtn () {\r\n        const len = this.sellPrice ? this.sellPrice.length : 10\r\n        appendBtnToIframe({\r\n            el: this.elm.querySelector('iframe'),\r\n            type: 'landscape',\r\n            style: {\r\n                right: 11 * len + 'px'\r\n            }\r\n        }, () => {\r\n            this._toggleFullScreen(this._orientation === 'portrait' ? 'landscape' : 'portrait')\r\n        })\r\n    }\r\n\r\n    _toggleFullScreen (type) {\r\n        this._orientation = type\r\n        this._init()\r\n        this._setStyle(type)\r\n    }\r\n\r\n    _setStyle (type) {\r\n        this._orientation = type\r\n        if (type === 'landscape') {\r\n            this._setLandscape()\r\n            this._listener['isLandscape'].forEach(f => f(true))\r\n        } else {\r\n            this._setPortrait()\r\n            this._listener['isLandscape'].forEach(f => f(false))\r\n        }\r\n    }\r\n\r\n    // 设置横屏\r\n    _setLandscape () {\r\n        const { elm } = this\r\n        let width = window.innerWidth\r\n        let height = window.innerHeight\r\n\r\n        if (window.orientation === 90 || window.orientation === -90) {\r\n            [width, height] = [height, width]\r\n        }\r\n\r\n        const temp = {\r\n            width: height + 'px',\r\n            height: width + 'px',\r\n            top: (height - width) / 2 + 'px',\r\n            left: -(height - width) / 2 + 'px'\r\n        }\r\n\r\n        document.body.scrollTop = 0\r\n        elm.style.width = temp.width\r\n        elm.style.height = temp.height\r\n        elm.style.top = temp.top\r\n        elm.style.left = temp.left\r\n    }\r\n\r\n    // 设置竖屏\r\n    _setPortrait () {\r\n        const { elm } = this\r\n        elm.style.width = null\r\n        elm.style.height = null\r\n        elm.style.top = null\r\n        elm.style.left = null\r\n    }\r\n\r\n    // 修改现有指标价格精度\r\n    _setPrecisionForStudies (precision) {\r\n        const chart = this.widget.activeChart()\r\n        chart.getAllStudies().forEach(e => {\r\n            chart.getStudyById(e.id)\r\n                .applyOverrides({\r\n                    precision\r\n                })\r\n        })\r\n    }\r\n\r\n    // 价格线\r\n    _setLine (config) {\r\n        const { _linesMap, symbolId } = this\r\n        !_linesMap[symbolId] && (_linesMap[symbolId] = {})\r\n        const target = _linesMap[symbolId]\r\n\r\n        if (typeof config.showBuyPrice === 'boolean') {\r\n            if (config.showBuyPrice) {\r\n                if (target.buyPriceLine) {\r\n                    target.buyPriceLine.setPrice(this.buyPrice)\r\n                } else {\r\n                    target.buyPriceLine = this.widget.activeChart().createOrderLine()\r\n                        .setPrice(this.buyPrice)\r\n                        .setText('')\r\n                        .setLineStyle(0)\r\n                        .setLineColor('#e3525c')\r\n                        .setQuantity(false)\r\n                }\r\n            } else if (target.buyPriceLine) {\r\n                target.buyPriceLine.remove()\r\n                target.buyPriceLine = null\r\n            }\r\n        }\r\n        if (typeof config.showSellPrice === 'boolean') {\r\n            if (config.showSellPrice) {\r\n                if (target.sellPriceLine) {\r\n                    target.sellPriceLine.setPrice(this.sellPrice)\r\n                } else {\r\n                    target.sellPriceLine = this.widget.activeChart().createOrderLine()\r\n                        .setPrice(this.sellPrice)\r\n                        .setText('')\r\n                        .setLineStyle(0)\r\n                        .setLineColor('#10b873')\r\n                        .setQuantity(false)\r\n                }\r\n            } else if (target.sellPriceLine) {\r\n                target.sellPriceLine.remove()\r\n                target.sellPriceLine = null\r\n            }\r\n        }\r\n    }\r\n\r\n    // 对部分订阅事件进行二次封装\r\n    _resolveFn (type, callback) {\r\n        let fn = callback\r\n        switch (type) {\r\n        case 'study_event': {\r\n            // 默认返回指标实体id改为返回指标名称\r\n            fn = (id, event) => {\r\n                const target = this._indicatorsEntity.find(e => e.id === id)\r\n                callback(target ? target.name : '', event)\r\n            }\r\n            break\r\n        }\r\n        }\r\n        return fn\r\n    }\r\n\r\n    // 覆盖图表属性\r\n    _applyOverrides (config) {\r\n        const options = this._setProperty(config, {})\r\n        this.widget.applyOverrides(options)\r\n    }\r\n\r\n    _setProperty (property, overrides) {\r\n        Object.keys(property || {}).forEach(key => {\r\n            if (['showSeriesTitle', 'showSeriesOHLC', 'showBarChange'].includes(key)) {\r\n                overrides[`paneProperties.legendProperties.${key}`] = property[key]\r\n            } else if (key === 'showLastPrice') {\r\n                overrides['mainSeriesProperties.showPriceLine'] = property[key]\r\n                overrides['scalesProperties.showSeriesLastValue'] = property[key]\r\n            }\r\n        })\r\n        return overrides\r\n    }\r\n\r\n    /** ---------------------------- 分割线 ------------------------------------------------------------------------------------------- */\r\n    /** ---------------------------- 以下是公开方法 ------------------------------------------------------------------------------------ */\r\n    // 切换产品\r\n    setSymbol = info => {\r\n        this.symbolId = info.symbolId\r\n        // 修改产品属性\r\n        this.datafeed.setSymbolInfo(info)\r\n\r\n        return new Promise((resolve, reject) => {\r\n            // 修改图表产品\r\n            this.widget.activeChart()\r\n                .setSymbol(this.symbolId + '', () => {\r\n                    this._setPrecisionForStudies(info.digits)\r\n                    this.updateProperty(this.property)\r\n                    resolve(this.symbolId)\r\n                    console.log(`%c切换产品: ${JSON.stringify(info)}`, 'color:green')\r\n                })\r\n        })\r\n    }\r\n\r\n    // 切换图表类型\r\n    setChartType = (type) => {\r\n        if (typeof type === 'number') {\r\n            // 0:Bar 1:Candle 2:Line 3:Area ,8:Heikin-Ashi ,9: Hollow Candle 10: Baseline 12 10Hi-Lo\r\n            this.widget.activeChart().setChartType(type)\r\n        }\r\n    }\r\n\r\n    // 切换周期\r\n    setResolution = (val) => {\r\n        console.log('setResolution:', val)\r\n        this.widget.activeChart()\r\n            .setResolution(val, () => {\r\n                console.log(`%c切换周期: ${val}`, 'color:green')\r\n            })\r\n    }\r\n\r\n    // 更新买/卖价格线\r\n    updateLineData = ({ buyPrice, sellPrice }) => {\r\n        this.buyPrice = buyPrice\r\n        this.sellPrice = sellPrice\r\n\r\n        this._setLine(this.property)\r\n        if (this.priceBox) {\r\n            this.priceBox.setSellPrice(sellPrice)\r\n            this.priceBox.setBuyPrice(buyPrice)\r\n        }\r\n    }\r\n\r\n    // 更新指标（全量更新/删除）\r\n    updateIndicator = (value) => {\r\n        if (!value) return []\r\n        if (!Array.isArray(value)) {\r\n            value = [value]\r\n        }\r\n\r\n        const allStudies = this.widget.activeChart().getAllStudies()\r\n        const temp = {}\r\n        allStudies.forEach(e => {\r\n            temp[e.name] = true\r\n        })\r\n\r\n        // 新添加指标\r\n        const addList = value.filter(e => !temp[e.name])\r\n        // 待删除指标\r\n        const removeList = this._indicatorsEntity.filter(item => !value.find(e => e.name === item.name))\r\n\r\n        addList.forEach(e => {\r\n            this.widget.activeChart().createStudy(e.name, ...e.params, {\r\n                precision: this.initial.digits\r\n            }).then(id => {\r\n                // 更新指标实体\r\n                this._indicatorsEntity.push({\r\n                    name: e.name,\r\n                    id\r\n                })\r\n            })\r\n        })\r\n\r\n        removeList.forEach(e => {\r\n            this.widget.activeChart().removeEntity(e.id)\r\n            // 更新指标实体\r\n            this._indicatorsEntity = this._indicatorsEntity.filter(item => item.id !== e.id)\r\n        })\r\n    }\r\n\r\n    // 订阅事件\r\n    subscribe = (eventName, callback) => {\r\n        this._listener[eventName].push(function (...args) {\r\n            try {\r\n                return callback.apply(this, args)\r\n            } catch (error) {\r\n                console.error(error)\r\n            }\r\n        })\r\n    }\r\n\r\n    // 图表原生订阅\r\n    nativeSubscribe (type, callback) {\r\n        callback = this._resolveFn(type, callback)\r\n        this._nativeListener[type] = [\r\n            ...(this._nativeListener[type] || []),\r\n            callback\r\n        ]\r\n\r\n        this.widget.subscribe(type, callback)\r\n    }\r\n\r\n    // 销毁前必须执行的方法\r\n    destroyed = () => {\r\n        while (this._destroyedFns.length) {\r\n            const fn = this._destroyedFns.shift()\r\n            fn()\r\n        }\r\n    }\r\n\r\n    // 覆盖图表配置\r\n    updateProperty (config) {\r\n        // 提前合并属性\r\n        Object.assign(this.property, config)\r\n\r\n        this._applyOverrides(config)\r\n        config.property && this.setChartType(config.property.chartType)\r\n        // this._setLine(config)\r\n        if (typeof config.showPositionPrice === 'boolean') {\r\n            !config.showPositionPrice && this.updatePosition()\r\n        }\r\n    }\r\n\r\n    // 实时tick\r\n    setTick (price, time) {\r\n        this.datafeed._historyProvider.onTick(price, time)\r\n    }\r\n\r\n    // 批量创建持仓线\r\n    updatePosition (positions = []) {\r\n        while (this._positionLines.length) {\r\n            this._positionLines.pop().remove()\r\n        }\r\n        if (!this.property.showPositionPrice) {\r\n            return\r\n        }\r\n        this._positionLines = positions.map(el => {\r\n            const { text, quantity, price, color } = el\r\n\r\n            const entity = this.widget.activeChart().createOrderLine()\r\n                .setPrice(price)\r\n                .setText(text)\r\n                .setExtendLeft(false)\r\n                .setLineStyle(0)\r\n                .setQuantity(quantity)\r\n                .setQuantityBackgroundColor(color)\r\n                .setBodyBorderColor(color)\r\n                .setLineColor(color)\r\n                .setQuantityBorderColor(color)\r\n                .setLineLength(55)\r\n            return entity\r\n        })\r\n    }\r\n}\r\n\r\nfunction appendBtnToIframe ({ el, type, fillColor = '#ccc', style = {} }, callback) {\r\n    const landscape = type === 'landscape'\r\n    const div = document.createElement('div')\r\n    div.classList.add('fullScreenBtn')\r\n    if (landscape) {\r\n        // 横屏\r\n        div.innerHTML = getIconHtml({ fillColor }, 'landscape')\r\n    } else {\r\n        div.innerHTML = getIconHtml({ fillColor })\r\n    }\r\n    div.addEventListener('click', callback)\r\n\r\n    div.style.right = style.right\r\n    el.contentWindow.document.body.appendChild(div)\r\n}\r\n\r\nfunction getIconHtml ({ fillColor }, type) {\r\n    if (type === 'landscape') {\r\n        return `<svg t=\"1621511438709\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"10429\"><path d=\"M625.777778 568.888889h341.333333c34.133333 0 56.888889 22.755556 56.888889 56.888889s-22.755556 56.888889-56.888889 56.888889h-199.111111l238.933333 238.933333c22.755556 22.755556 22.755556 62.577778 0 85.333333-22.755556 22.755556-62.577778 22.755556-85.333333 0L682.666667 768V967.111111c0 34.133333-22.755556 56.888889-56.888889 56.888889s-56.888889-22.755556-56.888889-56.888889v-341.333333c0-34.133333 22.755556-56.888889 56.888889-56.888889zM56.888889 341.333333h199.111111L17.066667 108.088889C-5.688889 85.333333-5.688889 45.511111 17.066667 22.755556S79.644444 0 102.4 22.755556L341.333333 256V56.888889c0-34.133333 22.755556-56.888889 56.888889-56.888889s56.888889 22.755556 56.888889 56.888889v341.333333c0 34.133333-22.755556 56.888889-56.888889 56.888889H56.888889c-28.444444 0-56.888889-22.755556-56.888889-56.888889s28.444444-56.888889 56.888889-56.888889z\" fill=\"${fillColor}\" p-id=\"10430\"></path></svg>`\r\n    }\r\n\r\n    return `<svg t=\"1621511137390\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"9915\" data-spm-anchor-id=\"a313x.7781069.0.i9\"><path d=\"M967.111111 1024h-342.869333a56.888889 56.888889 0 0 1-56.888889-56.888889v-0.455111a56.888889 56.888889 0 0 1 56.888889-56.888889h197.916444l-236.088889-236.088889a61.952 61.952 0 0 1 87.608889-87.608889l236.088889 236.088889v-197.916444a56.888889 56.888889 0 0 1 56.888889-56.888889H967.111111a56.888889 56.888889 0 0 1 56.888889 56.888889V967.111111a56.888889 56.888889 0 0 1-56.888889 56.888889zM398.222222 113.777778H201.045333l235.178667 235.178666a61.724444 61.724444 0 1 1-87.267556 87.267556L113.777778 201.045333V398.222222a56.888889 56.888889 0 0 1-113.777778 0V56.888889a56.888889 56.888889 0 0 1 56.888889-56.888889h341.333333a56.888889 56.888889 0 0 1 0 113.777778z\" fill=\"${fillColor}\" p-id=\"9916\"></path></svg>`\r\n}\r\n\r\nfunction appendPriceBoxToIframe (iframeWindow, sellPrice, buyPrice, isShow) {\r\n    const elm = iframeWindow.document.querySelector('.noWrap-ODIQgNap')\r\n    const div = document.createElement('div')\r\n    div.classList.add('price-box')\r\n    !isShow && div.classList.add('hide')\r\n    div.innerHTML = `<div class='block sell'>\r\n                        <span class='num'>\r\n                            ${sellPrice}\r\n                        </span>\r\n                        <span class='text'>\r\n                            sell\r\n                        </span>\r\n                    </div>\r\n                    <div class='block buy'>\r\n                        <span class='num'>\r\n                            ${buyPrice}\r\n                        </span>\r\n                        <span class='text'>\r\n                            buy\r\n                        </span>\r\n                    </div>`\r\n    const sellElm = div.querySelector('.sell .num')\r\n    const buyElm = div.querySelector('.buy .num')\r\n    if (elm) elm.appendChild(div)\r\n\r\n    let oldSellPrice = 0\r\n    const setSellPrice = price => {\r\n        if (Number(oldSellPrice) < Number(price)) {\r\n            div.classList.add('rise')\r\n            div.classList.remove('fall')\r\n        } else {\r\n            div.classList.add('fall')\r\n            div.classList.remove('rise')\r\n        }\r\n        sellElm.innerText = price\r\n        oldSellPrice = price\r\n    }\r\n    const setBuyPrice = price => { buyElm.innerText = price }\r\n\r\n    const show = () => {\r\n        div.classList.remove('hide')\r\n    }\r\n    const hide = () => {\r\n        div.classList.add('hide')\r\n    }\r\n\r\n    return {\r\n        setSellPrice,\r\n        setBuyPrice,\r\n        show,\r\n        hide\r\n    }\r\n}\r\n\r\n/**\r\n * @desc 函数防抖\r\n * @param func 函数\r\n * @param wait 延迟执行毫秒数\r\n * @param immediate true 表立即执行，false 表非立即执行\r\n */\r\nfunction debounce (func, wait = 200, immediate = false) {\r\n    let timer\r\n    return function (...rest) {\r\n        if (timer) clearTimeout(timer)\r\n        if (immediate) {\r\n            const callNow = !timer\r\n            timer = setTimeout(() => {\r\n                timer = null\r\n            }, wait)\r\n            if (callNow) func.apply(this, rest)\r\n        } else {\r\n            timer = setTimeout(() => {\r\n                func.apply(this, rest)\r\n            }, wait)\r\n        }\r\n    }\r\n}\r\n","import { render } from \"./tv.vue?vue&type=template&id=e79e8368&scoped=true\"\nimport script from \"./tv.vue?vue&type=script&lang=js\"\nexport * from \"./tv.vue?vue&type=script&lang=js\"\n\nimport \"./tv.vue?vue&type=style&index=0&id=e79e8368&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e79e8368\"\n\nexport default script","<template>\r\n    <div class='chartWrap' :class='{ landscape: isLandscape }'>\r\n        <tv\r\n            v-if='initialValue'\r\n            ref='chartRef'\r\n            :initial-value='initialValue'\r\n            :options='chartConfig'\r\n            :position-list='positionList'\r\n            @changeOrientation='changeOrientation'\r\n            @indicatorRemoved='indicatorRemoved'\r\n            @symbolChanged='symbolChanged'\r\n        >\r\n            <!-- <template v-if='!isLandscape' #top='{ setSymbol,resolutionList }'>\r\n\r\n            </template> -->\r\n            <template v-if='isLandscape' #sideMenu>\r\n                <!-- 横屏菜单 -->\r\n                <SideMenu\r\n                    :ref='sideMenuRef'\r\n                    :chart='chartRef.chart'\r\n                    class='side-menu-Component'\r\n                    :class='{ landscape:isLandscape }'\r\n                    @togglePriceBox='togglePriceBox'\r\n                />\r\n            </template>\r\n        </tv>\r\n    </div>\r\n\r\n    <!-- 指标弹出层 -->\r\n    <van-popup v-model:show='showIndicator' position='right' :style=\"{ height: '100%', width: '100%' }\">\r\n        <Indicator v-if='showIndicator' @back='onBack' />\r\n    </van-popup>\r\n\r\n    <!-- 设置弹出层 -->\r\n    <van-popup v-model:show='showSetting' position='right' :style=\"{ height: '100%', width: '100%' }\">\r\n        <ChartSetting @back-event='onBackEvent' />\r\n    </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport tv from '@/components/tradingview/tv'\r\nimport { Popover } from 'vant'\r\nimport { computed, watch, ref, unref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { QuoteSocket } from '@/plugins/socket/socket'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport ChartSetting from '@/themeCommon/user/chartSetting.vue'\r\nimport { localGet, localSet } from '@/utils/util'\r\nimport SideMenu from './components/sideMenu'\r\nimport Indicator from './components/indicator'\r\n\r\nexport default {\r\n    components: {\r\n        tv,\r\n        [Popover.name]: Popover,\r\n        ChartSetting,\r\n        SideMenu,\r\n        Indicator,\r\n    },\r\n    setup () {\r\n        const router = useRouter()\r\n        const route = useRoute()\r\n        const store = useStore()\r\n        const productList = computed(() => store.state._quote.productList)\r\n        const positionList = computed(() => store.state._trade.positionList)\r\n        const customerInfo = computed(() => store.state._user.customerInfo)\r\n        if (customerInfo.value) {\r\n            store.dispatch('_trade/queryPositionPage')\r\n        }\r\n        // 图表配置\r\n        const chartConfig = ref({\r\n            property: {\r\n                showBuyPrice: true, // 买价线\r\n                showSellPrice: true, // 卖价线\r\n                showSeriesOHLC: true, // 高开低收\r\n                showBarChange: true, // 涨跌幅\r\n                chartType: '1', // 图表类型\r\n                showSeriesTitle: false // K线标题\r\n            }\r\n        })\r\n        // 图表组件引用\r\n        const chartRef = ref(null)\r\n        // 是否横屏\r\n        // const isLandscape = ref([90, -90].includes(window.orientation))\r\n        const isLandscape = ref(false)\r\n\r\n        // 横屏菜单ref\r\n        const sideMenuRef = ref(null)\r\n\r\n        const showProductPopover = ref(false)\r\n        const showResolutionPopover = ref(false)\r\n\r\n        // 是否显示指标弹出层\r\n        const showIndicator = ref(false)\r\n        // 指标弹出层事件：关闭\r\n        const onBack = () => {\r\n            showIndicator.value = false\r\n        }\r\n\r\n        watch(showIndicator, (bool) => {\r\n            if (!bool) {\r\n                Object.assign(chartConfig.value, JSON.parse(localGet('chartConfig')) || {})\r\n                // 更新指标\r\n                unref(chartRef).chart.updateIndicator(unref(chartConfig).indicators)\r\n            }\r\n        })\r\n\r\n        // 设置弹出层逻辑\r\n        const showSetting = ref(false)\r\n        // 显示设置弹出层\r\n        const onShowSetting = () => {\r\n            showSetting.value = true\r\n        }\r\n        // 设置弹出层左上角返回\r\n        const onBackEvent = () => {\r\n            showSetting.value = false\r\n        }\r\n\r\n        watch(showSetting, (bool) => {\r\n            if (!bool) {\r\n                Object.assign(chartConfig.value, JSON.parse(localGet('chartConfig')) || {})\r\n                // 更新图表\r\n                unref(chartRef).chart.setChartType(unref(chartConfig).property.chartType)\r\n                unref(chartRef).chart.updateProperty(unref(chartConfig))\r\n            }\r\n        })\r\n\r\n        // 订阅产品\r\n        const subscribList = productList.value.map(({ symbolId }) => symbolId)\r\n        store.dispatch('_quote/querySymbolBaseInfoList', subscribList)\r\n        QuoteSocket.send_subscribe(subscribList)\r\n\r\n        // 产品下拉列表\r\n        const computedProductList = computed(\r\n            () => productList.value\r\n                .filter(e => e.symbolName)\r\n                .map(e => ({\r\n                    text: e.symbolName, // 用于vant组件显示\r\n                    description: e.symbolCode, // 显示在图表左上角\r\n                    symbolId: e.symbolId, // 产品id\r\n                    digits: e.symbolDigits, // 小数点\r\n                }))\r\n        )\r\n\r\n        // 图表初始值\r\n        const initialValue = computed(() => {\r\n            if (!computedProductList.value.length) {\r\n                return null\r\n            }\r\n            const symbolId = localGet('symbolIdForChart')\r\n            if (symbolId) {\r\n                const target = computedProductList.value.find(e => e.symbolId + '' === symbolId)\r\n                if (target) {\r\n                    return target\r\n                }\r\n            }\r\n            return computedProductList.value[0]\r\n        })\r\n\r\n        // /更新图表产品缓存\r\n        watch(initialValue, (val) => {\r\n            val && localSet('symbolIdForChart', val.symbolId)\r\n        })\r\n\r\n        // 前往下单页\r\n        const gotoOrder = () => {\r\n            router.push({\r\n                name: 'Order',\r\n                query: {\r\n                    ...route.query,\r\n                    symbolId: localGet('symbolIdForChart') || this.initialValue.value\r\n                },\r\n            })\r\n        }\r\n\r\n        try {\r\n            Object.assign(chartConfig.value, JSON.parse(localGet('chartConfig')) || {})\r\n        } catch (error) {\r\n            console.error('图表缓存出错，进行清空')\r\n            localSet('chartConfig', '{}')\r\n        }\r\n        // 价格栏显隐\r\n        const togglePriceBox = () => {\r\n            unref(chartConfig).property.showPriceBox = !unref(chartConfig).property.showPriceBox\r\n            unref(chartRef).chart.togglePriceBox(unref(chartConfig).property.showPriceBox)\r\n            localSet('chartConfig', JSON.stringify(unref(chartConfig)))\r\n        }\r\n        // 产品id变化\r\n        const symbolChanged = id => {\r\n            localSet('symbolIdForChart', id)\r\n        }\r\n\r\n        // 监听是否横屏\r\n        const changeOrientation = (bool) => {\r\n            isLandscape.value = bool\r\n            console.log('changeOrientation: ', bool)\r\n        }\r\n\r\n        // 移除指标特殊情况：图表内直接移除指标\r\n        const indicatorRemoved = name => {\r\n            Object.assign(chartConfig.value, JSON.parse(localGet('chartConfig')) || {})\r\n            unref(chartConfig).indicators = unref(chartConfig).indicators.filter(e => e.name !== name)\r\n            localSet('chartConfig', JSON.stringify(unref(chartConfig)))\r\n        }\r\n\r\n        const setResolution = value => {\r\n            unref(chartRef).chart.setResolution(value)\r\n        }\r\n\r\n        return {\r\n            computedProductList,\r\n            initialValue,\r\n            gotoOrder,\r\n            onShowSetting,\r\n            showSetting,\r\n            onBackEvent,\r\n            chartConfig,\r\n            symbolChanged,\r\n            isLandscape,\r\n            changeOrientation,\r\n            sideMenuRef,\r\n            togglePriceBox,\r\n            indicatorRemoved,\r\n            showProductPopover,\r\n            showResolutionPopover,\r\n            onBack,\r\n            showIndicator,\r\n            chartRef,\r\n            setResolution,\r\n            positionList\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~@/sass/mixin.scss';\r\n.chartWrap {\r\n    flex: 1;\r\n    height: 100%;\r\n    margin-bottom: rem(100px);\r\n    &.landscape {\r\n        position: relative;\r\n        z-index: 2;\r\n        margin-bottom: 0;\r\n        background: #FFF;\r\n    }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.tv-product-popover {\r\n    .van-popover__action {\r\n        width: auto;\r\n    }\r\n}\r\n.tv-resolution-popover {\r\n    .van-popover__action {\r\n        width: auto;\r\n    }\r\n}\r\n.tv-product-popover,\r\n.tv-resolution-popover {\r\n    height: 70%;\r\n    overflow-y: auto;\r\n}\r\n.btn-wrap {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-content: center;\r\n    justify-content: center;\r\n    .btn {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-content: center;\r\n        justify-content: center;\r\n        padding: 0 10px;\r\n        background: var(--primary);\r\n        border: 0;\r\n        .van-button {\r\n            padding: 0;\r\n        }\r\n        i {\r\n            align-self: center;\r\n            font-size: 22px;\r\n        }\r\n    }\r\n}\r\n.side-menu-Component {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 100;\r\n    width: 100%;\r\n    height: 100%;\r\n    &.landscape {\r\n        top: -100vw;\r\n        width: 100vh;\r\n        height: 100vw;\r\n        transform: rotate(90deg);\r\n        transform-origin: bottom left;\r\n    }\r\n}\r\n\r\n@media screen and (orientation: landscape) {\r\n    .side-menu-Component {\r\n        top: 0 !important;\r\n        left: 0 !important;\r\n        transform: none !important;\r\n    }\r\n}\r\n\r\n</style>\r\n","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}\n\n/*:: import type { Window } from '../types'; */\n\n/*:: declare function getWindow(node: Node | Window): Window; */\nfunction getWindow(node) {\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}\n\nfunction getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}\n\n/*:: declare function isElement(node: mixed): boolean %checks(node instanceof\n  Element); */\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n/*:: declare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement); */\n\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}\n\nfunction getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}\n\nfunction getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}\n\nfunction getDocumentElement(element) {\n  // $FlowFixMe: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : element.document) || window.document).documentElement;\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}\n\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\n\n// Composite means it takes into account transforms as well as layout.\n\nfunction getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nfunction getLayoutRect(element) {\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n}\n\nfunction getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// $FlowFixMe: this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    // $FlowFixMe: need a better way to handle this...\n    element.host || // ShadowRoot detected\n    // $FlowFixMe: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}\n\nfunction getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}\n\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the \nreference element's position.\n*/\n\nfunction listScrollParents(element, list) {\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = getNodeName(scrollParent) === 'body';\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}\n\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  var offsetParent = element.offsetParent;\n\n  if (offsetParent) {\n    var html = getDocumentElement(offsetParent);\n\n    if (getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && getComputedStyle(html).position !== 'static') {\n      return html;\n    }\n  }\n\n  return offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.willChange && css.willChange !== 'auto') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nfunction getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static') {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nvar top = 'top';\nvar bottom = 'bottom';\nvar right = 'right';\nvar left = 'left';\nvar auto = 'auto';\nvar basePlacements = [top, bottom, right, left];\nvar start = 'start';\nvar end = 'end';\nvar placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nvar beforeRead = 'beforeRead';\nvar read = 'read';\nvar afterRead = 'afterRead'; // pure-logic modifiers\n\nvar beforeMain = 'beforeMain';\nvar main = 'main';\nvar afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nvar beforeWrite = 'beforeWrite';\nvar write = 'write';\nvar afterWrite = 'afterWrite';\nvar modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nfunction orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}\n\nfunction debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}\n\nfunction format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}\n\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nfunction validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    Object.keys(modifier).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (!Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}\n\nfunction uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}\n\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\n\nfunction mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? _extends(_extends(_extends({}, existing), current), {}, {\n      options: _extends(_extends({}, existing.options), current.options),\n      data: _extends(_extends({}, existing.data), current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}\n\nfunction getVariation(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}\n\nfunction computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) - Math.floor(reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) + Math.ceil(reference[len] / 2 - element[len] / 2);\n        break;\n    }\n  }\n\n  return offsets;\n}\n\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nfunction popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: _extends(_extends({}, DEFAULT_OPTIONS), defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = _extends(_extends(_extends({}, defaultOptions), state.options), options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = _extends({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar eventListeners = {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name; // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar popperOffsets$1 = {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsets(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: Math.round(x * dpr) / dpr || 0,\n    y: Math.round(y * dpr) / dpr || 0\n  };\n}\n\nfunction mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive;\n\n  var _roundOffsets = roundOffsets(offsets),\n      x = _roundOffsets.x,\n      y = _roundOffsets.y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n    } // $FlowFixMe: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n    /*:: offsetParent = (offsetParent: Element); */\n\n\n    if (placement === top) {\n      sideY = bottom;\n      y -= offsetParent.clientHeight - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right;\n      x -= offsetParent.clientWidth - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = _extends({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return _extends(_extends({}, commonStyles), {}, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return _extends(_extends({}, commonStyles), {}, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref3) {\n  var state = _ref3.state,\n      options = _ref3.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = _extends(_extends({}, state.styles.popper), mapToStyles(_extends(_extends({}, commonStyles), {}, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = _extends(_extends({}, state.styles.arrow), mapToStyles(_extends(_extends({}, commonStyles), {}, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false\n    })));\n  }\n\n  state.attributes.popper = _extends(_extends({}, state.attributes.popper), {}, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar computeStyles$1 = {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};\n\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe\n\n\n    _extends(element.style, style);\n\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect$1(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n\n  _extends(state.elements.popper.style, initialStyles.popper);\n\n  if (state.elements.arrow) {\n    _extends(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe\n\n\n      _extends(element.style, style);\n\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar applyStyles$1 = {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect$1,\n  requires: ['computeStyles']\n};\n\nvar defaultModifiers = [eventListeners, popperOffsets$1, computeStyles$1, applyStyles$1];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nfunction distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(_extends(_extends({}, rects), {}, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nvar offset$1 = {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};\n\nexport { createPopper, offset$1 as offsetModifier };\n","import { mergeProps as _mergeProps } from \"vue\";\nimport { Fragment as _Fragment } from \"vue\";\nimport { isVNode as _isVNode } from \"vue\";\nimport { createVNode as _createVNode } from \"vue\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { ref, watch, nextTick, onMounted, onBeforeUnmount } from 'vue';\nimport { createPopper, offsetModifier } from '@vant/popperjs'; // Utils\n\nimport { createNamespace } from '../utils';\nimport { BORDER_BOTTOM } from '../utils/constant'; // Composition\n\nimport { useClickAway } from '@vant/use'; // Components\n\nimport Icon from '../icon';\nimport Popup from '../popup';\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !_isVNode(s);\n}\n\nvar _createNamespace = createNamespace('popover'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    show: Boolean,\n    overlay: Boolean,\n    offset: {\n      type: Array,\n      default: function _default() {\n        return [0, 8];\n      }\n    },\n    theme: {\n      type: String,\n      default: 'light'\n    },\n    trigger: {\n      type: String,\n      default: 'click'\n    },\n    actions: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n    teleport: {\n      type: [String, Object],\n      default: 'body'\n    },\n    closeOnClickAction: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['select', 'touchstart', 'update:show'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots,\n        attrs = _ref.attrs;\n    var popper;\n    var wrapperRef = ref();\n    var popoverRef = ref();\n\n    var createPopperInstance = function createPopperInstance() {\n      return createPopper(wrapperRef.value, popoverRef.value.popupRef.value, {\n        placement: props.placement,\n        modifiers: [{\n          name: 'computeStyles',\n          options: {\n            adaptive: false,\n            gpuAcceleration: false\n          }\n        }, _extends({}, offsetModifier, {\n          options: {\n            offset: props.offset\n          }\n        })]\n      });\n    };\n\n    var updateLocation = function updateLocation() {\n      nextTick(function () {\n        if (!props.show) {\n          return;\n        }\n\n        if (!popper) {\n          popper = createPopperInstance();\n        } else {\n          popper.setOptions({\n            placement: props.placement\n          });\n        }\n      });\n    };\n\n    var toggle = function toggle(value) {\n      emit('update:show', value);\n    };\n\n    var onClickWrapper = function onClickWrapper() {\n      if (props.trigger === 'click') {\n        toggle(!props.show);\n      }\n    };\n\n    var onTouchstart = function onTouchstart(event) {\n      event.stopPropagation();\n      emit('touchstart', event);\n    };\n\n    var onClickAction = function onClickAction(action, index) {\n      if (action.disabled) {\n        return;\n      }\n\n      emit('select', action, index);\n\n      if (props.closeOnClickAction) {\n        toggle(false);\n      }\n    };\n\n    var onClickAway = function onClickAway() {\n      toggle(false);\n    };\n\n    var renderAction = function renderAction(action, index) {\n      var icon = action.icon,\n          text = action.text,\n          disabled = action.disabled,\n          className = action.className;\n      return _createVNode(\"div\", {\n        \"role\": \"menuitem\",\n        \"class\": [bem('action', {\n          disabled: disabled,\n          'with-icon': icon\n        }), className],\n        \"onClick\": function onClick() {\n          return onClickAction(action, index);\n        }\n      }, [icon && _createVNode(Icon, {\n        \"name\": icon,\n        \"class\": bem('action-icon')\n      }, null), _createVNode(\"div\", {\n        \"class\": [bem('action-text'), BORDER_BOTTOM]\n      }, _isSlot(text) ? text : {\n        default: function _default() {\n          return [text];\n        }\n      })]);\n    };\n\n    onMounted(updateLocation);\n    onBeforeUnmount(function () {\n      if (popper) {\n        popper.destroy();\n        popper = null;\n      }\n    });\n    watch([function () {\n      return props.show;\n    }, function () {\n      return props.placement;\n    }], updateLocation);\n    useClickAway(wrapperRef, onClickAway, {\n      eventName: 'touchstart'\n    });\n    return function () {\n      return _createVNode(_Fragment, null, [_createVNode(\"span\", {\n        \"ref\": wrapperRef,\n        \"class\": bem('wrapper'),\n        \"onClick\": onClickWrapper\n      }, [slots.reference == null ? void 0 : slots.reference()]), _createVNode(Popup, _mergeProps({\n        \"ref\": popoverRef,\n        \"show\": props.show,\n        \"class\": bem([props.theme]),\n        \"overlay\": props.overlay,\n        \"position\": null,\n        \"teleport\": props.teleport,\n        \"transition\": \"van-popover-zoom\",\n        \"lockScroll\": false,\n        \"onTouchstart\": onTouchstart\n      }, _extends({}, attrs, {\n        'onUpdate:show': toggle\n      })), {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"class\": bem('arrow')\n          }, null), _createVNode(\"div\", {\n            \"role\": \"menu\",\n            \"class\": bem('content')\n          }, [slots.default ? slots.default() : props.actions.map(renderAction)])];\n        }\n      })]);\n    };\n  }\n});","<template>\r\n    <div v-if='showSelf' :ref='el => componentRef = el'>\r\n        <div class='side-menu' @click='() => showSelf=false'>\r\n            <!-- 左侧菜单 -->\r\n            <div class='left'>\r\n                <template v-for='item in resolutionList' :key='item.value'>\r\n                    <span class='item' @click='chart.setResolution(item.value)'>\r\n                        {{ item.text }}\r\n                    </span>\r\n                </template>\r\n            </div>\r\n            <!-- 右侧菜单 -->\r\n            <div class='right'>\r\n                <template v-for='item in rightMenu' :key='item.value'>\r\n                    <div class='item' @click.stop='item.method'>\r\n                        <i class='icon' :class='item.icon'></i>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 指标弹出层 -->\r\n        <van-popup v-if='componentRef' v-model:show='showIndicator' position='right' :style=\"{ height: '100%', width: '100%' }\" :teleport='componentRef'>\r\n            <Indicator v-if='showIndicator' @back='onBack' />\r\n        </van-popup>\r\n\r\n        <!-- 设置弹出层 -->\r\n        <van-popup v-if='componentRef' v-model:show='showSetting' position='right' :style=\"{ height: '100%', width: '100%' }\" :teleport='componentRef'>\r\n            <ChartSetting v-if='showSetting' @back-event='onBackEvent' />\r\n        </van-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { localGet, localSet } from '@/utils/util'\r\nimport { onMounted, ref, watch, unref } from 'vue'\r\nimport { resolutionToKlineType, resolutionToText } from '@/components/tradingview/datafeeds/userConfig/config.js'\r\nimport ChartSetting from '@/themeCommon/user/chartSetting.vue'\r\nimport Indicator from './indicator'\r\n\r\nexport default {\r\n    components: {\r\n        Indicator,\r\n        ChartSetting\r\n    },\r\n    props: {\r\n        chart: {\r\n            type: Object,\r\n            default: null\r\n        },\r\n    },\r\n    setup (props, context) {\r\n        const { chart } = props\r\n        // 显示当前模块\r\n        const showSelf = ref(false)\r\n\r\n        const chartConfig = ref({})\r\n\r\n        // 周期列表\r\n        const resolutionList = Object.keys(resolutionToKlineType).map(value => ({\r\n            text: resolutionToText[value],\r\n            value\r\n        }))\r\n\r\n        // 是否显示指标弹出层\r\n        const showIndicator = ref(false)\r\n        // 指标弹出层事件：关闭\r\n        const onBack = () => {\r\n            showIndicator.value = false\r\n        }\r\n\r\n        watch(showIndicator, (bool) => {\r\n            if (!bool) {\r\n                chartConfig.value = JSON.parse(localGet('chartConfig')) || {}\r\n                // 更新指标\r\n                chart.updateIndicator(unref(chartConfig).indicators)\r\n            }\r\n        })\r\n        // 显示设置弹出层\r\n        const showSetting = ref(false)\r\n        const onBackEvent = () => {\r\n            showSetting.value = false\r\n        }\r\n        watch(showSetting, (bool) => {\r\n            if (!bool) {\r\n                chartConfig.value = JSON.parse(localGet('chartConfig')) || {}\r\n                // 更新图表\r\n                chart.setChartType(unref(chartConfig).chartType)\r\n                chart.updateProperty(unref(chartConfig))\r\n            }\r\n        })\r\n\r\n        const updateChartType = (chartType) => {\r\n            chartConfig.value = JSON.parse(localGet('chartConfig')) || {}\r\n            unref(chartConfig).chartType = chartType\r\n            localSet('chartConfig', JSON.stringify(unref(chartConfig)))\r\n            chart.updateProperty({\r\n                chartType\r\n            })\r\n        }\r\n\r\n        // 右侧菜单列表\r\n        const rightMenu = [\r\n            {\r\n                icon: 'icon_yinyangzhu',\r\n                method: () => updateChartType(1)\r\n\r\n            },\r\n            {\r\n                icon: 'icon_zhuxingtu',\r\n                method: () => updateChartType(0)\r\n            },\r\n            {\r\n                icon: 'icon_tubiaoxian',\r\n                method: () => updateChartType(2)\r\n            },\r\n            {\r\n                icon: 'icon_f',\r\n                method: () => {\r\n                    showIndicator.value = true\r\n                }\r\n            },\r\n\r\n            {\r\n                icon: 'icon_maimai',\r\n                method: () => {\r\n                    context.emit('togglePriceBox')\r\n                }\r\n            },\r\n\r\n            {\r\n                icon: 'icon_shezhi',\r\n                method: () => { showSetting.value = true }\r\n            },\r\n        ]\r\n\r\n        onMounted(() => {\r\n            // 点击时\r\n            chart.subscribe('click', () => {\r\n                showSelf.value = true\r\n            })\r\n        })\r\n\r\n        const componentRef = ref(null)\r\n\r\n        return {\r\n            resolutionList,\r\n            showIndicator,\r\n            onBack,\r\n            rightMenu,\r\n            onBackEvent,\r\n            showSetting,\r\n            showSelf,\r\n            componentRef,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.side-menu {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 100;\r\n    width: 100%;\r\n    height: 100%;\r\n    filter: invert(100%);\r\n    .left,\r\n    .right {\r\n        position: absolute;\r\n        top: 0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: space-around;\r\n        height: 100%;\r\n        font-weight: 700;\r\n        font-size: 12px;\r\n        text-align: center;\r\n        background: #FFF;\r\n        box-shadow: #DEDEDE 0 0 5px 0;\r\n        .item {\r\n            display: flex;\r\n            flex: 1;\r\n            flex-direction: row;\r\n            align-items: center;\r\n            justify-content: center;\r\n            box-sizing: border-box;\r\n            width: 100%;\r\n            padding: 0 17px;\r\n        }\r\n    }\r\n    .left {\r\n        left: 0;\r\n    }\r\n    .right {\r\n        right: 0;\r\n        .icon {\r\n            font-size: 20px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","<template>\r\n    <div class='indicator-wrap'>\r\n        <van-nav-bar\r\n            left-arrow\r\n            left-text='返回'\r\n            :right-text='isEdit? \"完成\" :\"编辑\"'\r\n            title='指标'\r\n            @click-left='onClickLeft'\r\n            @click-right='onClickRight'\r\n        />\r\n        <div class='indicator'>\r\n            <van-cell-group>\r\n                <van-cell class='indicator-type' is-link title='主窗口' @click='openStudyList(\"main\")' />\r\n                <van-swipe-cell\r\n                    v-for='item in computedMainList'\r\n                    :key='item.text'\r\n                    :ref='el => refMap[item.text] = el'\r\n                    :before-close='(e) => beforeClose(e, item)'\r\n                    class='item'\r\n                    disabled\r\n                >\r\n                    <template #left>\r\n                        <div class='left' @click='openRight(refMap[item.text])'>\r\n                            <van-icon name='clear' />\r\n                        </div>\r\n                    </template>\r\n                    <van-cell :title='item.text' :value='item.value' />\r\n                    <template #right>\r\n                        <van-button square text='删除' type='danger' @click='onDelete(item.name)' />\r\n                    </template>\r\n                </van-swipe-cell>\r\n                <van-cell class='indicator-type' is-link title='指标窗口' @click='openStudyList(\"sub\")' />\r\n                <van-swipe-cell\r\n                    v-for='item in computedSubList'\r\n                    :key='item.value'\r\n                    :ref='el => refMap[item.text] = el'\r\n                    :before-close='(e) => beforeClose(e, item)'\r\n                    class='item'\r\n                    disabled\r\n                >\r\n                    <template #left>\r\n                        <div class='left' @click='openRight(refMap[item.text])'>\r\n                            <van-icon name='clear' />\r\n                        </div>\r\n                    </template>\r\n                    <van-cell :title='item.text' :value='item.value' />\r\n                    <template #right>\r\n                        <van-button square text='删除' type='danger' @click='onDelete(item.name)' />\r\n                    </template>\r\n                </van-swipe-cell>\r\n            </van-cell-group>\r\n            <span class='remark'>\r\n                要添加指标，请点击窗口标题\r\n            </span>\r\n        </div>\r\n        <van-popup v-model:show='showMainStudy' position='right' :style=\"{ height: '100%', width: '100%' }\">\r\n            <StudyList v-if='showMainStudy' :type='indicatorType' @addStudy='addStudy' @back='showMainStudy=false' />\r\n        </van-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { NavBar, SwipeCell } from 'vant'\r\nimport { computed, ref, unref } from 'vue'\r\nimport StudyList from './studyList'\r\nimport { localGet, localSet } from '@/utils/util'\r\n\r\nexport default {\r\n    name: 'Indicator',\r\n    components: {\r\n        [NavBar.name]: NavBar,\r\n        [SwipeCell.name]: SwipeCell,\r\n        StudyList\r\n    },\r\n    emits: ['back'],\r\n    setup (props, context) {\r\n        const showMainStudy = ref(false)\r\n        // 图表配置\r\n        const chartConfig = ref({})\r\n        try {\r\n            chartConfig.value = JSON.parse(localGet('chartConfig')) || {}\r\n        } catch (error) {}\r\n        const refMap = {}\r\n        // 主指标列表\r\n        const computedMainList = computed(() => unref(chartConfig).indicators?.filter(e => e.params[0]).map(e => ({ text: e.label, name: e.name })) || [])\r\n        // 副指标列表\r\n        const computedSubList = computed(() => unref(chartConfig).indicators?.filter(e => !e.params[0]).map(e => ({ text: e.label, name: e.name })) || [])\r\n        // 编辑状态\r\n        const isEdit = ref(false)\r\n        // 头部左侧返回\r\n        const onClickLeft = () => {\r\n            context.emit('back')\r\n        }\r\n        // 头部右侧编辑/完成\r\n        const onClickRight = () => {\r\n            isEdit.value = !isEdit.value\r\n            if (isEdit.value) {\r\n                Object.keys(refMap).forEach(key => refMap[key] && refMap[key].open('left'))\r\n            } else {\r\n                Object.keys(refMap).forEach(key => refMap[key] && refMap[key].close())\r\n            }\r\n        }\r\n        // 打开删除按钮\r\n        const openRight = (ref) => {\r\n            ref.open('right')\r\n        }\r\n        // 单元格逻辑\r\n        const beforeClose = ({ position }, { ref }) => {\r\n            if (position === 'cell') {\r\n                ref.close('right')\r\n                ref.open('left')\r\n            }\r\n        }\r\n        // 打开指标弹出层\r\n        const indicatorType = ref('')\r\n        const openStudyList = (type) => {\r\n            indicatorType.value = type\r\n            showMainStudy.value = true\r\n        }\r\n\r\n        // 添加指标\r\n        const addStudy = ({ type, value }) => {\r\n            chartConfig.value = JSON.parse(localGet('chartConfig')) || {}\r\n            unref(chartConfig).indicators = [\r\n                ...unref(chartConfig)?.indicators || [],\r\n                value\r\n            ]\r\n            localSet('chartConfig', JSON.stringify(unref(chartConfig)))\r\n        }\r\n        // 删除指标\r\n        const onDelete = (name) => {\r\n            chartConfig.value = JSON.parse(localGet('chartConfig')) || {}\r\n            unref(chartConfig).indicators = unref(chartConfig)?.indicators.filter(e => e.name !== name)\r\n            localSet('chartConfig', JSON.stringify(unref(chartConfig)))\r\n        }\r\n\r\n        return {\r\n            computedMainList,\r\n            computedSubList,\r\n            onClickLeft,\r\n            openRight,\r\n            onClickRight,\r\n            isEdit,\r\n            beforeClose,\r\n            showMainStudy,\r\n            openStudyList,\r\n            addStudy,\r\n            onDelete,\r\n            indicatorType,\r\n            refMap\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.indicator-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 100%;\r\n    .indicator {\r\n        flex: 1;\r\n        overflow-y: auto;\r\n        .item {\r\n            .left {\r\n                display: flex;\r\n                flex-direction: row;\r\n                align-items: center;\r\n                justify-content: center;\r\n                width: 100%;\r\n                height: 100%;\r\n                padding-left: 12px;\r\n                .van-icon-clear {\r\n                    color: var(--focusColor);\r\n                    font-size: 20px;\r\n                }\r\n            }\r\n        }\r\n        .indicator-type {\r\n            color: var(--primary);\r\n        }\r\n        .remark {\r\n            display: block;\r\n            margin: 5px 0 20px;\r\n            padding-left: 16px;\r\n            color: var(--color);\r\n            font-size: 12px;\r\n        }\r\n    }\r\n}\r\n\r\n</style>\r\n","import { createVNode as _createVNode } from \"vue\";\nimport { ref, reactive, computed } from 'vue'; // Utils\n\nimport { range, createNamespace, preventDefault } from '../utils';\nimport { callInterceptor } from '../utils/interceptor'; // Composition\n\nimport { useRect, useClickAway } from '@vant/use';\nimport { useTouch } from '../composables/use-touch';\nimport { useExpose } from '../composables/use-expose';\n\nvar _createNamespace = createNamespace('swipe-cell'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    disabled: Boolean,\n    leftWidth: [Number, String],\n    rightWidth: [Number, String],\n    beforeClose: Function,\n    stopPropagation: Boolean,\n    name: {\n      type: [Number, String],\n      default: ''\n    }\n  },\n  emits: ['open', 'close', 'click'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n    var opened;\n    var lockClick;\n    var startOffset;\n    var root = ref();\n    var leftRef = ref();\n    var rightRef = ref();\n    var state = reactive({\n      offset: 0,\n      dragging: false\n    });\n    var touch = useTouch();\n\n    var getWidthByRef = function getWidthByRef(ref) {\n      return ref.value ? useRect(ref).width : 0;\n    };\n\n    var leftWidth = computed(function () {\n      return +props.leftWidth || getWidthByRef(leftRef);\n    });\n    var rightWidth = computed(function () {\n      return +props.rightWidth || getWidthByRef(rightRef);\n    });\n\n    var open = function open(position) {\n      opened = true;\n      state.offset = position === 'left' ? leftWidth.value : -rightWidth.value;\n      emit('open', {\n        name: props.name,\n        position: position\n      });\n    };\n\n    var close = function close(position) {\n      state.offset = 0;\n\n      if (opened) {\n        opened = false;\n        emit('close', {\n          name: props.name,\n          position: position\n        });\n      }\n    };\n\n    var toggle = function toggle(position) {\n      var offset = Math.abs(state.offset);\n      var THRESHOLD = 0.15;\n      var threshold = opened ? 1 - THRESHOLD : THRESHOLD;\n\n      if (position === 'left' || position === 'right') {\n        var width = position === 'left' ? leftWidth.value : rightWidth.value;\n\n        if (width && offset > width * threshold) {\n          open(position);\n          return;\n        }\n      }\n\n      close();\n    };\n\n    var onTouchStart = function onTouchStart(event) {\n      if (!props.disabled) {\n        startOffset = state.offset;\n        touch.start(event);\n      }\n    };\n\n    var onTouchMove = function onTouchMove(event) {\n      if (props.disabled) {\n        return;\n      }\n\n      var deltaX = touch.deltaX;\n      touch.move(event);\n\n      if (touch.isHorizontal()) {\n        lockClick = true;\n        state.dragging = true;\n        var isEdge = !opened || deltaX.value * startOffset < 0;\n\n        if (isEdge) {\n          preventDefault(event, props.stopPropagation);\n        }\n\n        state.offset = range(deltaX.value + startOffset, -rightWidth.value, leftWidth.value);\n      }\n    };\n\n    var onTouchEnd = function onTouchEnd() {\n      if (state.dragging) {\n        state.dragging = false;\n        toggle(state.offset > 0 ? 'left' : 'right'); // compatible with desktop scenario\n\n        setTimeout(function () {\n          lockClick = false;\n        }, 0);\n      }\n    };\n\n    var onClick = function onClick(position) {\n      if (position === void 0) {\n        position = 'outside';\n      }\n\n      emit('click', position);\n\n      if (opened && !lockClick) {\n        callInterceptor({\n          interceptor: props.beforeClose,\n          args: [{\n            name: props.name,\n            position: position\n          }],\n          done: function done() {\n            close(position);\n          }\n        });\n      }\n    };\n\n    var getClickHandler = function getClickHandler(position, stop) {\n      return function (event) {\n        if (stop) {\n          event.stopPropagation();\n        }\n\n        onClick(position);\n      };\n    };\n\n    var renderSideContent = function renderSideContent(position, ref) {\n      if (slots[position]) {\n        return _createVNode(\"div\", {\n          \"ref\": ref,\n          \"class\": bem(position),\n          \"onClick\": getClickHandler(position, true)\n        }, [slots[position]()]);\n      }\n    };\n\n    useExpose({\n      open: open,\n      close: close\n    });\n    useClickAway(root, onClick, {\n      eventName: 'touchstart'\n    });\n    return function () {\n      var wrapperStyle = {\n        transform: \"translate3d(\" + state.offset + \"px, 0, 0)\",\n        transitionDuration: state.dragging ? '0s' : '.6s'\n      };\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem(),\n        \"onClick\": getClickHandler('cell'),\n        \"onTouchstart\": onTouchStart,\n        \"onTouchmove\": onTouchMove,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, [_createVNode(\"div\", {\n        \"class\": bem('wrapper'),\n        \"style\": wrapperStyle\n      }, [renderSideContent('left', leftRef), slots.default == null ? void 0 : slots.default(), renderSideContent('right', rightRef)])]);\n    };\n  }\n});","import { render } from \"./indicator.vue?vue&type=template&id=3592030e&scoped=true\"\nimport script from \"./indicator.vue?vue&type=script&lang=js\"\nexport * from \"./indicator.vue?vue&type=script&lang=js\"\n\nimport \"./indicator.vue?vue&type=style&index=0&id=3592030e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3592030e\"\n\nexport default script","import { render } from \"./sideMenu.vue?vue&type=template&id=531f7eac&scoped=true\"\nimport script from \"./sideMenu.vue?vue&type=script&lang=js\"\nexport * from \"./sideMenu.vue?vue&type=script&lang=js\"\n\nimport \"./sideMenu.vue?vue&type=style&index=0&id=531f7eac&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-531f7eac\"\n\nexport default script","import { render } from \"./chart.vue?vue&type=template&id=9600369c&scoped=true\"\nimport script from \"./chart.vue?vue&type=script&lang=js\"\nexport * from \"./chart.vue?vue&type=script&lang=js\"\n\nimport \"./chart.vue?vue&type=style&index=0&id=9600369c&lang=scss&scoped=true\"\nimport \"./chart.vue?vue&type=style&index=1&id=9600369c&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-9600369c\"\n\nexport default script","export default function (n, precision) {\r\n    return {\r\n        metainfo: {\r\n            _metainfoVersion: 27,\r\n            isTVScript: !1,\r\n            isTVScriptStub: !1,\r\n            is_hidden_study: !1,\r\n            defaults: {\r\n                styles: {\r\n                    plot_0: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#ff6d00'\r\n                    },\r\n                    plot_1: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#26c6da'\r\n                    },\r\n                    plot_2: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#fbc02d'\r\n                    }\r\n                },\r\n                precision: precision,\r\n                bands: [\r\n                    {\r\n                        color: '#808080',\r\n                        linestyle: 2,\r\n                        linewidth: 1,\r\n                        visible: !0,\r\n                        value: 70\r\n                    },\r\n                    {\r\n                        color: '#808080',\r\n                        linestyle: 2,\r\n                        linewidth: 1,\r\n                        visible: !0,\r\n                        value: 30\r\n                    }\r\n                ],\r\n                filledAreasStyle: {\r\n                    fill_0: {\r\n                        color: '#800080',\r\n                        transparency: 90,\r\n                        visible: !0\r\n                    }\r\n                },\r\n                inputs: {\r\n                    in_0: 6,\r\n                    in_1: 12,\r\n                    in_2: 24,\r\n                }\r\n            },\r\n            plots: [\r\n                {\r\n                    id: 'plot_0',\r\n                    type: 'line'\r\n                },\r\n                {\r\n                    id: 'plot_1',\r\n                    type: 'line'\r\n                },\r\n                {\r\n                    id: 'plot_2',\r\n                    type: 'line'\r\n                }\r\n            ],\r\n            styles: {\r\n                plot_0: {\r\n                    title: 'Plot',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_1: {\r\n                    title: 'Plot',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_2: {\r\n                    title: 'Plot',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                }\r\n            },\r\n            description: 'Custom Relative Strength Index',\r\n            shortDescription: 'RSI',\r\n            is_price_study: !1,\r\n            bands: [\r\n                {\r\n                    id: 'hline_0',\r\n                    name: 'UpperLimit'\r\n                },\r\n                {\r\n                    id: 'hline_1',\r\n                    name: 'LowerLimit'\r\n                }\r\n            ],\r\n            filledAreas: [\r\n                {\r\n                    id: 'fill_0',\r\n                    objAId: 'hline_0',\r\n                    objBId: 'hline_1',\r\n                    type: 'hline_hline',\r\n                    title: 'Hlines Background'\r\n                }\r\n            ],\r\n            inputs: [\r\n                {\r\n                    id: 'in_0',\r\n                    name: 'Length',\r\n                    defval: 6,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 2e3\r\n                }, {\r\n                    id: 'in_1',\r\n                    name: 'Length',\r\n                    defval: 12,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 2e3\r\n                }, {\r\n                    id: 'in_2',\r\n                    name: 'Length',\r\n                    defval: 24,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 2e3\r\n                }\r\n            ],\r\n            id: 'Custom Relative Strength Index@tv-basicstudies-1',\r\n            scriptIdPart: '',\r\n        },\r\n        constructor: function () {\r\n            ; (this.f_0 = function (e) {\r\n                return n.Std.max(e, 0)\r\n            }),\r\n            (this.f_1 = function (e) {\r\n                return -n.Std.min(e, 0)\r\n            }),\r\n            (this.f_2 = function (e, t) {\r\n                return n.Std.eq(e, 0) ? 100 : n.Std.eq(t, 0) ? 0 : 100 - 100 / (1 + t / e)\r\n            }),\r\n            (this.main = function (e, t) {\r\n                var i, o_0, o_1, o_2, r, s, a, l, c_0, c_1, c_2, u, h, d_0, d_1, d_2\r\n                return (\r\n                    (this._context = e),\r\n                    (this._input = t),\r\n                    (i = n.Std.close(this._context)),\r\n                    (o_0 = this._input(0)),\r\n                    (o_1 = this._input(1)),\r\n                    (o_2 = this._input(2)),\r\n                    (r = this._context.new_var(i)),\r\n                    (s = n.Std.change(r)),\r\n                    (a = this.f_0(s)),\r\n                    (l = this._context.new_var(a)),\r\n                    (c_0 = n.Std.rma(l, o_0, this._context)),\r\n                    (c_1 = n.Std.rma(l, o_1, this._context)),\r\n                    (c_2 = n.Std.rma(l, o_2, this._context)),\r\n                    (u = this.f_1(s)),\r\n                    (h = this._context.new_var(u)),\r\n                    (d_0 = n.Std.rma(h, o_0, this._context)),\r\n                    (d_1 = n.Std.rma(h, o_1, this._context)),\r\n                    (d_2 = n.Std.rma(h, o_2, this._context)),\r\n                    [this.f_2(d_0, c_0), this.f_2(d_1, c_1), this.f_2(d_2, c_2)]\r\n                )\r\n            })\r\n        }\r\n    }\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.es/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./chart.vue?vue&type=style&index=1&id=9600369c&lang=scss\"","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.es/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./product.vue?vue&type=style&index=0&id=2a2e49a3&lang=scss&scoped=true\"","export default function (n, precision) {\r\n    return {\r\n        metainfo: {\r\n            _metainfoVersion: 27,\r\n            isTVScript: !1,\r\n            isTVScriptStub: !1,\r\n            is_hidden_study: !1,\r\n            defaults: {\r\n                styles: {\r\n                    plot_0: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: 'red'\r\n                    },\r\n                    plot_1: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: 'blue'\r\n                    },\r\n                    plot_2: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: 'green'\r\n                    }\r\n                },\r\n                precision: precision,\r\n                inputs: {\r\n                    in_0: 9,\r\n                    in_1: 3,\r\n                    in_2: 3,\r\n                },\r\n            },\r\n            plots: [\r\n                {\r\n                    id: 'plot_0',\r\n                    type: 'line'\r\n                }, {\r\n                    id: 'plot_1',\r\n                    type: 'line'\r\n                },\r\n                {\r\n                    id: 'plot_2',\r\n                    type: 'line'\r\n                }\r\n            ],\r\n            styles: {\r\n                plot_0: {\r\n                    title: 'Drawings',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_1: {\r\n                    title: 'Drawings',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_2: {\r\n                    title: 'Drawings',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                }\r\n            },\r\n            description: 'Custom KDJ',\r\n            shortDescription: 'KDJ',\r\n            is_price_study: !1,\r\n            inputs: [{\r\n                id: 'in_0',\r\n                name: 'Period',\r\n                defval: 9,\r\n                type: 'integer',\r\n                min: 1,\r\n                max: 2e3\r\n            }, {\r\n                id: 'in_1',\r\n                name: 'Signal',\r\n                defval: 3,\r\n                type: 'integer',\r\n                min: 1,\r\n                max: 2e3\r\n            }, {\r\n                id: 'in_2',\r\n                name: 'Signal',\r\n                defval: 3,\r\n                type: 'integer',\r\n                min: 1,\r\n                max: 2e3\r\n            }\r\n            ],\r\n            id: 'Custom K D J/Divergence@tv-basicstudies-1',\r\n            scriptIdPart: '',\r\n        },\r\n        constructor: function () {\r\n            this.main = function (context, input) {\r\n                // 输入值\r\n                const period = input(0)\r\n                const signal1 = input(1)\r\n                const signal2 = input(2)\r\n                // 基础数据源\r\n                const close = n.Std.close(context)\r\n                const high = n.Std.high(context)\r\n                const low = n.Std.low(context)\r\n                const highSource = context.new_var(high)\r\n                const lowSource = context.new_var(low)\r\n\r\n                // 计算\r\n                // 第一步\r\n                // n日RSV=（Cn－Ln）÷（Hn－Ln）×100\r\n                const Cn = close // 当前收盘价\r\n                const Ln = n.Std.lowest(lowSource, period) // n日内的最低价\r\n                const Hn = n.Std.highest(highSource, period) // n日内的最高价\r\n                const RSV = (Cn - Ln) / (Hn - Ln) * 100\r\n\r\n                // 第二步\r\n                // 当日K值=2/3×前一日K值＋1/3×当日RSV\r\n                // 当日D值=2/3×前一日D值＋1/3×当日K值\r\n                // J值=3*当日K值-2*当日D值\r\n                // 若无前一日K 值与D值，则可分别用50来代替\r\n                const _prevK = !isNaN(this.prevK) ? this.prevK : 50\r\n                const _prevD = !isNaN(this.prevD) ? this.prevD : 50\r\n                const K = (signal1 - 1) / signal1 * _prevK + 1 / signal1 * RSV\r\n                const D = (signal2 - 1) / signal2 * _prevD + 1 / signal2 * K\r\n                const J = 3 * K - 2 * D\r\n                this.prevK = K\r\n                this.prevD = D\r\n                return [K, D, J]\r\n            }\r\n        }\r\n    }\r\n}\r\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=485b72c1&lang=scss&scoped=true\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./chart.vue?vue&type=style&index=0&id=9600369c&lang=scss&scoped=true\"","var map = {\n\t\"./EMA.js\": \"a477\",\n\t\"./KDJ.js\": \"585c\",\n\t\"./MA.js\": \"eb37\",\n\t\"./MACD.js\": \"150b\",\n\t\"./RSI.js\": \"3e395\",\n\t\"./WR.js\": \"ed9f\",\n\t\"./index.js\": \"ad16\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"83cb\";","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./studyList.vue?vue&type=style&index=0&id=3aa300c9&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./topRight.vue?vue&type=style&index=0&id=0cc5e839&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./chartSetting.vue?vue&type=style&index=0&id=0a048fd0&lang=scss&scoped=true\"","export default function (n, precision) {\r\n    return {\r\n        metainfo: {\r\n            _metainfoVersion: 27,\r\n            isTVScript: !1,\r\n            isTVScriptStub: !1,\r\n            is_hidden_study: !1,\r\n            defaults: {\r\n                styles: {\r\n                    plot_0: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#ff6d00'\r\n                    },\r\n                    plot_1: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#26c6da'\r\n                    }\r\n                },\r\n                precision: precision,\r\n                inputs: {\r\n                    in_0: 12,\r\n                    in_1: 26,\r\n                    in_2: 'close',\r\n                    in_3: 0,\r\n                }\r\n            },\r\n            plots: [\r\n                {\r\n                    id: 'plot_0',\r\n                    type: 'line'\r\n                },\r\n                {\r\n                    id: 'plot_1',\r\n                    type: 'line'\r\n                }\r\n            ],\r\n            styles: {\r\n                plot_0: {\r\n                    title: 'Plot',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_1: {\r\n                    title: 'Plot',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                }\r\n            },\r\n            description: 'Custom Moving Average Exponential',\r\n            shortDescription: 'EMA',\r\n            is_price_study: !0,\r\n            inputs: [\r\n                {\r\n                    id: 'in_0',\r\n                    name: 'Length',\r\n                    defval: 12,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 1e4\r\n                },\r\n                {\r\n                    id: 'in_1',\r\n                    name: 'Length',\r\n                    defval: 26,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 1e4\r\n                }, {\r\n                    id: 'in_2',\r\n                    name: 'Source',\r\n                    defval: 'close',\r\n                    type: 'source',\r\n                    options: ['open', 'high', 'low', 'close', 'hl2', 'hlc3', 'ohlc4']\r\n                }, {\r\n                    id: 'in_3',\r\n                    name: 'Offset',\r\n                    defval: 0,\r\n                    type: 'integer',\r\n                    min: -1e4,\r\n                    max: 1e4\r\n                }\r\n            ],\r\n            id: 'Custom Moving Average Exponential@tv-basicstudies-1',\r\n            scriptIdPart: '',\r\n        },\r\n        constructor: function () {\r\n            this.main = function (e, t) {\r\n                var i, o_0, o_1, r, s, in_0, in_1, in_2, in_3\r\n                return (\r\n                    (this._context = e),\r\n                    (this._input = t),\r\n                    (in_0 = this._input(0)),\r\n                    (in_1 = this._input(1)),\r\n                    (in_2 = this._input(2)),\r\n                    (in_3 = this._input(3)),\r\n                    (i = n.Std[in_2](this._context)),\r\n                    (s = this._context.new_var(i)),\r\n                    [\r\n                        {\r\n                            value: n.Std.ema(s, in_0, this._context),\r\n                            offset: in_3\r\n                        },\r\n                        {\r\n                            value: n.Std.ema(s, in_1, this._context),\r\n                            offset: in_3\r\n                        }\r\n                    ]\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n","const modulesFiles = require.context('./', true, /.js$/)\r\n\r\nexport default PineJS => Promise.resolve(modulesFiles.keys().filter(key => !key.includes('index')).map((modules, modulePath) =>{\r\n    return modulesFiles(modules).default(PineJS)\r\n}))\r\n\r\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./kIcon.vue?vue&type=style&index=0&id=20129faa&lang=scss&scoped=true\"","<template>\r\n    <van-popup\r\n        v-model:show='showList'\r\n        :close-on-click-overlay='false'\r\n        closeable\r\n        :get-container='getContainer'\r\n        round\r\n        :style=\"{ width: '90%' }\"\r\n        @click-close-icon='onClose'\r\n        @closed='closed'\r\n    >\r\n        <div class='content'>\r\n            <span class='type'>\r\n                {{ $t('chart.mainStudy') }}\r\n            </span>\r\n            <!-- :style=\"{ 'font-size': (1/item.label.length/6) + 24/75+'rem' }\" -->\r\n            <div class='list'>\r\n                <span\r\n                    v-for='(item, i) in MAINSTUDIES'\r\n                    :key='i'\r\n                    class='item of-1px'\r\n                    :class=\"{ 'active': mainStudy === item.name }\"\r\n                    :style=\"[{ 'font-size': item.label.length >=6 ? '0.28rem': '' } ]\"\r\n                    @touchend='onClick(\"main\", item.name)'\r\n                >\r\n                    {{ item.label }}\r\n                </span>\r\n            </div>\r\n\r\n            <span class='type'>\r\n                {{ $t('chart.subStudy') }}\r\n            </span>\r\n            <div class='list'>\r\n                <span\r\n                    v-for='(item, i) in SUBSTUDIES'\r\n                    :key='i'\r\n                    class='item of-1px'\r\n                    :class=\"{ 'active': subStudy === item.name }\"\r\n                    :style=\"[{ 'font-size': item.label.length >6 ? '0.28rem': '' } ]\"\r\n                    @touchend='onClick(\"sub\", item.name)'\r\n                >\r\n                    {{ item.label }}\r\n                </span>\r\n                <span v-for='item in (5 - SUBSTUDIES.length %5)' :key='\"other\" + item' class='item of-1px' style='opacity: 0;'></span>\r\n            </div>\r\n\r\n            <div class='submit' @click='onSubmit'>\r\n                {{ $t('confirm') }}\r\n            </div>\r\n        </div>\r\n    </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport { MAINSTUDIES, SUBSTUDIES } from '@/components/tradingview/datafeeds/userConfig/config'\r\nexport default {\r\n    props: {\r\n        show: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        propMainStudy: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        propSubStudy: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            MAINSTUDIES,\r\n            SUBSTUDIES,\r\n            list: [],\r\n            mainStudy: '',\r\n            subStudy: '',\r\n            showList: false\r\n        }\r\n    },\r\n    watch: {\r\n        show (val) {\r\n            this.showList = val\r\n        },\r\n        propMainStudy: {\r\n            immediate: true,\r\n            handler (val) {\r\n                const study = this.MAINSTUDIES.find(e => e.name === val)\r\n                this.mainStudy = study ? val : null\r\n            }\r\n        },\r\n        propSubStudy: {\r\n            immediate: true,\r\n            handler (val) {\r\n                const study = this.SUBSTUDIES.find(e => e.name === val)\r\n                this.subStudy = study ? val : null\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        onSubmit () {\r\n            if (this.mainStudy !== this.propMainStudy) {\r\n                this.$emit('removeStudy', 'main')\r\n                this.$emit('createStudy', 'main', this.mainStudy)\r\n            }\r\n\r\n            if (this.subStudy !== this.propSubStudy) {\r\n                this.$emit('removeStudy', 'sub')\r\n                this.$emit('createStudy', 'sub', this.subStudy)\r\n            }\r\n\r\n            this.onClose()\r\n        },\r\n        onClose () {\r\n            this.$emit('update:show', false)\r\n        },\r\n        closed () {\r\n            this.mainStudy = this.propMainStudy\r\n            this.subStudy = this.propSubStudy\r\n            this.$emit('update:show', false)\r\n        },\r\n        onClick (type, name) {\r\n            switch (type) {\r\n                case 'main': {\r\n                    this.mainStudy = this.mainStudy === name ? '' : name\r\n                    break\r\n                }\r\n                case 'sub': {\r\n                    this.subStudy = this.subStudy === name ? '' : name\r\n                    break\r\n                }\r\n            }\r\n        },\r\n        getContainer () {\r\n            return document.body\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.van-popup {\r\n    width: 90%;\r\n    max-width: rem(736px);\r\n    .content {\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 100%;\r\n        padding: rem(50px) 0 0;\r\n        background-color: var(--bgColor);\r\n        .type {\r\n            margin: rem(10px) 0;\r\n            padding: 0 rem(30px);\r\n            font-size: rem(28px);\r\n        }\r\n        .list {\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: wrap;\r\n            justify-content: space-between;\r\n            margin-bottom: rem(20px);\r\n            padding: 0 rem(25px);\r\n            .item {\r\n                flex: 0 0 rem(112px);\r\n                box-sizing: border-box;\r\n                margin: rem(10px) rem(5px);\r\n                color: var(--color);\r\n                font-weight: normal;\r\n                font-size: rem(24px);\r\n                line-height: rem(40px);\r\n                text-align: center;\r\n                border: 1px solid var(--lineColor);\r\n                &.active {\r\n                    color: #FFF;\r\n                    background: var(--primary);\r\n                    border-color: var(--primary);\r\n                }\r\n            }\r\n        }\r\n        .submit {\r\n            box-sizing: border-box;\r\n            width: 100%;\r\n            height: rem(70px);\r\n            margin-top: rem(30px);\r\n            color: #FFF;\r\n            line-height: rem(70px);\r\n            text-align: center;\r\n            background: var(--primary);\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./studyList.vue?vue&type=template&id=3aa300c9&scoped=true\"\nimport script from \"./studyList.vue?vue&type=script&lang=js\"\nexport * from \"./studyList.vue?vue&type=script&lang=js\"\n\nimport \"./studyList.vue?vue&type=style&index=0&id=3aa300c9&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3aa300c9\"\n\nexport default script","<template>\r\n    <div class='setting-wrap'>\r\n        <van-nav-bar\r\n            left-arrow\r\n            :left-text='$t(\"common.back\")'\r\n            :title='$t(\"common.chart\")'\r\n            @click-left='$attrs.onBackEvent'\r\n        />\r\n        <div class='page-wrap'>\r\n            <van-cell-group class='group'>\r\n                <van-cell :title='$t(\"chart.candleStick\")' @click='changeType(1)'>\r\n                    <template #icon>\r\n                        <van-icon class='icon icon_yinyangzhu' />\r\n                    </template>\r\n                    <template v-if='chartSet.chartType === 1' #right-icon>\r\n                        <van-icon color='#58C225' name='success' />\r\n                    </template>\r\n                </van-cell>\r\n                <van-cell :title='$t(\"chart.barLine\")' @click='changeType(0)'>\r\n                    <template #icon>\r\n                        <van-icon\r\n                            class='icon icon_zhuxingtu'\r\n                        />\r\n                    </template>\r\n                    <template v-if='chartSet.chartType === 0' #right-icon>\r\n                        <van-icon color='#58C225' name='success' />\r\n                    </template>\r\n                </van-cell>\r\n                <van-cell :title='$t(\"chart.chartLine\")' @click='changeType(2)'>\r\n                    <template #icon>\r\n                        <van-icon class='icon icon_tubiaoxian' />\r\n                    </template>\r\n                    <template v-if='chartSet.chartType === 2' #right-icon>\r\n                        <van-icon color='#58C225' name='success' />\r\n                    </template>\r\n                </van-cell>\r\n            </van-cell-group>\r\n\r\n            <van-cell-group class='group'>\r\n                <!-- <van-cell title='交易量'>\r\n                <template #right-icon>\r\n                    <van-switch v-model='chartSet.volumeSwitch' active-color='#53C41C' size='22px' @change='handleChartSet(\"volumeSwitch\")' />\r\n                </template>\r\n            </van-cell> -->\r\n                <van-cell :title='$t(\"chart.buyLine\")'>\r\n                    <template #right-icon>\r\n                        <van-switch v-model='chartSet.showBuyPrice' active-color='#53C41C' size='22px' @change='handleChartSet(\"showBuyPrice\")' />\r\n                    </template>\r\n                </van-cell>\r\n                <van-cell :title='$t(\"chart.sellLine\")'>\r\n                    <template #right-icon>\r\n                        <van-switch v-model='chartSet.showSellPrice' active-color='#53C41C' size='22px' @change='handleChartSet(\"showSellPrice\")' />\r\n                    </template>\r\n                </van-cell>\r\n                <!-- <van-cell title='周期分隔符'>\r\n                <template #right-icon>\r\n                    <van-switch v-model='chartSet.periodSeparator' active-color='#53C41C' size='22px' @change='handleChartSet(\"periodSeparator\")' />\r\n                </template>\r\n            </van-cell>-->\r\n                <van-cell :title='$t(\"chart.tradeLevel\")'>\r\n                    <template #right-icon>\r\n                        <van-switch v-model='chartSet.tradeLevel' active-color='#53C41C' size='22px' @change='handleChartSet(\"tradeLevel\")' />\r\n                    </template>\r\n                </van-cell>\r\n                <p class='notice'>\r\n                    {{ $t('chart.noticeTips') }}\r\n                </p>\r\n                <van-cell :title='$t(\"chart.OHLC\")'>\r\n                    <template #right-icon>\r\n                        <van-switch v-model='chartSet.showSeriesOHLC' active-color='#53C41C' size='22px' @change='handleChartSet(\"showSeriesOHLC\")' />\r\n                    </template>\r\n                </van-cell>\r\n                <van-cell :title='$t(\"chart.upAndDown\")'>\r\n                    <template #right-icon>\r\n                        <van-switch v-model='chartSet.showBarChange' active-color='#53C41C' size='22px' @change='handleChartSet(\"showBarChange\")' />\r\n                    </template>\r\n                </van-cell>\r\n            </van-cell-group>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { toRefs, reactive, onBeforeMount } from 'vue'\r\nimport { localSet, localGet, isEmpty } from '@/utils/util'\r\nexport default {\r\n    setup (props) {\r\n        const state = reactive({\r\n            chartSet: {\r\n                volumeSwitch: false,\r\n                showBuyPrice: false,\r\n                periodSeparator: false,\r\n                tradeLevel: false,\r\n                showSeriesOHLC: false,\r\n                showBarChange: false,\r\n                showSellPrice: false,\r\n                chartType: 1\r\n            }\r\n\r\n        })\r\n\r\n        const changeType = (val) => {\r\n            state.chartSet.chartType = val\r\n            const chartConfig = JSON.parse(localGet('chartConfig'))\r\n            if (!isEmpty(chartConfig)) {\r\n                chartConfig['chartType'] = val\r\n                localSet('chartConfig', JSON.stringify(chartConfig))\r\n            } else {\r\n                localSet('chartConfig', JSON.stringify({ chartType: val }))\r\n            }\r\n        }\r\n        const handleChartSet = (type) => {\r\n            const chartConfig = JSON.parse(localGet('chartConfig'))\r\n\r\n            if (!isEmpty(chartConfig)) {\r\n                chartConfig[type] = state.chartSet[type]\r\n                localSet('chartConfig', JSON.stringify(chartConfig))\r\n            } else {\r\n                localSet('chartConfig', JSON.stringify({\r\n                    [type]: state.chartSet[type]\r\n                }))\r\n            }\r\n        }\r\n        onBeforeMount(() => {\r\n            const chartConfig = JSON.parse(localGet('chartConfig'))\r\n            if (!isEmpty(chartConfig)) {\r\n                state.chartSet = chartConfig\r\n            } else {\r\n                localSet('chartConfig', JSON.stringify({ chartType: 1 }))\r\n            }\r\n        })\r\n\r\n        return {\r\n            changeType,\r\n            handleChartSet,\r\n            ...toRefs(state)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.setting-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n.page-wrap {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    .group {\r\n        border-top: solid 10px #F6F6F6;\r\n    }\r\n    .notice {\r\n        padding: 10px;\r\n        font-size: 12px;\r\n        background-color: var(--bgColor);\r\n    }\r\n    .icon {\r\n        margin-right: 10px;\r\n        color: var(--color);\r\n        font-size: 20px;\r\n        vertical-align: middle;\r\n    }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./chartSetting.vue?vue&type=template&id=0a048fd0&scoped=true\"\nimport script from \"./chartSetting.vue?vue&type=script&lang=js\"\nexport * from \"./chartSetting.vue?vue&type=script&lang=js\"\n\nimport \"./chartSetting.vue?vue&type=style&index=0&id=0a048fd0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0a048fd0\"\n\nexport default script","export default function (n, precision) {\r\n    return {\r\n        metainfo: {\r\n            _metainfoVersion: 27,\r\n            isTVScript: !1,\r\n            isTVScriptStub: !1,\r\n            is_hidden_study: !1,\r\n            defaults: {\r\n                styles: {\r\n                    plot_0: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#0a74e0'\r\n                    },\r\n                    plot_1: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#e49200'\r\n                    },\r\n                    plot_2: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#d604a4'\r\n                    },\r\n                    plot_3: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#21a900'\r\n                    },\r\n                    plot_4: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#780be4'\r\n                    }\r\n                },\r\n                precision: precision,\r\n                inputs: {\r\n                    in_0: 5,\r\n                    in_1: 20,\r\n                    in_2: 30,\r\n                    in_3: 60,\r\n                    in_4: 250,\r\n                    in_5: 'close',\r\n                    in_6: 0,\r\n                }\r\n            },\r\n            plots: [\r\n                {\r\n                    id: 'plot_0',\r\n                    type: 'line'\r\n                },\r\n                {\r\n                    id: 'plot_1',\r\n                    type: 'line'\r\n                },\r\n                {\r\n                    id: 'plot_2',\r\n                    type: 'line'\r\n                },\r\n                {\r\n                    id: 'plot_3',\r\n                    type: 'line'\r\n                },\r\n                {\r\n                    id: 'plot_4',\r\n                    type: 'line'\r\n                }\r\n            ],\r\n            styles: {\r\n                plot_0: {\r\n                    title: 'MA1',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_1: {\r\n                    title: 'MA2',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_2: {\r\n                    title: 'MA3',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_3: {\r\n                    title: 'MA4',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                },\r\n                plot_4: {\r\n                    title: 'MA5',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                }\r\n            },\r\n            description: 'Moving Average mock',\r\n            shortDescription: 'MA',\r\n            is_price_study: !0,\r\n            inputs: [\r\n                {\r\n                    id: 'in_0',\r\n                    name: 'MA1',\r\n                    defval: 5,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 300\r\n                }, {\r\n                    id: 'in_1',\r\n                    name: 'MA2',\r\n                    defval: 20,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 300\r\n                }, {\r\n                    id: 'in_2',\r\n                    name: 'MA3',\r\n                    defval: 30,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 300\r\n                }, {\r\n                    id: 'in_3',\r\n                    name: 'MA4',\r\n                    defval: 60,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 300\r\n                }, {\r\n                    id: 'in_4',\r\n                    name: 'MA5',\r\n                    defval: 250,\r\n                    type: 'integer',\r\n                    min: 1,\r\n                    max: 300\r\n                }, {\r\n                    id: 'in_5',\r\n                    name: 'Source',\r\n                    defval: 'close',\r\n                    type: 'source',\r\n                    options: ['open', 'high', 'low', 'close', 'hl2', 'hlc3', 'ohlc4']\r\n                },\r\n                {\r\n                    id: 'in_6',\r\n                    name: 'Offset',\r\n                    defval: 0,\r\n                    type: 'integer',\r\n                    min: -1e4,\r\n                    max: 1e4\r\n                }\r\n            ],\r\n            id: 'Moving Average mock@tv-basicstudies-1',\r\n            scriptIdPart: '',\r\n        },\r\n        constructor: function () {\r\n            this.main = function (e, t) {\r\n                var i, s, in_0, in_1, in_2, in_3, in_4, in_5, in_6\r\n                return (\r\n                    (this._context = e),\r\n                    (this._input = t),\r\n                    (in_0 = this._input(0)),\r\n                    (in_1 = this._input(1)),\r\n                    (in_2 = this._input(2)),\r\n                    (in_3 = this._input(3)),\r\n                    (in_4 = this._input(4)),\r\n                    (in_5 = n.Std[this._input(5)](this._context)),\r\n                    (in_6 = this._input(6)),\r\n                    (s = this._context.new_var(in_5)),\r\n                    [\r\n                        { value: n.Std.sma(s, in_0, this._context), offset: in_6 },\r\n                        { value: n.Std.sma(s, in_1, this._context), offset: in_6 },\r\n                        { value: n.Std.sma(s, in_2, this._context), offset: in_6 },\r\n                        { value: n.Std.sma(s, in_3, this._context), offset: in_6 },\r\n                        { value: n.Std.sma(s, in_4, this._context), offset: in_6 }\r\n                    ]\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n","export default function (n, precision) {\r\n    return {\r\n        metainfo: {\r\n            _metainfoVersion: 27,\r\n            isTVScript: !1,\r\n            isTVScriptStub: !1,\r\n            is_price_study: !1,\r\n            is_hidden_study: !1,\r\n            defaults: {\r\n                styles: {\r\n                    plot_0: {\r\n                        linestyle: 0,\r\n                        linewidth: 1,\r\n                        plottype: 0,\r\n                        trackPrice: !1,\r\n                        transparency: 35,\r\n                        visible: !0,\r\n                        color: '#000080'\r\n                    }\r\n                },\r\n                precision: precision,\r\n                bands: [{\r\n                    color: '#808080',\r\n                    linestyle: 2,\r\n                    linewidth: 1,\r\n                    visible: !0,\r\n                    value: -20\r\n                }, {\r\n                    color: '#808080',\r\n                    linestyle: 2,\r\n                    linewidth: 1,\r\n                    visible: !0,\r\n                    value: -80\r\n                }],\r\n                filledAreasStyle: {\r\n                    fill_0: {\r\n                        color: '#000080',\r\n                        transparency: 90,\r\n                        visible: !0\r\n                    }\r\n                },\r\n                inputs: {\r\n                    in_0: 14\r\n                }\r\n            },\r\n            plots: [{\r\n                id: 'plot_0',\r\n                type: 'line'\r\n            }],\r\n            styles: {\r\n                plot_0: {\r\n                    title: 'Plot',\r\n                    histogramBase: 0,\r\n                    joinPoints: !1\r\n                }\r\n            },\r\n            bands: [{\r\n                id: 'hline_0',\r\n                name: 'UpperLimit'\r\n            }, {\r\n                id: 'hline_1',\r\n                name: 'LowerLimit'\r\n            }],\r\n            filledAreas: [{\r\n                id: 'fill_0',\r\n                objAId: 'hline_0',\r\n                objBId: 'hline_1',\r\n                type: 'hline_hline',\r\n                title: 'Hlines Background'\r\n            }],\r\n            inputs: [{\r\n                id: 'in_0',\r\n                name: 'length',\r\n                defval: 14,\r\n                type: 'integer',\r\n                min: 1,\r\n                max: 2e3\r\n            }],\r\n            description: 'Custom Williams %R',\r\n            shortDescription: 'WR',\r\n            id: 'Custom Williams %R@tv-basicstudies-1',\r\n            scriptIdPart: '',\r\n        },\r\n        constructor: function () {\r\n            this.f_0 = function (e, t, i) {\r\n                return 100 * (e - t) / (t - i)\r\n            }\r\n            ,\r\n            this.main = function (e, t) {\r\n                var i, o, r, s, a, l, c\r\n                return this._context = e,\r\n                this._input = t,\r\n                i = this._input(0),\r\n                o = n.Std.high(this._context),\r\n                r = this._context.new_var(o),\r\n                s = n.Std.highest(r, i, this._context),\r\n                a = n.Std.low(this._context),\r\n                l = this._context.new_var(a),\r\n                c = n.Std.lowest(l, i, this._context),\r\n                [this.f_0(n.Std.close(this._context), s, c)]\r\n            }\r\n        }\r\n    }\r\n}\r\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sideMenu.vue?vue&type=style&index=0&id=531f7eac&lang=scss&scoped=true\""],"sourceRoot":""}