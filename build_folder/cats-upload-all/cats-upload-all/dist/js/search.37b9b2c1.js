(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"4a74":function(t,e,c){},"4e0c":function(t,e,c){"use strict";c("4a74")},a6ff:function(t,e,c){"use strict";c("d313")},d313:function(t,e,c){},f3f3:function(t,e,c){"use strict";c.r(e);var n=c("f2bf"),o=Object(n["bb"])("data-v-2d8632b5");Object(n["H"])("data-v-2d8632b5");var r={class:"searchWrapper"},a={key:0,class:"searchRecord"},u={class:"label"},s={class:"searchBody"};Object(n["F"])();var l=o((function(t,e,c,l,i,d){var b=Object(n["M"])("van-search"),O=Object(n["M"])("ResultItem");return Object(n["E"])(),Object(n["i"])("div",r,[Object(n["n"])(b,{modelValue:t.keywords,"onUpdate:modelValue":[e[2]||(e[2]=function(e){return t.keywords=e}),l.updateVal],background:t.$style.contentColor,placeholder:t.$t("search.placeholder"),"show-action":"",onSearch:l.onSearch},{action:o((function(){return[Object(n["n"])("div",{class:"van-search__action",onClick:e[1]||(e[1]=function(){return l.onCancel&&l.onCancel.apply(l,arguments)})},Object(n["Q"])(t.$t("compLang.cancel")),1)]})),_:1},8,["modelValue","background","placeholder","onSearch","onUpdate:modelValue"]),t.keywords?Object(n["j"])("",!0):(Object(n["E"])(),Object(n["i"])("div",a,[Object(n["n"])("div",u,Object(n["Q"])(t.$t("search.lastest")),1),(Object(n["E"])(!0),Object(n["i"])(n["a"],null,Object(n["K"])(l.localRecord,(function(t){return Object(n["E"])(),Object(n["i"])(O,{key:t.sourceId,product:t},null,8,["product"])})),128))])),Object(n["n"])("div",s,[(Object(n["E"])(!0),Object(n["i"])(n["a"],null,Object(n["K"])(t.resultList,(function(t){return Object(n["E"])(),Object(n["i"])(O,{key:t.sourceId,product:t},null,8,["product"])})),128))])])})),i=(c("4de4"),c("d81d"),c("5530")),d=Object(n["bb"])("data-v-15a7a827");Object(n["H"])("data-v-15a7a827");var b={class:"searchResultItem"},O={class:"name"},j={class:"block"},f={class:"symbol-code"},p={key:0,class:"optional"};Object(n["F"])();var m=d((function(t,e,c,o,r,a){return Object(n["E"])(),Object(n["i"])("div",b,[Object(n["n"])("div",{class:"product",onClick:e[1]||(e[1]=function(){return o.toProduct&&o.toProduct.apply(o,arguments)})},[Object(n["n"])("div",O,[Object(n["n"])("span",null,Object(n["Q"])(c.product.symbolName),1)]),Object(n["n"])("div",j,[Object(n["n"])("span",f,Object(n["Q"])(c.product.symbolCode),1)])]),t.$store.state._user.customerInfo?(Object(n["E"])(),Object(n["i"])("div",p,[Object(n["n"])("i",{class:["icon_zixuan1",{icon_zixuan2:o.inSelfSymbolList,loading:t.toggleSelfimg}],onClick:e[2]||(e[2]=Object(n["ab"])((function(t){return o.toggleSelf(c.product,t)}),["stop"]))},null,2)])):Object(n["j"])("",!0)])})),v=(c("7db0"),c("c975"),c("5502")),g=c("6c02"),h=c("ca00"),y={props:["product"],setup:function(t){var e=Object(v["c"])(),c=Object(g["e"])(),o=Object(n["I"])({toggleSelfimg:!1}),r=Object(n["g"])((function(){var c=e.getters.userSelfSymbolList||[];return c.find((function(e){return e.symbolId===t.product.symbolId}))})),a=function(){s()},u=function(){var e=t.product.symbolId,n=JSON.parse(Object(h["n"])("searchProducts"))||[];-1===n.indexOf(e)&&n.push(e),Object(h["o"])("searchProducts",JSON.stringify(n)),c.push({name:"Product",query:{symbolId:e}})},s=function(){o.toggleSelfimg=!0;var c=r.value?"_user/removeCustomerOptionals":"_user/addCustomerOptionals";e.dispatch(c,[t.product.symbolId]).then((function(t){o.toggleSelfimg=!1})).catch((function(t){o.toggleSelfimg=!1}))};return Object(i["a"])(Object(i["a"])({},Object(n["R"])(o)),{},{inSelfSymbolList:r,toggleSelf:a,toProduct:u,modifyOptional:s})}};c("a6ff");y.render=m,y.__scopeId="data-v-15a7a827";var S=y,k=c("2465"),I={components:{ResultItem:S},setup:function(){var t=Object(v["c"])(),e=Object(n["g"])((function(){return t.state._quote.productMap})),c=Object(n["I"])({keywords:"",localList:JSON.parse(Object(h["n"])("searchProducts"))||[],resultList:[]}),o=Object(n["g"])((function(){return c.localList.map((function(t){return e.value[t]})).filter((function(t){return t}))})),r=function(t){u(t)},a=function(){c.resultList=[]},u=Object(h["c"])((function(n){if(!n)return!1;Object(k["d"])({name:n,customerGroupId:t.getters.customerGroupId}).then((function(t){if(t.check()){var n=t.data||[];n=n.map((function(t){return e.value[t.id]})).filter((function(t){return!!t})),c.resultList=n}}))})),s=function(){history.back()};return Object(i["a"])(Object(i["a"])({},Object(n["R"])(c)),{},{localRecord:o,updateVal:r,onClear:a,onSearch:u,onCancel:s})}};c("4e0c");I.render=l,I.__scopeId="data-v-2d8632b5";e["default"]=I}}]);
//# sourceMappingURL=search.37b9b2c1.js.map