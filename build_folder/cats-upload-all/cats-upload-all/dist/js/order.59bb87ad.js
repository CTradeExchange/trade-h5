(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"05aa":function(e,t,n){"use strict";n("5dfd")},"0821":function(e,t,n){"use strict";n.r(t);var r=n("f2bf"),o=Object(r["bb"])("data-v-74318a54");Object(r["H"])("data-v-74318a54");var i={class:"orderSuccess"},c=Object(r["n"])("i",{class:"icon_icon_close_small"},null,-1),a={class:"successIcon"},s={class:"orderInfo"},u={class:"product"},l={class:"productTitle"},d={class:"productCode"},b={key:1,class:"muted"},p={key:1,class:"muted"},f={key:1,class:"muted"},j={key:1,class:"muted"};Object(r["F"])();var O=o((function(e,t,n,O,m,v){var g=Object(r["M"])("SuccessAnimation"),h=Object(r["M"])("van-cell"),y=Object(r["M"])("van-col"),P=Object(r["M"])("van-row");return Object(r["E"])(),Object(r["i"])("div",i,[Object(r["n"])("a",{class:"back",href:"javascript:;",onClick:t[1]||(t[1]=function(t){return e.$router.back()})},[c]),Object(r["n"])("span",a,[Object(r["n"])(g,{"disabled-succ-animtion":e.$store.state.disabledSuccAnimtion},null,8,["disabled-succ-animtion"])]),Object(r["n"])("p",{class:["title successColor",{animate:!e.$store.state.disabledSuccAnimtion}]},Object(r["Q"])(e.$t(1===e.orderInfo.bizType?"trade.openPositionSuccess":"trade.openPendingSuccess")),3),Object(r["n"])("div",s,[Object(r["n"])("div",u,[Object(r["n"])("p",l,Object(r["Q"])(O.product.symbolName),1),Object(r["n"])("p",d,Object(r["Q"])(O.product.symbolCode),1)]),e.orderInfo&&1===e.orderInfo.bizType?(Object(r["E"])(),Object(r["i"])(r["a"],{key:0},[Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.positionPrice"),value:O.shiftedBy(e.orderInfo.requestPrice,-1*e.orderInfo.digits)},null,8,["title","value"]),Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.volumes")},{default:o((function(){return[Object(r["n"])("span",{class:[1===e.orderInfo.direction?"riseColor":"fallColor"]},Object(r["Q"])(1===e.orderInfo.direction?e.$t("trade.buy"):e.$t("trade.sell")),3),Object(r["m"])(" "+Object(r["Q"])(e.orderInfo.requestNum+e.$t("trade.volumeUnit")),1)]})),_:1},8,["title"]),e.orderInfo.fee?(Object(r["E"])(),Object(r["i"])(h,{key:0,class:"dataBar",title:e.$t("fee")},{default:o((function(){return[Object(r["n"])("span",{class:[e.orderInfo.fee?"":"muted"]},Object(r["Q"])(e.orderInfo.fee+e.accountCurrency),3)]})),_:1},8,["title"])):Object(r["j"])("",!0),Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.takeLoss")},{default:o((function(){return[e.orderInfo.stopLoss?(Object(r["E"])(),Object(r["i"])("span",{key:0,class:[e.orderInfo.stopLoss?"":"muted"]},Object(r["Q"])(O.shiftedBy(e.orderInfo.stopLoss,-1*e.orderInfo.digits)),3)):(Object(r["E"])(),Object(r["i"])("span",b,Object(r["Q"])(e.$t("c.noSetup")),1))]})),_:1},8,["title"]),Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.takeProfit")},{default:o((function(){return[e.orderInfo.takeProfit?(Object(r["E"])(),Object(r["i"])("span",{key:0,class:[e.orderInfo.takeProfit?"":"muted"]},Object(r["Q"])(O.shiftedBy(e.orderInfo.takeProfit,-1*e.orderInfo.digits)),3)):(Object(r["E"])(),Object(r["i"])("span",p,Object(r["Q"])(e.$t("c.noSetup")),1))]})),_:1},8,["title"])],64)):e.orderInfo?(Object(r["E"])(),Object(r["i"])(r["a"],{key:1},[Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.pendingPrice"),value:O.shiftedBy(e.orderInfo.requestPrice,-1*e.orderInfo.digits)},null,8,["title","value"]),Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.volumes")},{default:o((function(){return[Object(r["n"])("span",{class:[1===e.orderInfo.direction?"riseColor":"fallColor"]},Object(r["Q"])(1===e.orderInfo.direction?e.$t("trade.buy"):e.$t("trade.sell")),3),Object(r["m"])(" "+Object(r["Q"])(e.orderInfo.requestNum+e.$t("trade.volumeUnit")),1)]})),_:1},8,["title"]),Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.expireTime"),value:1===e.orderInfo.expireType?e.$t("trade.expireType1"):e.$t("trade.expireType2")},null,8,["title","value"]),Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.takeLoss")},{default:o((function(){return[e.orderInfo.stopLoss?(Object(r["E"])(),Object(r["i"])("span",{key:0,class:[e.orderInfo.stopLoss?"":"muted"]},Object(r["Q"])(O.shiftedBy(e.orderInfo.stopLoss,-1*e.orderInfo.digits)),3)):(Object(r["E"])(),Object(r["i"])("span",f,Object(r["Q"])(e.$t("c.noSetup")),1))]})),_:1},8,["title"]),Object(r["n"])(h,{class:"dataBar",title:e.$t("trade.takeProfit")},{default:o((function(){return[e.orderInfo.takeProfit?(Object(r["E"])(),Object(r["i"])("span",{key:0,class:[e.orderInfo.takeProfit?"":"muted"]},Object(r["Q"])(O.shiftedBy(e.orderInfo.takeProfit,-1*e.orderInfo.digits)),3)):(Object(r["E"])(),Object(r["i"])("span",j,Object(r["Q"])(e.$t("c.noSetup")),1))]})),_:1},8,["title"])],64)):Object(r["j"])("",!0),Object(r["n"])(P,{class:"btnGroup",gutter:"10"},{default:o((function(){return[Object(r["n"])(y,{span:"12"},{default:o((function(){return[Object(r["n"])("button",{class:"primary toDetail",onClick:t[2]||(t[2]=function(){return O.toDetail&&O.toDetail.apply(O,arguments)})},Object(r["Q"])(e.$t(1==e.orderInfo.bizType?"trade.lookPositions":"trade.lookPendings")),1)]})),_:1}),Object(r["n"])(y,{span:"12"},{default:o((function(){return[Object(r["n"])("button",{class:"primaryBg goonOrder",onClick:t[3]||(t[3]=function(t){return e.$router.back()})},Object(r["Q"])(e.$t("trade.buyAgain")),1)]})),_:1})]})),_:1})])])})),m=n("5530"),v=n("a292"),g=n("6c02"),h=n("5502"),y=n("d642"),P={components:{SuccessAnimation:v["a"]},setup:function(){var e=Object(g["d"])(),t=Object(g["e"])(),n=Object(h["c"])(),o=Object(r["g"])((function(){return n.getters.productActived})),i=e.query.orderId,c=Object(r["I"])({orderInfo:JSON.parse(sessionStorage.getItem("order_"+i))});if(!c.orderInfo)return t.push("/");var a=function(){t.push(1===c.orderInfo.bizType?"/position":"/position?tab=1")};return Object(m["a"])(Object(m["a"])({},Object(r["R"])(c)),{},{product:o,orderId:i,shiftedBy:y["l"],toDetail:a})}};n("1dcf");P.render=O,P.__scopeId="data-v-74318a54";t["default"]=P},"0a26":function(e,t,n){"use strict";n("59fd")},"18d7":function(e,t,n){"use strict";n("ef38")},"1dcf":function(e,t,n){"use strict";n("b211")},"2e89":function(e,t,n){"use strict";n("a41e")},3835:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function o(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done);r=!0)if(n.push(c.value),t&&n.length===t)break}catch(s){o=!0,i=s}finally{try{r||null==a["return"]||a["return"]()}finally{if(o)throw i}}return n}}var i=n("06c5");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){return r(e)||o(e,t)||Object(i["a"])(e,t)||c()}},"53cf":function(e,t,n){"use strict";n("6630")},"59fd":function(e,t,n){},"5dfd":function(e,t,n){},6630:function(e,t,n){},"66a7":function(e,t,n){},"88cf":function(e,t,n){"use strict";n("b209")},a292:function(e,t,n){"use strict";var r=n("f2bf"),o=Object(r["bb"])("data-v-b64f255e");Object(r["H"])("data-v-b64f255e");var i={class:"iconWrapper"},c={key:0,class:"van-icon van-icon-success successColorBg"},a=Object(r["n"])("svg",{class:"svg",version:"1.1",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Object(r["n"])("g",{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},[Object(r["n"])("g",{id:"Artboard",stroke:"#10b873","stroke-width":"3"},[Object(r["n"])("circle",{class:"Oval animate-oval",cx:"30",cy:"30",r:"28"}),Object(r["n"])("path",{class:"animate-check",d:"M44.5038705,21.7819773 L23.5895375,41.995235 L13.5270395,31.313432 C11.6014933,28.2666192 9.4997705,26.7432128 7.22187102,26.7432128 C3.19361944,26.7432128 2.00387054,30 2.00387054,30 C1.74465551,44.5862972 14.5398975,58 30.0038705,58 C45.4678435,58 58.0038705,45.463973 58.0038705,30 C58.0038705,22.2901599 54.8877913,15.3081191 49.8463524,10.2445972","stroke-dasharray":"168","stroke-dashoffset":"-168","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1);Object(r["F"])();var s=o((function(e,t,n,o,s,u){return Object(r["E"])(),Object(r["i"])("span",i,[n.disabledSuccAnimtion||s.successIconAnimated?(Object(r["E"])(),Object(r["i"])("i",c)):Object(r["j"])("",!0),a])})),u={props:["disabledSuccAnimtion"],data:function(){return{successIconAnimated:!1}},mounted:function(){var e=this;this.timer=setTimeout((function(){e.successIconAnimated=!0}),800)},beforeUnmount:function(){this.timer&&clearTimeout(this.timer),this.$store.commit("UPDATE_disabledSuccAnimtion",!0)}};n("53cf");u.render=s,u.__scopeId="data-v-b64f255e";t["a"]=u},a41e:function(e,t,n){},b209:function(e,t,n){},b211:function(e,t,n){},b420:function(e,t,n){},c566:function(e,t,n){"use strict";n("66a7")},cec3:function(e,t,n){"use strict";n.r(t);var r=n("f2bf"),o=Object(r["bb"])("data-v-0d7da09b");Object(r["H"])("data-v-0d7da09b");var i={class:"orderWrap"},c={key:0,class:"productTopInfo"},a={class:"productName"},s={class:"short_name"},u=Object(r["n"])("span",null,null,-1),l=Object(r["n"])("i",{class:"icon_icon_close_big"},null,-1),d={class:"main"},b={class:"footerBtn"};Object(r["F"])();var p=o((function(e,t,n,p,f,j){var O=Object(r["M"])("layoutTop"),m=Object(r["M"])("Direction"),v=Object(r["M"])("CellType"),g=Object(r["M"])("PendingBar"),h=Object(r["M"])("OrderVolume"),y=Object(r["M"])("ProfitlossSet"),P=Object(r["M"])("van-button");return Object(r["E"])(),Object(r["i"])("div",i,[Object(r["n"])(O,null,{left:o((function(){return[u]})),right:o((function(){return[Object(r["n"])("a",{href:"javascript:;",onClick:t[1]||(t[1]=function(t){return e.$router.back()})},[l])]})),default:o((function(){return[p.product?(Object(r["E"])(),Object(r["i"])("div",c,[Object(r["n"])("p",a,Object(r["Q"])(p.product.symbolName),1),Object(r["n"])("p",s,Object(r["Q"])(p.product.symbolCode),1)])):Object(r["j"])("",!0)]})),_:1}),Object(r["n"])("div",d,[Object(r["n"])(m,{modelValue:e.direction,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.direction=t}),class:"cellMarginTop",product:p.product},null,8,["modelValue","product"]),Object(r["n"])(v,{modelValue:e.orderType,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.orderType=t}),"btn-list":e.orderTypeList,class:"cellMarginTop",title:e.$t("trade.orderType"),onSelected:p.changeOrderType},null,8,["modelValue","btn-list","title","onSelected"]),2===e.orderType?(Object(r["E"])(),Object(r["i"])(g,{key:0,ref:"pendingRef",modelValue:e.pendingPrice,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.pendingPrice=t}),class:"cellMarginTop",direction:e.direction,product:p.product},null,8,["modelValue","direction","product"])):Object(r["j"])("",!0),p.product?(Object(r["E"])(),Object(r["i"])(h,{key:1,modelValue:e.volume,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.volume=t}),class:"cellMarginTop",product:p.product},null,8,["modelValue","product"])):Object(r["j"])("",!0),p.product?(Object(r["E"])(),Object(r["i"])(y,{key:2,stopLoss:e.stopLoss,"onUpdate:stopLoss":t[6]||(t[6]=function(t){return e.stopLoss=t}),stopProfit:e.stopProfit,"onUpdate:stopProfit":t[7]||(t[7]=function(t){return e.stopProfit=t}),class:"cellMarginTop",direction:e.direction,product:p.product},null,8,["stopLoss","stopProfit","direction","product"])):Object(r["j"])("",!0),2===e.orderType?(Object(r["E"])(),Object(r["i"])(v,{key:3,modelValue:e.expireType,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.expireType=t}),"btn-list":e.expireTypeList,class:"mtop10",title:e.$t("trade.expireTime")},null,8,["modelValue","btn-list","title"])):Object(r["j"])("",!0)]),Object(r["n"])("div",b,[Object(r["n"])(P,{block:"",color:e.$style.primary,loading:e.loading,size:"normal",onClick:p.submitHandler},{default:o((function(){return[Object(r["m"])(Object(r["Q"])(e.$t("buy"===e.direction?"trade.buy":"trade.sell")+e.$t("submit")),1)]})),_:1},8,["color","loading","onClick"])])])})),f=(n("a9e3"),n("5530")),j=(n("e7e5"),n("d399")),O=n("47e2"),m=n("6c02"),v=n("5502"),g=n("d642"),h=n("2ae1"),y=Object(r["bb"])("data-v-8da87260");Object(r["H"])("data-v-8da87260");var P={key:0,class:"directions"},_={class:"flRight price"},V={class:"price"},k={class:"flRight"},L={key:0,class:"spread_text"};Object(r["F"])();var I=y((function(e,t,n,o,i,c){return n.product?(Object(r["E"])(),Object(r["i"])("div",P,[Object(r["n"])("div",{class:["item sell",{mainColorBg:"sell"===n.modelValue}],onClick:t[1]||(t[1]=function(e){return o.setDirection("sell")})},[Object(r["m"])(Object(r["Q"])(e.$t("trade.sell"))+" ",1),Object(r["n"])("span",_,Object(r["Q"])(n.product.sell_price),1)],2),Object(r["n"])("div",{class:["item buy",{mainColorBg:"buy"===n.modelValue}],onClick:t[2]||(t[2]=function(e){return o.setDirection("buy")})},[Object(r["n"])("span",V,Object(r["Q"])(n.product.buy_price),1),Object(r["n"])("span",k,Object(r["Q"])(e.$t("trade.buy")),1)],2),n.product.spread_text?(Object(r["E"])(),Object(r["i"])("span",L,Object(r["Q"])(n.product.spread_text),1)):Object(r["j"])("",!0)])):Object(r["j"])("",!0)})),T={props:["modelValue","product"],emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=function(e){n("update:modelValue",e)};return{setDirection:r}}};n("2e89");T.render=I,T.__scopeId="data-v-8da87260";var S=T,$=Object(r["bb"])("data-v-3d343651");Object(r["H"])("data-v-3d343651");var C={class:"wrapper"},R={class:"title"},w={class:"volumeSteps"};Object(r["F"])();var x=$((function(e,t,n,o,i,c){var a=Object(r["M"])("van-col"),s=Object(r["M"])("StepperComp"),u=Object(r["M"])("van-row");return Object(r["E"])(),Object(r["i"])("div",C,[Object(r["n"])(u,{class:"pendingOrderSet",justify:"space-between",type:"flex"},{default:$((function(){return[Object(r["n"])(a,null,{default:$((function(){return[Object(r["n"])("p",R,Object(r["Q"])(e.$t("trade.orderVolume")),1)]})),_:1}),Object(r["n"])(a,{class:"relative"},{default:$((function(){return[Object(r["n"])(s,{modelValue:i.num,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.num=e}),class:["stepper",{warn:n.modelValue<c.min||n.modelValue>c.max}],controlbtn:!0,digits:c.stepDigit,max:c.max,min:c.min,step:n.product.volumeStep,onChange:c.change},null,8,["modelValue","class","digits","max","min","step","onChange"])]})),_:1})]})),_:1}),Object(r["n"])("ul",w,[(Object(r["E"])(!0),Object(r["i"])(r["a"],null,Object(r["K"])(c.volumeSteps,(function(e,t){return Object(r["E"])(),Object(r["i"])("li",{key:t},[Object(r["n"])("a",{class:"item",href:"javascript:;",onClick:function(t){return c.addStep(e)}},Object(r["Q"])(c.lt(e,0)?e:"+"+e),9,["onClick"])])})),128))])])})),M=Object(r["bb"])("data-v-554eec26");Object(r["H"])("data-v-554eec26");var E={class:"stepper"};Object(r["F"])();var Q=M((function(e,t,n,o,i,c){return Object(r["E"])(),Object(r["i"])("div",E,[Object(r["n"])("button",{ref:"minus",class:"minus van-stepper__minus",disabled:c.disabledMinus,onClick:t[1]||(t[1]=function(){return c.minus&&c.minus.apply(c,arguments)})},null,8,["disabled"]),Object(r["n"])("input",{class:"input inputEl",disabled:n.disabled,placeholder:c.placeholderText,type:"number",value:n.modelValue,onBlur:t[2]||(t[2]=function(){return c.blur&&c.blur.apply(c,arguments)}),onInput:t[3]||(t[3]=function(){return c.input&&c.input.apply(c,arguments)})},null,40,["disabled","placeholder","value"]),Object(r["n"])("button",{ref:"plus",class:"plus van-stepper__plus",disabled:c.disabledPlus,onClick:t[4]||(t[4]=function(){return c.plus&&c.plus.apply(c,arguments)})},null,8,["disabled"])])})),B=(n("4d63"),n("ac1f"),n("25f0"),n("8a79"),n("466d"),n("5319"),n("6940")),W={name:"Stepper",props:{digits:{type:[Number,String],default:2},modelValue:{type:[Number,String],default:""},step:{type:[Number,String],default:1},min:{type:[Number,String],default:0},max:{type:[Number,String],default:1/0},placeholder:{type:[Number,String],default:""},disabled:{default:!1,type:Boolean}},data:function(){return{data:"value"}},computed:{placeholderText:function(){return this.placeholder||this.$t("common.noSet")},disabledPlus:function(){return this.disabled||!!(this.modelValue&&Number(this.modelValue)>=this.max)},disabledMinus:function(){return this.disabled||!!(this.modelValue&&Number(this.modelValue)<=this.min)}},mounted:function(){this.initEvent()},emits:["update:modelValue","change","firstMinus","firstPlus"],methods:{minus:function(){var e=""!=this.modelValue&&"NaN"!=this.modelValue||!this.max||this.max===1/0?this.modelValue:this.max;if(this.disabledMinus)return!1;var t=Object(g["h"])(e,this.step);this.$emit("update:modelValue",Object(g["m"])(t,this.digits)),this.$emit("change",Object(g["m"])(t,this.digits)),""==this.modelValue&&this.$emit("firstMinus")},input:function(e){var t=e.target.value,n=this.digits,r=new RegExp("^\\d*(\\.?\\d{0,"+n+"})","g");Object(g["e"])(t)>n&&(t=t.match(r)[0]||"",0===n&&t.endsWith(".")&&(t=t.replace(/\./g,"")),e.target.value=t),this.$emit("update:modelValue",t),this.$emit("change",t)},blur:function(e){var t=e.target.value;if(t===this.modelValue)return!1;t=t?Object(g["m"])(t,this.digits):t,this.$emit("change",t)},plus:function(){var e=""==this.modelValue||"NaN"==this.modelValue&&this.min?this.min:this.modelValue;if(!this.disabledPlus){var t=Object(g["j"])(e,this.step);this.$emit("update:modelValue",Object(g["m"])(t,this.digits)),this.$emit("change",Object(g["m"])(t,this.digits)),""==this.modelValue&&this.$emit("firstPlus")}},longPressStep:function(e){var t=this,n=Date.now()-this.longPressTimerStart>3e3?50:200;this.longPressTimer=setTimeout((function(){t[e](),t.longPressStep(e)}),n)},initEvent:function(){var e=this;if(!window.isPC){var t=this.$refs.minus,n=this.$refs.plus,r=function(t){t.stopPropagation(),t.preventDefault();var n=t.target,r=n.classList.contains("minus")?"minus":"plus";return e[r](),e.longPressTimerStart=Date.now(),e.longPressTimer=setTimeout((function(){e.longPressStep(r)}),600),!1},o=function(t){e.longPressTimer&&clearTimeout(e.longPressTimer)};Object(B["a"])(t,"touchstart",r),Object(B["a"])(n,"touchstart",r),Object(B["a"])(t,"touchend",o),Object(B["a"])(n,"touchend",o)}}}};n("c566");W.render=Q,W.__scopeId="data-v-554eec26";var U=W,N={components:{StepperComp:U},props:["modelValue","product"],emits:["update:modelValue"],data:function(){return{warn:!0,num:""}},computed:Object(f["a"])(Object(f["a"])({},Object(v["b"])(["style","assetAboutInfo"])),{},{stepDigit:function(){return Object(g["e"])(this.product.volumeStep)},min:function(){return this.product.minVolume},max:function(){return this.product.maxVolume},volumeSteps:function(){var e=this.product.volumeStep;return[Object(g["i"])(e,-10),Object(g["i"])(e,-1),Object(g["i"])(e,1),Object(g["i"])(e,10)]},volumeInvalid:function(){var e=Object(g["b"])(this.modelValue,this.product.minVolume);return Object(g["e"])(e)>0}}),watch:{modelValue:function(e){this.num=e}},created:function(){this.num=this.modelValue},methods:{change:function(e){this.$emit("update:modelValue",e)},addStep:function(e){var t=1*Object(g["j"])(this.modelValue,e),n=this.product.minVolume,r=this.product.maxVolume;t=Math.max(t,n),t=Math.min(t,r),this.$emit("update:modelValue",t)},lt:g["g"]}};n("18d7");N.render=x,N.__scopeId="data-v-3d343651";var A=N,F=Object(r["bb"])("data-v-f6921044");Object(r["H"])("data-v-f6921044");var D={class:"profitLossSetBar"},q={key:1,class:"van-hairline--top"},H={class:"priceRange"},z={class:"priceRange"};Object(r["F"])();var J=F((function(e,t,n,o,i,c){var a=Object(r["M"])("FloatTip"),s=Object(r["M"])("van-switch"),u=Object(r["M"])("van-cell"),l=Object(r["M"])("ProfitLossBar");return Object(r["E"])(),Object(r["i"])("div",D,[o.stopLossWarn||o.stopProfitWarn?(Object(r["E"])(),Object(r["i"])(a,{key:0},{default:F((function(){return[Object(r["m"])(Object(r["Q"])(o.stopLossWarn||o.stopProfitWarn),1)]})),_:1})):Object(r["j"])("",!0),Object(r["n"])(u,{center:"",class:"cellWrapper",title:e.$t("trade.tackStopSetup")},{"right-icon":F((function(){return[Object(r["n"])(s,{modelValue:e.enabled,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.enabled=t}),"active-color":e.$style.success,size:"24",onChange:o.switchCellChange},null,8,["modelValue","active-color","onChange"])]})),_:1},8,["title"]),e.enabled?(Object(r["E"])(),Object(r["i"])("div",q,[Object(r["n"])(l,{ref:"stopLossRef",modelValue:e.stopLossPrice,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.stopLossPrice=t}),max:o.stopLossRange[1],min:o.stopLossRange[0],product:n.product,onChange:t[3]||(t[3]=function(t){return e.$emit("update:stopLoss",e.stopLossPrice)})},{title:F((function(){return[Object(r["n"])("p",null,Object(r["Q"])(e.$t("trade.stopLossPrice")),1),Object(r["n"])("p",H," ≤ "+Object(r["Q"])(o.stopLossRange[1]),1)]})),_:1},8,["modelValue","max","min","product"]),Object(r["n"])(l,{ref:"stopProfitRef",modelValue:e.stopProfitPrice,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.stopProfitPrice=t}),max:o.profitRange[1],min:o.profitRange[0],product:n.product,onChange:t[5]||(t[5]=function(t){return e.$emit("update:stopProfit",e.stopProfitPrice)})},{title:F((function(){return[Object(r["n"])("p",null,Object(r["Q"])(e.$t("trade.stopProfitPrice")),1),Object(r["n"])("p",z," ≥ "+Object(r["Q"])(o.profitRange[0]),1)]})),_:1},8,["modelValue","max","min","product"])])):Object(r["j"])("",!0)])})),G=n("1390"),K=Object(r["bb"])("data-v-00d2eb10");Object(r["H"])("data-v-00d2eb10");var X={class:"floatTip"};Object(r["F"])();var Y=K((function(e,t,n,o,i,c){return Object(r["E"])(),Object(r["i"])("div",X,[Object(r["L"])(e.$slots,"default")])})),Z={setup:function(){return{}}};n("f386");Z.render=Y,Z.__scopeId="data-v-00d2eb10";var ee=Z,te=n("dc02"),ne={components:{ProfitLossBar:G["default"],FloatTip:ee},props:["product","stopLoss","stopProfit","direction"],emits:["update:stopLoss","update:stopProfit"],setup:function(e,t){var n=t.emit,o=Object(v["c"])(),i=Object(r["J"])(null),c=Object(r["J"])(null),a=Object(O["b"])({useScope:"global"}),s=a.t,u=Object(r["I"])({enabled:!1,stopLossPrice:"",stopProfitPrice:""}),l="buy"===e.direction?1:2,d=Object(r["g"])((function(){return o.getters["_trade/marketProfitLossRang"]})),b=Object(r["g"])((function(){return"buy"===e.direction?d.value.buyStopLossRange:d.value.sellStopLossRange})),p=Object(r["g"])((function(){return"buy"===e.direction?d.value.buyProfitRange:d.value.sellProfitRange})),j=Object(r["g"])((function(){var e,t=null===(e=i.value)||void 0===e?void 0:e.warn;return t&&Object(te["a"])("stopLoss",l,u.stopLossPrice,d.value,s)})),m=Object(r["g"])((function(){var e,t=null===(e=c.value)||void 0===e?void 0:e.warn;return t&&Object(te["a"])("profit",l,u.stopProfitPrice,d.value,s)}));Object(r["X"])((function(){e.stopLoss!==u.stopLossPrice&&(u.stopLossPrice=e.stopLoss),e.stopProfit!==u.stopProfitPrice&&(u.stopProfitPrice=e.stopProfit)}));var g=function(e){e||(n("update:stopLoss",""),n("update:stopProfit",""))};return Object(f["a"])(Object(f["a"])({},Object(r["R"])(u)),{},{stopLossWarn:j,stopProfitWarn:m,stopLossRef:i,stopProfitRef:c,profitLossRang:d,stopLossRange:b,profitRange:p,switchCellChange:g})}};n("88cf");ne.render=J,ne.__scopeId="data-v-f6921044";var re=ne,oe=Object(r["bb"])("data-v-0ee2da31");Object(r["H"])("data-v-0ee2da31");var ie={class:"wrapper"},ce={class:"title"},ae={class:"pendingRang"};Object(r["F"])();var se=oe((function(e,t,n,o,i,c){var a=Object(r["M"])("FloatTip"),s=Object(r["M"])("van-icon"),u=Object(r["M"])("van-col"),l=Object(r["M"])("StepperComp"),d=Object(r["M"])("van-row");return Object(r["E"])(),Object(r["i"])("div",ie,[o.warn?(Object(r["E"])(),Object(r["i"])(a,{key:0},{default:oe((function(){return[Object(r["m"])(Object(r["Q"])(o.warn),1)]})),_:1})):Object(r["j"])("",!0),Object(r["m"])(" "+Object(r["Q"])(o.pendingRang)+" ",1),Object(r["n"])(d,{align:"center",class:"pendingOrderSet",justify:"space-between"},{default:oe((function(){return[Object(r["n"])(u,null,{default:oe((function(){return[Object(r["n"])("div",ce,[Object(r["m"])(Object(r["Q"])(e.$t("trade.pending"))+" ",1),Object(r["n"])(s,{class:"icon",name:"question-o",size:"16",onClick:o.priceIntroduce},null,8,["onClick"])]),Object(r["n"])("div",ae," ≤ "+Object(r["Q"])(o.pendingRang.limitRangeMax)+" 或 ≥ "+Object(r["Q"])(o.pendingRang.stopRangeMin),1)]})),_:1}),Object(r["n"])(u,{class:"relative"},{default:oe((function(){return[Object(r["n"])(l,{modelValue:e.num,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.num=t}),class:["stepper",{warn:o.warn}],controlbtn:!0,digits:n.product.price_digits,step:o.step,onChange:o.change,onFirstMinus:o.firstChange,onFirstPlus:o.firstChange},null,8,["modelValue","class","digits","step","onChange","onFirstMinus","onFirstPlus"])]})),_:1})]})),_:1})])})),ue=(n("e17f"),n("2241")),le=n("93f0"),de={components:{StepperComp:le["a"],FloatTip:ee},props:["modelValue","product","direction"],emits:["update:modelValue"],setup:function(e,t){var n=t.emit,o=Object(v["c"])(),i=Object(O["b"])({useScope:"global"}),c=i.t,a=Object(r["g"])((function(){var t=o.getters["_trade/pendingPriceRang"],n="buy"===e.direction?t.buyLimitRange:t.sellStopRange,r="buy"===e.direction?t.buyStopRange:t.sellLimitRange;return{stopRangeMax:r[1],stopRangeMin:r[0],limitRangeMax:n[1],limitRangeMin:n[0],defaultBuyPrice:t.defaultBuyPrice,defaultSellPrice:t.defaultSellPrice}})),s=Object(r["g"])((function(){var t=e.modelValue,n=a.value;return!!t&&(Object(g["g"])(t,n.stopRangeMin)&&Object(g["f"])(t,n.limitRangeMax)?c("trade.pendingPriceWarn"):!(!Object(g["f"])(t,n.stopRangeMax)&&!Object(g["g"])(t,n.limitRangeMin))&&c("trade.pendingPriceWarn2"))})),u=Object(r["g"])((function(){return Object(g["k"])(.1,e.product.price_digits)})),l=Object(r["I"])({num:e.modelValue}),d=function(e){return n("update:modelValue",e)},b=function(){ue["a"].alert({title:c("trade.priceIntroduce"),message:c("trade.priceIntroContent")})},p=function(){n("update:modelValue",a.value["buy"===e.direction?"defaultBuyPrice":"defaultSellPrice"])};return Object(r["B"])((function(){p()})),Object(f["a"])(Object(f["a"])({},Object(r["R"])(l)),{},{step:u,warn:s,pendingRang:a,change:d,priceIntroduce:b,firstChange:p})},watch:{modelValue:function(e){e!==this.num&&(this.num=e),this.$store.commit("_trade/Update_pendingPrice",e)}},beforeUnmount:function(){this.$store.commit("_trade/Update_pendingPrice","")}};n("fd7b");de.render=se,de.__scopeId="data-v-0ee2da31";var be=de,pe=Object(r["bb"])("data-v-0f8ac691");Object(r["H"])("data-v-0f8ac691");var fe={class:"typeBar"},je={class:"title"};Object(r["F"])();var Oe=pe((function(e,t,n,o,i,c){var a=Object(r["M"])("van-col"),s=Object(r["M"])("van-row");return Object(r["E"])(),Object(r["i"])("div",fe,[Object(r["n"])(s,{class:"cellBar",justify:"space-between",type:"flex"},{default:pe((function(){return[Object(r["n"])(a,{class:"titleCol"},{default:pe((function(){return[Object(r["n"])("p",je,Object(r["Q"])(n.title),1)]})),_:1}),Object(r["n"])(a,{class:"radioGroup"},{default:pe((function(){return[(Object(r["E"])(!0),Object(r["i"])(r["a"],null,Object(r["K"])(n.btnList,(function(e,t){return Object(r["E"])(),Object(r["i"])("button",{key:t,class:["btn",{mainColorBg:n.modelValue==e.val}],onClick:function(t){return c.setType(e.val)}},Object(r["Q"])(e.title),11,["onClick"])})),128))]})),_:1})]})),_:1})])})),me={props:["title","modelValue","btnList"],emits:["update:modelValue","selected"],methods:{setType:function(e){this.$emit("update:modelValue",e),this.$emit("selected",e)}}};n("05aa");me.render=Oe,me.__scopeId="data-v-0f8ac691";var ve=me,ge=n("2465"),he={components:{Direction:S,CellType:ve,OrderVolume:A,ProfitlossSet:re,PendingBar:be},setup:function(){var e=Object(v["c"])(),t=Object(m["d"])(),n=(Object(m["e"])(),Object(O["b"])({useScope:"global"})),o=n.t,i=t.query,c=i.symbolId,a=i.direction,s=Object(r["I"])({loading:!1,direction:a,orderType:1,orderTypeList:[{title:o("trade.marketPrice"),val:1},{title:o("trade.pending"),val:2}],volume:.01,pendingPrice:"",stopLoss:"",stopProfit:"",expireType:1,expireTypeList:[{title:o("trade.expireType2"),val:2},{title:o("trade.expireType1"),val:1}]}),u=Object(r["J"])(null),l=Object(r["J"])(null),d=Object(r["g"])((function(){var e;return null===(e=u.value)||void 0===e?void 0:e.warn})),b=Object(r["g"])((function(){var e,t;return(null===(e=l.value)||void 0===e?void 0:e.stopLossWarn)||(null===(t=l.value)||void 0===t?void 0:t.stopProfitWarn)}));h["b"].send_subscribe([c]),e.commit("_quote/Update_productActivedID",c),e.commit("_trade/Update_modifyPositionId",0);var p=Object(r["g"])((function(){return e.getters.productActived})),y=function(t){e.commit("_trade/Update_pendingEnable",2===t)},P=function(){p.value.minVolume?s.volume=p.value.minVolume:e.dispatch("_quote/querySymbolInfo",c).then((function(e){if(e.invalid())return!1;s.volume=e.data.minVolume}))},_=function(){return 2!==s.orderType||s.pendingPrice?d.value||b.value:Object(j["a"])(o("trade.inputPendingPrice"))},V=function(){if(!_()){var e="sell"===s.direction?p.value.sell_price:p.value.buy_price,t="sell"===s.direction?2:1,n=1;2===s.orderType&&(e=s.pendingPrice,n="buy"===s.direction?Object(g["g"])(e,p.value.buy_price)?10:11:Object(g["f"])(e,p.value.sell_price)?10:11);var r=Math.pow(10,p.value.price_digits),i={bizType:n,direction:t,symbolId:Number(p.value.symbol_id),requestTime:Date.now(),requestNum:s.volume,requestPrice:Object(g["i"])(e,r),expireType:s.expireType,stopLoss:s.stopLoss?Object(g["i"])(s.stopLoss,r):void 0,takeProfit:s.stopProfit?Object(g["i"])(s.stopProfit,r):void 0};if(s.loading)return!1;s.loading=!0,Object(ge["b"])(i).then((function(e){if(s.loading=!1,e.invalid())return!1;var t=e.data,n=Object.assign({},i,t),r=t.orderId||t.id;sessionStorage.setItem("order_"+r,JSON.stringify(n)),Object(j["a"])({message:o("trade.orderSuccessToast"),duration:1e3,forbidClick:!0})})).catch((function(e){s.loading=!1}))}};return P(),Object(f["a"])(Object(f["a"])({},Object(r["R"])(s)),{},{pendingRef:u,profitLossRef:l,pendingWarn:d,profitLossWarn:b,product:p,changeOrderType:y,submitHandler:V})}};n("0a26");he.render=p,he.__scopeId="data-v-0d7da09b";t["default"]=he},d699:function(e,t,n){},dc02:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3835"),o=n("d642");function i(e,t,n,i,c){var a=i.buyStopLossRange,s=i.buyProfitRange,u=i.sellStopLossRange,l=i.sellProfitRange;if(1===t){if("stopLoss"===e){var d=Object(r["a"])(a,2),b=d[0],p=d[1];return Object(o["f"])(n,p)?c("trade.takeLoss")+c("trade.profitLossWarnTip1",["≤"+p]):!!Object(o["g"])(n,b)&&c("trade.takeLoss")+c("trade.profitLossWarnTip2")}if("profit"===e){var f=Object(r["a"])(s,2),j=f[0],O=f[1];return Object(o["g"])(n,j)?c("trade.takeProfit")+c("trade.profitLossWarnTip1",["≥"+j]):!!Object(o["f"])(n,O)&&c("trade.takeProfit")+c("trade.profitLossWarnTip2")}}else{if("stopLoss"===e){var m=Object(r["a"])(u,2),v=m[0],g=m[1];return Object(o["g"])(n,v)?c("trade.takeLoss")+c("trade.profitLossWarnTip1",["≥"+v]):!!Object(o["f"])(n,g)&&c("trade.takeLoss")+c("trade.profitLossWarnTip2")}if("profit"===e){var h=Object(r["a"])(l,2),y=h[0],P=h[1];return Object(o["f"])(n,P)?c("trade.takeProfit")+c("trade.profitLossWarnTip1",["≤"+P]):!!Object(o["g"])(n,y)&&c("trade.takeProfit")+c("trade.profitLossWarnTip2")}}}},ef38:function(e,t,n){},f386:function(e,t,n){"use strict";n("d699")},fd7b:function(e,t,n){"use strict";n("b420")}}]);
//# sourceMappingURL=order.59bb87ad.js.map