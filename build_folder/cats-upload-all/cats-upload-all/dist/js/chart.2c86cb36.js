(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chart"],{"0373":function(t,e,n){"use strict";n("2f72")},"0538":function(t,e,n){"use strict";var i=n("1c0b"),o=n("861d"),r=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";a[e]=Function("C,a","return new C("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=r.call(arguments,1),a=function(){var i=n.concat(r.call(arguments));return this instanceof a?s(e,i.length,i):e.apply(t,i)};return o(e.prototype)&&(a.prototype=e.prototype),a}},"061c":function(t,e,n){},"12a3":function(t,e,n){},"13d1":function(t,e,n){},"150b":function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:1,trackPrice:!1,transparency:35,visible:!0,color:"#FF0000"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#0000FF"},plot_2:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#FF0000"}},precision:e,inputs:{in_0:12,in_1:26,in_3:"close",in_2:9},palettes:{plot_0_Palette:{colors:{0:{color:"#eb4d5c",width:1,style:0},1:{color:"#53b987",width:1,style:0}}}}},plots:[{id:"plot_0",type:"line"},{id:"plot_0_Palette",palette:"plot_0_Palette",target:"plot_0",type:"colorer"},{id:"plot_1",type:"line"},{id:"plot_2",type:"line"}],palettes:{plot_0_Palette:{colors:{0:{name:"Growing"},1:{name:"Falling"}}}},styles:{plot_0:{title:"Histogram",histogramBase:0,joinPoints:!1},plot_1:{title:"MACD",histogramBase:0,joinPoints:!1},plot_2:{title:"Signal",histogramBase:0,joinPoints:!1}},description:"Custom MACD",shortDescription:"MACD",is_price_study:!1,inputs:[{id:"in_0",name:"fastLength",defval:12,type:"integer",min:1,max:2e3},{id:"in_1",name:"slowLength",defval:26,type:"integer",min:1,max:2e3},{id:"in_3",name:"Source",defval:"close",type:"source",options:["open","high","low","close","hl2","hlc3","ohlc4"]},{id:"in_2",name:"signalLength",defval:9,type:"integer",min:1,max:50}],id:"Custom Moving Average Convergence/Divergence@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.f_0=function(t,e){return t-e},this.getColorKey=function(t,e){return t-e>0?0:1},this.main=function(e,n){var i,o,r,a,s,c,l,u,d,h,p,f;return this._context=e,this._input=n,i=t.Std[this._input(2)](this._context),o=this._input(0),r=this._input(1),a=this._input(3),s=this._context.new_var(i),c=t.Std.ema(s,o,this._context),l=this._context.new_var(i),u=t.Std.ema(l,r,this._context),d=this.f_0(c,u),h=this._context.new_var(d),p=t.Std.ema(h,a,this._context),f=this.getColorKey(d,p),[this.f_0(d,p),f,d,p]}}}}},1614:function(t,e,n){},1979:function(t,e,n){},2221:function(t,e,n){},"2d06":function(t,e,n){},"2ded":function(t,e,n){},"2f72":function(t,e,n){},"33f6":function(t,e,n){},"3b6b":function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u}));n("4de4"),n("caad");var i=n("ad16");function o(){return{autosize:!0,container_id:"tv_chart_container",library_path:"/charting_library/",custom_css_url:"customCssUrl.css?v=1.0.1",locale:"zh",charts_storage_api_version:"1.1",user_id:"public_user_id",theme:"Light",timezone:"Asia/Shanghai",custom_indicators_getter:i["default"],overrides:{"paneProperties.legendProperties.showSeriesTitle":!1,"paneProperties.legendProperties.showSeriesOHLC":!1,"paneProperties.legendProperties.showBarChange":!1,"paneProperties.legendProperties.showLegend":!0,"paneProperties.topMargin":22,"paneProperties.bottomMargin":5,"timeScale.rightOffset":5,"mainSeriesProperties.style":1,"mainSeriesProperties.showPriceLine":!0,"scalesProperties.showSeriesLastValue":!0,"mainSeriesProperties.priceLineColor":"rgb(71, 127, 211)","mainSeriesProperties.priceAxisProperties.autoScaleDisabled":!1,"mainSeriesProperties.priceAxisProperties.percentage":!1,"mainSeriesProperties.priceAxisProperties.percentageDisabled":!1,"mainSeriesProperties.priceAxisProperties.log":!1,"mainSeriesProperties.priceAxisProperties.logDisabled":!1},disabled_features:["header_widget","left_toolbar","timeframes_toolbar","header_settings","header_fullscreen_button","control_bar","legend_context_menu","symbol_info","header_undo_redo","create_volume_indicator_by_default","pane_context_menu","header_screenshot","header_saveload","adaptive_logo","study_templates","header_compare","display_market_status","use_localstorage_for_settings","header_symbol_search","symbol_search_hot_key","high_density_bars","scales_context_menu","vert_touch_drag_scroll","popup_hints"],enabled_features:["dont_show_boolean_study_arguments","fix_left_edge"]}}function r(){var t=o();return t.disabled_features=t.disabled_features.filter((function(t){return!["left_toolbar","vert_touch_drag_scroll"].includes(t)})),t}function a(){var t=o();return t.disabled_features.push("left_toolbar","vert_touch_drag_scroll"),t}var s={1:"1",5:"2",15:"3",30:"4",60:"5",240:"7","1D":"8","1W":"9","1M":"10"},c={1:"M1",5:"M5",15:"M15",30:"M30",60:"H1",240:"H4","1D":"D1","1W":"W1","1M":"MN"},l=[{label:"MA",name:"Moving Average mock",params:[!0,!1,[5,20,30,60,250,"close",0]]},{label:"BOLL",name:"Bollinger Bands",params:[!0,!1,[26,2]]},{label:"EMA",name:"Custom Moving Average Exponential",params:[!0,!1]},{label:"SAR",name:"Parabolic SAR",params:[!0,!1,[.02,.02,.2]]},{label:"Alligator",name:"Williams Alligator",params:[!0,!1,[13,8,5]]},{label:"TEMA",name:"Triple EMA",params:[!0,!1]},{label:"DEMA",name:"Double EMA",params:[!0,!1]},{label:"SMMA",name:"Smoothed Moving Average",params:[!0,!1]},{label:"Ichimoku",name:"Ichimoku Cloud",params:[!0,!1]},{label:"ENV",name:"Envelopes",params:[!0,!1]}],u=[{label:"MACD",name:"Custom MACD",params:[!1,!1,[12,26,"close",9]]},{label:"KDJ",name:"Custom KDJ",params:[!1,!1,[9,3,3]]},{label:"RSI",name:"Custom Relative Strength Index",params:[!1,!1]},{label:"ATR",name:"Average True Range",params:[!1,!1,[14]]},{label:"CCI",name:"Commodity Channel Index",params:[!1,!1,[14]]},{label:"WR",name:"Custom Williams %R",params:[!1,!1,[14]]},{label:"DMI",name:"Directional Movement",params:[!1,!1]},{label:"TRIX",name:"TRIX",params:[!1,!1]},{label:"ASI",name:"Accumulative Swing Index",params:[!1,!1]},{label:"Momentum",name:"Momentum",params:[!1,!1]},{label:"DPO",name:"Detrended Price Oscillator",params:[!1,!1]},{label:"Aroon",name:"Aroon",params:[!1,!1]},{label:"KST",name:"Know Sure Thing",params:[!1,!1]},{label:"ROC",name:"Rate Of Change",params:[!1,!1]},{label:"CRSI",name:"Connors RSI",params:[!1,!1]},{label:"SMII",name:"SMI Ergodic Indicator/Oscillator",params:[!1,!1]},{label:"HV",name:"Historical Volatility",params:[!1,!1,10]},{label:"Stoch",name:"Stochastic",params:[!1,!1]}]},"3c11":function(t,e,n){"use strict";n.r(e);n("fb6a"),n("b0c0"),n("b680");var i=n("f2bf"),o=Object(i["ab"])("data-v-2a2e49a3");Object(i["G"])("data-v-2a2e49a3");var r={class:"infomation"},a={class:"right-wrap"},s={class:"ft"},c=Object(i["m"])("i",{class:"icon_guanyu"},null,-1),l={class:"container"},u={class:"productInfo"},d={class:"hd"},h={class:"hd-left"},p={class:"others"},f={class:"others-bottom"},b={class:"bd"},m={class:"item"},v={class:"priceBottom"},y={class:"item"},O={class:"priceBottom"},j=Object(i["m"])("div",{class:"placeholder"},null,-1),g={class:"tv-head"},_={class:"tabs-wrap"},w={class:"options van-hairline--surround"},S={class:"flex-right"},P={class:"custom-title"},k={ref:"mainStudyArea",class:"study-area"},C={class:"main-study"},x={class:"content"},L={class:"inner-label"},D={class:"chart-wrap"},I={ref:"mainStudyArea",class:"study-area"},T={class:"main-study"},R={class:"content"},M={class:"inner-label"},B={class:"footerBtnBox"},z={class:"trade-btn-wrap"},A={class:"spread_text"};Object(i["E"])();var E=o((function(t,e,n,E,q,N){var V=Object(i["L"])("LayoutTop"),H=Object(i["L"])("Loading"),J=Object(i["L"])("van-tab"),U=Object(i["L"])("van-tabs"),F=Object(i["L"])("KIcon"),$=Object(i["L"])("van-icon"),W=Object(i["L"])("van-cell"),K=Object(i["L"])("van-dropdown-item"),Q=Object(i["L"])("van-dropdown-menu"),Y=Object(i["L"])("van-checkbox"),G=Object(i["L"])("van-checkbox-group"),X=Object(i["L"])("tv"),Z=Object(i["L"])("StallsAndDeal"),tt=Object(i["L"])("StudyList"),et=Object(i["M"])("preventReClick");return Object(i["D"])(),Object(i["i"])(i["a"],null,[Object(i["m"])("div",{class:["page-wrap",{isIframe:t.$route.query.isIframe}]},[Object(i["m"])(V,{back:!0,menu:!1},{right:o((function(){return[Object(i["m"])("div",a,[Object(i["Y"])(Object(i["m"])("button",{class:"collectIcon",onClick:e[1]||(e[1]=function(){return E.addOptional&&E.addOptional.apply(E,arguments)})},[Object(i["m"])("i",{ref:"collect",class:["icon_zixuan1",{icon_zixuan2:E.isSelfSymbol}]},null,2)],512),[[et]]),Object(i["m"])("div",s,[Object(i["m"])("span",{onClick:e[2]||(e[2]=function(){return E.toContractInfo&&E.toContractInfo.apply(E,arguments)})},[c])])])]})),default:o((function(){return[Object(i["m"])("p",null,Object(i["P"])(E.product.symbolName),1),Object(i["m"])("p",r,Object(i["P"])(E.product.symbolCode)+" "+Object(i["P"])(t.$t("trade.update"))+":"+Object(i["P"])(E.formatTime(E.product.tick_time)),1)]})),_:1}),Object(i["m"])(H,{show:t.loading},null,8,["show"]),Object(i["m"])("section",l,[Object(i["m"])("div",u,[Object(i["m"])("div",d,[Object(i["m"])("div",h,[Object(i["m"])("p",{class:["cur_price",E.product.cur_color]},Object(i["P"])(parseFloat(E.product.cur_price).toFixed(E.product.price_digits)),3)]),Object(i["m"])("div",p,[Object(i["m"])("span",{class:E.product.cur_color},Object(i["P"])(E.product.upDownAmount)+"("+Object(i["P"])(E.product.upDownAmount_pip)+" "+Object(i["P"])(t.$t("trade.dot"))+") ",3),Object(i["m"])("div",f,[Object(i["m"])("span",{class:["upDownAmount",E.product.cur_color]},Object(i["P"])(E.product.upDownWidth),3)])])]),Object(i["m"])("div",b,[Object(i["m"])("div",m,[Object(i["m"])("p",v,[Object(i["m"])("span",null,Object(i["P"])(t.$t("trade.todayOpen")),1),Object(i["m"])("span",null,Object(i["P"])(E.product.open_price),1)]),Object(i["m"])("p",null,[Object(i["m"])("span",null,Object(i["P"])(t.$t("trade.yesterdayClosed")),1),Object(i["m"])("span",null,Object(i["P"])(E.product.yesterday_close_price),1)])]),Object(i["m"])("div",y,[Object(i["m"])("p",O,[Object(i["l"])(Object(i["P"])(t.$t("trade.high"))+" ",1),Object(i["m"])("span",null,Object(i["P"])(E.product.high_price),1)]),Object(i["m"])("p",null,[Object(i["l"])(Object(i["P"])(t.$t("trade.low"))+" ",1),Object(i["m"])("span",null,Object(i["P"])(E.product.low_price),1)])])])])]),j,Object(i["m"])("div",g,[Object(i["m"])("div",_,[Object(i["m"])(U,{active:t.activeTab,"onUpdate:active":e[3]||(e[3]=function(e){return t.activeTab=e}),"before-change":E.onBeforeChange,class:"tabs",color:t.$style.primary,"line-height":"2","line-width":"20","title-active-color":"$style.primary"},{default:o((function(){return[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(E.candleKTypeList.slice(0,6),(function(t){return Object(i["D"])(),Object(i["i"])(J,{key:t.ktype,name:t.ktype,title:t.title},null,8,["name","title"])})),128)),Object(i["m"])(J,{name:"moreKTypes"},{title:o((function(){return[Object(i["l"])(Object(i["P"])(t.moreKType.title),1)]})),_:1})]})),_:1},8,["active","before-change","color"]),Object(i["m"])("div",{class:["more-time",{opened:t.moreTimeIsOpened}]},[Object(i["Y"])(Object(i["m"])("div",w,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(E.candleKTypeList.slice(6),(function(e,n){return Object(i["D"])(),Object(i["i"])("div",{key:n,class:["option",{active:t.moreKType.title===e.title}],onClick:function(t){return E.onClickMoreTime(e)}},Object(i["P"])(e.title),11,["onClick"])})),128))],512),[[i["U"],t.moreTimeIsOpened]]),Object(i["Y"])(Object(i["m"])("div",{class:"mask",onClick:e[4]||(e[4]=Object(i["Z"])((function(e){return t.moreTimeIsOpened=!1}),["stop"])),onTouchmove:e[5]||(e[5]=Object(i["Z"])((function(e){return t.moreTimeIsOpened=!1}),["stop"]))},null,544),[[i["U"],t.moreTimeIsOpened]])],2),Object(i["m"])("div",S,[Object(i["m"])(Q,{class:"kIcon-wrap"},{default:o((function(){return[Object(i["m"])(K,{ref:"klineTypeDropdown",modelValue:t.klineType,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.klineType=e})},{title:o((function(){return[Object(i["m"])(F,{class:"kIcon",value:E.klineTypeIndex},null,8,["value"])]})),default:o((function(){return[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(E.klineTypeList,(function(e,n){return Object(i["D"])(),Object(i["i"])(W,{key:e.name,class:{mainColor:t.klineType===e.value},"is-link":"",onClick:function(t){return E.setChartType(e)}},{title:o((function(){return[Object(i["m"])("span",P,[Object(i["m"])(F,{class:"kIcon",value:n+1},null,8,["value"]),Object(i["l"])(" "+Object(i["P"])(e["title_zh"]),1)])]})),"right-icon":o((function(){return[t.klineType===e.value?(Object(i["D"])(),Object(i["i"])($,{key:0,class:"klineTypeRightIcon",name:"success"})):Object(i["j"])("",!0)]})),_:2},1032,["class","onClick"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(i["m"])("div",{class:"setting",onClick:e[11]||(e[11]=function(e){return t.settingStatus=!t.settingStatus})},[Object(i["m"])($,{class:"icon",name:"setting-o"}),Object(i["Y"])(Object(i["m"])("div",{class:"content van-hairline--surround",onClick:e[8]||(e[8]=Object(i["Z"])((function(){}),["stop"]))},[Object(i["m"])(G,{ref:"checkboxGroup",modelValue:t.settingList,"onUpdate:modelValue":e[7]||(e[7]=function(e){return t.settingList=e}),onChange:E.handleLineChange},{default:o((function(){return[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(t.lineList,(function(t){return Object(i["D"])(),Object(i["i"])(Y,{key:t.value,class:"item","icon-size":"16px",name:t.value},{default:o((function(){return[Object(i["l"])(Object(i["P"])(t.title),1)]})),_:2},1032,["name"])})),128))]})),_:1},8,["modelValue","onChange"])],512),[[i["U"],t.settingStatus]]),Object(i["Y"])(Object(i["m"])("div",{class:"mask",onClick:e[9]||(e[9]=Object(i["Z"])((function(e){return t.settingStatus=!1}),["stop"])),onTouchmove:e[10]||(e[10]=Object(i["Z"])((function(e){return t.settingStatus=!1}),["stop"]))},null,544),[[i["U"],t.settingStatus]])])])])]),Object(i["Y"])(Object(i["m"])("div",k,[Object(i["m"])("div",C,[Object(i["m"])("div",x,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(t.mainStudyList,(function(e,n){return Object(i["D"])(),Object(i["i"])("div",{key:n,class:["item",{active:t.mainStudy===e.name}],color:t.$style.primary},[Object(i["m"])("span",{class:"inner-label",onClick:function(t){return E.onClickStudy("main",e.name)}},Object(i["P"])(e.label),9,["onClick"])],10,["color"])})),128)),Object(i["m"])("span",{class:"item more",onClick:e[12]||(e[12]=function(e){return t.showStudyDialog=!0})},[Object(i["m"])("span",L,Object(i["P"])(t.$t("chart.more")),1)])])])],512),[[i["U"],t.studyVis]]),Object(i["m"])("div",D,[E.initialValue?(Object(i["D"])(),Object(i["i"])(X,{key:0,ref:"chartRef","initial-value":E.initialValue,options:t.initConfig,onIndicatorRemoved:E.indicatorRemoved,onOnChartReady:E.onChartReady,onOrientationChanged:E.orientationChanged},null,8,["initial-value","options","onIndicatorRemoved","onOnChartReady","onOrientationChanged"])):Object(i["j"])("",!0)]),Object(i["Y"])(Object(i["m"])("div",I,[Object(i["m"])("div",T,[Object(i["m"])("div",R,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(t.sideStudyList,(function(e,n){return Object(i["D"])(),Object(i["i"])("div",{key:n,class:["item",{active:t.subStudy===e.name}]},[Object(i["m"])("span",{class:"inner-label",onClick:function(t){return E.onClickStudy("sub",e.name)}},Object(i["P"])(e.label),9,["onClick"])],2)})),128)),Object(i["m"])("span",{class:"item more",onClick:e[13]||(e[13]=function(e){return t.showStudyDialog=!0})},[Object(i["m"])("span",M,Object(i["P"])(t.$t("chart.more")),1)])])])],512),[[i["U"],t.studyVis]]),Object(i["m"])(Z,{"cur-price":E.product.cur_price,"setting-list":t.settingList,"symbol-id":t.symbolId},null,8,["cur-price","setting-list","symbol-id"]),Object(i["m"])("div",B,[Object(i["m"])("div",z,[Object(i["m"])("div",{class:"sell fallColorBg",onClick:e[14]||(e[14]=function(t){return E.toOrder("sell")})},[Object(i["m"])("p",null,Object(i["P"])(t.$t("trade.sell")),1),Object(i["m"])("p",{class:["price ",E.product.sell_color+"Arrow"]},Object(i["P"])(E.product.sell_price),3)]),Object(i["m"])("div",{class:"buy riseColorBg",onClick:e[15]||(e[15]=function(t){return E.toOrder("buy")})},[Object(i["m"])("p",null,Object(i["P"])(t.$t("trade.buy")),1),Object(i["m"])("p",{class:["price",E.product.buy_color+"Arrow"]},Object(i["P"])(E.product.buy_price),3)]),Object(i["m"])("span",A,Object(i["P"])(E.product.spread_text),1)])])],2),Object(i["m"])(tt,{"prop-main-study":t.mainStudy,"prop-sub-study":t.subStudy,show:t.showStudyDialog,onCreateStudy:E.createStudy,onRemoveStudy:E.removeStudy,"onUpdate:show":E.updateShow},null,8,["prop-main-study","prop-sub-study","show","onCreateStudy","onRemoveStudy","onUpdate:show"])],64)})),q=(n("99af"),n("4de4"),n("7db0"),n("c740"),n("4160"),n("c975"),n("d81d"),n("a9e3"),n("159b"),n("5530")),N=(n("e7e5"),n("d399")),V=(n("e17f"),n("2241")),H=n("ade3"),J=n("2909"),U=n("6c02"),F=n("c264"),$=n("47e2"),W=Object(i["ab"])("data-v-20129faa");Object(i["G"])("data-v-20129faa");var K={class:"icon"},Q={key:0,height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},Y=Object(i["m"])("g",{fill:"none",stroke:"currentColor","stroke-linecap":"square"},[Object(i["m"])("path",{d:"M10.5 7.5v15M7.5 20.5H10M13.5 11.5H11M19.5 6.5v15M16.5 9.5H19M22.5 16.5H20"})],-1),G={key:1,fill:"currentColor",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},X=Object(i["m"])("path",{d:"M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"},null,-1),Z=Object(i["m"])("path",{d:"M18 7h1v3.5h-1zm0 10.5h1V21h-1z"},null,-1),tt=Object(i["m"])("path",{d:"M9 8v12h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5z"},null,-1),et=Object(i["m"])("path",{d:"M10 4h1v3.5h-1zm0 16.5h1V24h-1z"},null,-1),nt={key:2,fill:"currentColor",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},it=Object(i["m"])("path",{d:"M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"},null,-1),ot=Object(i["m"])("path",{d:"M18 7h1v3.5h-1zm0 10.5h1V21h-1z"},null,-1),rt=Object(i["m"])("path",{d:"M9 8v11h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-12a.5.5 0 0 1 .5-.5z"},null,-1),at=Object(i["m"])("path",{d:"M10 4h1v5h-1zm0 14h1v5h-1zM8.5 9H10v1H8.5zM11 9h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11z"},null,-1),st={key:3,fill:"currentColor",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},ct=Object(i["m"])("path",{d:"M9 8v12h3V8H9zm-1-.502C8 7.223 8.215 7 8.498 7h4.004c.275 0 .498.22.498.498v13.004a.493.493 0 0 1-.498.498H8.498A.496.496 0 0 1 8 20.502V7.498z"},null,-1),lt=Object(i["m"])("path",{d:"M10 4h1v3.5h-1z"},null,-1),ut=Object(i["m"])("path",{d:"M17 6v6h3V6h-3zm-1-.5c0-.276.215-.5.498-.5h4.004c.275 0 .498.23.498.5v7c0 .276-.215.5-.498.5h-4.004a.503.503 0 0 1-.498-.5v-7z"},null,-1),dt=Object(i["m"])("path",{d:"M18 2h1v3.5h-1z"},null,-1),ht={key:4,height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},pt=Object(i["m"])("path",{d:"M11.982 16.689L17.192 12h3.033l4.149-4.668-.748-.664L19.776 11h-2.968l-4.79 4.311L9 12.293l-4.354 4.353.708.708L9 13.707z",fill:"currentColor"},null,-1),ft={key:5,fill:"currentColor",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},bt=Object(i["m"])("path",{d:"M12.5 17.207L18.707 11h2l3.647-3.646-.708-.708L20.293 10h-2L12.5 15.793l-3-3-4.854 4.853.708.708L9.5 14.207z"},null,-1),mt=Object(i["m"])("path",{d:"M9 16h1v1H9zm1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-3-3h1v1H8zm-1 1h1v1H7zm-1 1h1v1H6zm2 0h1v1H8zm-1 1h1v1H7zm-2 0h1v1H5zm17-9h1v1h-1zm1-1h1v1h-1zm0 2h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-5-7h1v1h-1zm2 0h1v1h-1zm1-1h1v1h-1zm-2 2h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-2-6h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-3-3h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1z"},null,-1),vt={key:6,height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},yt=Object(i["m"])("g",{fill:"none",stroke:"currentColor"},[Object(i["m"])("path",{d:"M4 14.5h22","stroke-dasharray":"1 1"}),Object(i["m"])("path",{d:"M7.5 12.5l2-4 1 2 2-4 3 6","stroke-linecap":"round","stroke-linejoin":"round"}),Object(i["m"])("path",{d:"M5.5 16.5l-1 2","stroke-linecap":"round"}),Object(i["m"])("path",{d:"M17.5 16.5l2 4 2-4m2-4l1-2-1 2z","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Ot={key:7,class:"icon","p-id":"1428",t:"1590479572150",version:"1.1",height:"16",viewBox:"0 0 1024 1024",fill:"currentColor",width:"16",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},jt=Object(i["m"])("path",{d:"M147.911 876.089v-800.995h-72.818v800.995h-0.182v72.818h873.813v-72.818h-800.814z","p-id":"1429"},null,-1),gt=Object(i["m"])("path",{d:"M622.137 657.271l-209.078-184.047-139.537 175.218-56.98-45.329 187.324-235.11 210.352 185.322 282.533-337.783 55.796 46.785-330.411 394.945z","p-id":"1430"},null,-1);Object(i["E"])();var _t=W((function(t,e,n,o,r,a){return Object(i["D"])(),Object(i["i"])("span",K,[1===n.value?(Object(i["D"])(),Object(i["i"])("svg",Q,[Y])):2===n.value?(Object(i["D"])(),Object(i["i"])("svg",G,[X,Z,tt,et])):3===n.value?(Object(i["D"])(),Object(i["i"])("svg",nt,[it,ot,rt,at])):4===n.value?(Object(i["D"])(),Object(i["i"])("svg",st,[ct,lt,ut,dt])):5===n.value?(Object(i["D"])(),Object(i["i"])("svg",ht,[pt])):6===n.value?(Object(i["D"])(),Object(i["i"])("svg",ft,[bt,mt])):7===n.value?(Object(i["D"])(),Object(i["i"])("svg",vt,[yt])):8===n.value?(Object(i["D"])(),Object(i["i"])("svg",Ot,[jt,gt])):Object(i["j"])("",!0)])})),wt={props:{value:{type:Number,default:1}}};n("c12e");wt.render=_t,wt.__scopeId="data-v-20129faa";var St=wt,Pt=n("3b6b"),kt=n("2f46"),Ct=n("5502"),xt=n("ca00"),Lt=n("3d18"),Dt=n("2ae1"),It=Object(i["ab"])("data-v-485b72c1");Object(i["G"])("data-v-485b72c1");var Tt={key:0,class:"stallsAndDeal"},Rt={class:"sell-wrap"},Mt={class:"item quantity"},Bt={class:"label"},zt={class:"price riseColor "},At={class:"quantity"},Et=Object(i["m"])("div",{class:"scale-wrap"},[Object(i["m"])("span",{class:"left"}),Object(i["m"])("span",{class:"right"})],-1),qt={class:"buy-wrap"},Nt={class:"item quantity"},Vt={class:"label"},Ht={class:"price fallColor"},Jt={class:"quantity"},Ut={class:"deal-wrap"},Ft={key:1,class:"list-wrap"},$t={class:"col time-col"},Wt={class:"label"},Kt={key:0,class:"val forWide"},Qt={class:"vals"},Yt={class:"val"},Gt={class:"col price-col"},Xt={class:"label"},Zt={key:0,class:"val forWide"},te={class:"vals"},ee={class:"col volume-col"},ne={class:"label"},ie={key:0,class:"val forWide"},oe={class:"vals"};Object(i["E"])();var re=It((function(t,e,n,o,r,a){var s=Object(i["L"])("van-tab"),c=Object(i["L"])("van-empty"),l=Object(i["L"])("van-tabs");return o.showTabs?(Object(i["D"])(),Object(i["i"])("div",Tt,[Object(i["m"])(l,{ref:"tabs",class:"tabs",color:"#477fd3","line-height":"2","line-width":"20","title-active-color":"#477fd3"},{default:It((function(){return[t.statusList.indexOf("stalls")>-1?(Object(i["D"])(),Object(i["i"])(s,{key:0,name:"stalls",title:t.$t("trade.sellFive")},{default:It((function(){return[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(o.product.tickResult,(function(e,n){var r,a;return Object(i["D"])(),Object(i["i"])("div",{key:n,class:"stalls-wrap"},[Object(i["m"])("div",Rt,[Object(i["m"])("div",Mt,[Object(i["m"])("span",Bt,Object(i["P"])(t.$t("trade.sellShort"))+Object(i["P"])(n+1),1),Object(i["m"])("span",zt,Object(i["P"])(parseFloat(e.price_bid).toFixed(o.product.price_digits)),1),Object(i["m"])("span",At,Object(i["P"])(e.volume_bid),1),Object(i["m"])("span",{class:"histogram sell-histogram",style:"width:"+100*(null===e||void 0===e||null===(r=e.width)||void 0===r?void 0:r.sell)+"%"},null,4)])]),Et,Object(i["m"])("div",qt,[Object(i["m"])("div",Nt,[Object(i["m"])("span",Vt,Object(i["P"])(t.$t("trade.buyShort"))+Object(i["P"])(n+1),1),Object(i["m"])("span",Ht,Object(i["P"])(parseFloat(e.price_ask).toFixed(o.product.price_digits)),1),Object(i["m"])("span",Jt,Object(i["P"])(e.volume_ask),1),Object(i["m"])("span",{class:"histogram buy-histogram",style:"width:"+100*(null===e||void 0===e||null===(a=e.width)||void 0===a?void 0:a.buy)+"%"},null,4)])])])})),128))]})),_:1},8,["title"])):Object(i["j"])("",!0),t.statusList.indexOf("deal")>-1?(Object(i["D"])(),Object(i["i"])(s,{key:1,name:"deal",title:t.$t("trade.deal")},{default:It((function(){return[Object(i["m"])("div",Ut,[0===t.dealData.length?(Object(i["D"])(),Object(i["i"])(c,{key:0,image:"/images/empty.png"},{default:It((function(){return[Object(i["l"])(Object(i["P"])(t.$t("trade.noDealData")),1)]})),_:1})):(Object(i["D"])(),Object(i["i"])("div",Ft,[Object(i["m"])("div",$t,[Object(i["m"])("span",Wt,Object(i["P"])(t.$t("trade.sortTime")),1),t.dealData.length?(Object(i["D"])(),Object(i["i"])("span",Kt,Object(i["P"])(o.formatTime(t.dealData[0][1])),1)):Object(i["j"])("",!0),Object(i["m"])("div",Qt,[Object(i["m"])("span",Yt,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(t.dealData,(function(t,e){return Object(i["D"])(),Object(i["i"])("span",{key:e,class:["val",t.colorCls]},Object(i["P"])(o.formatTime(t[1])),3)})),128))])])]),Object(i["m"])("div",Gt,[Object(i["m"])("span",Xt,Object(i["P"])(t.$t("trade.dealPrice")),1),t.dealData.length?(Object(i["D"])(),Object(i["i"])("span",Zt,Object(i["P"])(t.dealData[0][2]),1)):Object(i["j"])("",!0),Object(i["m"])("div",te,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(t.dealData,(function(t,e){return Object(i["D"])(),Object(i["i"])("span",{key:e,class:["val",t.colorCls]},Object(i["P"])(t[2]),3)})),128))])]),Object(i["m"])("div",ee,[Object(i["m"])("span",ne,Object(i["P"])(t.$t("trade.dealVolume")),1),t.dealData.length?(Object(i["D"])(),Object(i["i"])("span",ie,Object(i["P"])(t.dealData[0][3]),1)):Object(i["j"])("",!0),Object(i["m"])("div",oe,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(t.dealData,(function(t,e){return Object(i["D"])(),Object(i["i"])("span",{key:e,class:["val",t.colorCls]},Object(i["P"])(t[3]),3)})),128))])])]))])]})),_:1},8,["title"])):Object(i["j"])("",!0)]})),_:1},512)])):Object(i["j"])("",!0)})),ae=(n("a434"),{props:["symbolId","settingList","curPrice"],setup:function(t){var e=Object(Ct["c"])(),n=Object(i["H"])({dealData:[],tempDealData:[],statusList:t.settingList,isDealDelaying:!1,timer:0}),o=Object(i["g"])((function(){return e.state._quote.productMap[t.symbolId]})),r=Object(i["g"])((function(){return-1!==t.settingList.indexOf("stalls")||-1!==t.settingList.indexOf("deal")}));Object(i["V"])((function(){return[o.value.tickResult]}),(function(t){var e=o.value.tickResult,n=[];e.length>0&&e.forEach((function(t){n.push(t.volume_ask),n.push(t.volume_bid)}));var i=Math.max.apply(Math,n),r=Math.min.apply(Math,n),a=i-r;e.forEach((function(t){t.width={buy:0===a?0:(parseFloat(t.volume_ask)-parseFloat(r))/a,sell:0===a?0:(parseFloat(t.volume_bid)-parseFloat(r))/a}}))})),Object(i["V"])((function(){return t.settingList}),(function(e){console.log(t.settingList),-1===t.settingList.indexOf("stalls")&&-1===t.settingList.indexOf("deal")?n.showTabs=!1:n.showTabs=!0,n.statusList=t.settingList})),Object(i["V"])((function(){return t.curPrice}),(function(t,e){var i,o=[],r=s();while(o.length<r){var a=Date.now(),l=c();o.unshift([793065,a,t,l,2,1])}o.length&&t&&e&&1*t!==1*e&&(o[o.length-1].colorCls=1*t>1*e?"riseColor":"fallColor"),(i=n.tempDealData).unshift.apply(i,o)})),Object(i["V"])((function(){return n.tempDealData}),(function(t,e){t.length||(n.isDealDelaying=!1),t.length&&!n.isDealDelaying&&(n.isDealDelaying=!0,a())}),{deep:!0,immediate:!0});var a=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;requestAnimationFrame((function(){n.tempDealData.length&&(n.tempDealData.splice(20),n.dealData.length>20&&n.dealData.pop(),n.dealData.unshift(n.tempDealData.splice(n.tempDealData.length-1,1)[0]),n.timer=setTimeout((function(){t(100/n.tempDealData.length)}),e))}))},s=function(){var t=Math.random(),e=[];e=t<.7?[0,3]:[3,2];var n=e[0]+Math.random()*e[1];while(!n)n=e[0]+Math.random()*e[1];return n},c=function(){var t=Math.random(),e=[];e=t<.7?[0,3]:[3,10];var n=e[0]+Math.random()*e[1];while(!n)n=e[0]+Math.random()*e[1];return n=n.toFixed(3),n},l=function(t){return Object(kt["a"])(t).format("YYYY-MM-DD HH:mm:ss")};return Object(q["a"])({product:o,formatTime:l,showTabs:r},Object(i["Q"])(n))}});n("6ea0");ae.render=re,ae.__scopeId="data-v-485b72c1";var se=ae,ce=n("2465"),le=n("c428"),ue=Object(i["ab"])("data-v-0cc5e839");Object(i["G"])("data-v-0cc5e839");var de={key:0,class:"rightActions"},he=Object(i["m"])("a",{class:"icon icon_add",href:"javascript:;"},null,-1),pe=Object(i["m"])("a",{class:"icon icon_bi",href:"javascript:;"},null,-1),fe={key:1,class:"rightActions"},be=Object(i["m"])("a",{class:"icon icon_xindingdan",href:"javascript:;"},null,-1),me={key:2,class:"rightActions"},ve=Object(i["m"])("a",{class:"icon icon_paixu",href:"javascript:;"},null,-1),ye=Object(i["m"])("a",{class:"icon icon_xindingdan",href:"javascript:;"},null,-1),Oe={key:3,class:"rightActions"},je=Object(i["m"])("a",{class:"icon icon_paixu",href:"javascript:;"},null,-1),ge=Object(i["m"])("a",{class:"icon icon_rili",href:"javascript:;"},null,-1),_e={key:4,class:"rightActions"},we=Object(i["m"])("a",{class:"icon icon_gengduo",href:"javascript:;"},null,-1),Se={key:5,class:"rightActions"},Pe={class:"morePopupContainer"},ke=Object(i["l"])("更改密码"),Ce=Object(i["m"])("a",{class:"link",href:"javascript:;"},"删除账户",-1);Object(i["E"])();var xe=ue((function(t,e,n,o,r,a){var s=Object(i["L"])("router-link");return Object(i["D"])(),Object(i["i"])(i["a"],null,["Quote"===a.routeName?(Object(i["D"])(),Object(i["i"])("div",de,[he,pe])):"Chart"===a.routeName?(Object(i["D"])(),Object(i["i"])("div",fe,[be])):"Trade"===a.routeName?(Object(i["D"])(),Object(i["i"])("div",me,[ve,ye])):"History"===a.routeName?(Object(i["D"])(),Object(i["i"])("div",Oe,[je,ge])):"OnlineService"===a.routeName?(Object(i["D"])(),Object(i["i"])("div",_e,[we])):"AccountManager"===a.routeName?(Object(i["D"])(),Object(i["i"])("div",Se,[Object(i["m"])("a",{class:"icon icon_add",href:"javascript:;",onClick:e[1]||(e[1]=function(e){return t.$router.push("/addAccount")})}),Object(i["m"])("a",{class:"icon icon_gengduo",href:"javascript:;",onClick:e[2]||(e[2]=function(t){return r.moreVisible=!0})})])):Object(i["j"])("",!0),Object(i["Y"])(Object(i["m"])("div",{class:"morePopup",onClick:e[3]||(e[3]=function(t){return r.moreVisible=!1})},[Object(i["m"])("div",Pe,[Object(i["m"])(s,{class:"link of-1px-bottom",to:"/modifyPwd"},{default:ue((function(){return[ke]})),_:1}),Ce])],512),[[i["U"],r.moreVisible]])],64)})),Le={data:function(){return{moreVisible:!1}},computed:{routeName:function(){return this.$route.name}}};n("927a");Le.render=xe,Le.__scopeId="data-v-0cc5e839";var De=Le,Ie={components:{KIcon:St,StudyList:F["a"],tv:Lt["a"],StallsAndDeal:se,Loading:le["a"]},setup:function(t){var e=this,n=Object(U["d"])(),o=Object(U["e"])(),r=n.query.symbolId,a=Object($["b"])({useScope:"global"}),s=a.t,c=Object(i["I"])(null),l=Object(i["I"])(null),u=Object(Ct["c"])(),d=[{title:s("chart.1min"),value:"1min",ktype:"1"},{title:s("chart.15min"),value:"15min",ktype:"15"},{title:s("chart.30min"),value:"30min",ktype:"30"},{title:s("chart.1hour"),value:"1hour",ktype:"60"},{title:s("chart.day"),value:"day",ktype:"1D"},{title:s("chart.week"),value:"week",ktype:"1W"},{title:s("chart.5min"),value:"5min",ktype:"5"},{title:s("chart.2hour"),value:"2hour",ktype:"120"},{title:s("chart.4hour"),value:"4hour",ktype:"240"},{title:s("chart.month"),value:"month",ktype:"1M"}],h=[{name:"kIcon1",title_zh:s("chart.bars"),title_en:"Bars",value:0},{name:"kIcon2",title_zh:s("chart.candles"),title_en:"Candles",value:1},{name:"kIcon3",title_zh:s("chart.hollowCandles"),title_en:"Hollow Candles",value:9},{name:"kIcon4",title_zh:s("chart.heikinAshi"),title_en:"Heikin Ashi",value:8},{name:"kIcon5",title_zh:s("chart.line"),title_en:"Line",value:2},{name:"kIcon6",title_zh:s("chart.area"),title_en:"Area",value:3},{name:"kIcon7",title_zh:s("chart.baseLine"),title_en:"Baseline",value:10}],p=Object(i["H"])({activeTab:0,moreKType:{title:s("chart.more"),ktype:null},moreTimeIsOpened:!1,settingStatus:!1,mainStudyList:Pt["a"].slice(0,5),sideStudyList:Pt["b"].slice(0,5),studyVis:!0,mainStudy:"Moving Average mock",subStudy:"Custom MACD",showStudyDialog:!1,lineList:[{title:s("chart.lastValueLine"),value:"showLastPrice"},{title:s("chart.positionLine"),value:"showPositionPrice"},{title:s("chart.buyLine"),value:"showBuyPrice"},{title:s("chart.sellLine"),value:"showSellPrice"},{title:s("trade.buySellFive"),value:"stalls"},{title:s("trade.dealData"),value:"deal"}],linesData:{showLastPrice:{status:!0},showPositionPrice:{status:!1},showBuyPrice:{status:!1},showSellPrice:{status:!1},stalls:{status:!1},deal:{status:!1}},settingList:[],klineType:0,initConfig:{},symbolId:r,onChartReadyFlag:!1,loading:!1}),f=Object(i["I"])(null),b=Object(i["g"])((function(){var t=h.findIndex((function(t){return t.value===p.klineType}));return t+1})),m=Object(i["g"])((function(){var t=u.state._quote.productMap[r];return t.cur_price&&C(t,p.initConfig.property),t})),v=Object(i["g"])((function(){return u.state._quote.productList})),y=Object(i["g"])((function(){return u.state._trade.positionList})),O=Object(i["g"])((function(){return u.state._user.selfSymbolList}));u.dispatch("_trade/queryPositionPage");var j=v.value.map((function(t){var e=t.symbolId;return e}));u.dispatch("_quote/querySymbolBaseInfoList",j),Dt["b"].send_subscribe(j);var g=Object(i["g"])((function(){if(m.value.symbolName)return{text:m.value.symbolName,description:m.value.symbolCode,symbolId:m.value.symbolId,digits:m.value.symbolDigits}})),_=Object(i["g"])((function(){return!Object(xt["m"])(O.value.find((function(t){return t.symbolId===parseInt(r)})))})),w=function(t,e){var n={main:"mainStudy",sub:"subStudy"},i=p[n[t]];i===e?D(t):(D(t),L(t,e))},S=function(t,e){if("moreKTypes"!==t)return p.studyVis="timeSharing"!==t,p.onChartReadyFlag&&Object(i["R"])(f).setResolution(t),I("resolution",t),!0;p.moreTimeIsOpened=!p.moreTimeIsOpened},P=function(t){p.klineType=t.value,p.onChartReadyFlag&&Object(i["R"])(f).setChartType(Number(t.value)),I("chartType",t.value),c.value.toggle()},k=function(t,e){var n={};t.indexOf("showBuyPrice")>-1?n.showBuyPrice=!0:n.showBuyPrice=!1,t.indexOf("showPositionPrice")>-1?n.showPositionPrice=!0:n.showPositionPrice=!1,t.indexOf("showSellPrice")>-1?n.showSellPrice=!0:n.showSellPrice=!1,t.indexOf("showLastPrice")>-1?n.showLastPrice=!0:n.showLastPrice=!1,C(m.value,n)},C=function(t,e){p.onChartReadyFlag&&Object(i["R"])(f).updateProperty(e),p.onChartReadyFlag&&Object(i["R"])(f).updateLineData({buyPrice:t.buy_price,sellPrice:t.sell_price}),x()},x=function(){var t=y.value.filter((function(t){return t.symbolId===Number(r)}));if(t.length>0){var e=[];t.forEach((function(t){e.push({text:(1===Number(t.direction)?s("trade.buy"):s("trade.sell"))+t.volume+s("trade.volumeUnit"),quantity:t.openNum,price:t.openPrice,color:t.profit<0?"green":"red"})})),p.onChartReadyFlag&&Object(i["R"])(f).updatePosition(e)}},L=function(t,e){var n=JSON.parse(JSON.stringify([].concat(Object(J["a"])(Pt["a"]),Object(J["a"])(Pt["b"])).find((function(t){return t.name===e}))||null));switch(t){case"main":p.mainStudy=n.name,I("mainStudy",JSON.stringify({name:n.name,params:n.params}));break;case"sub":p.subStudy=n.name,I("subStudy",JSON.stringify({name:n.name,params:n.params}));break}var o=[JSON.parse(JSON.parse(Object(xt["n"])("chartConfig")).mainStudy),JSON.parse(JSON.parse(Object(xt["n"])("chartConfig")).subStudy)];p.onChartReadyFlag&&Object(i["R"])(f).updateIndicator(o)},D=function(t){switch(t){case"main":p.mainStudy="";break;case"sub":p.subStudy="";break}},I=function(t,e){var n=JSON.parse(Object(xt["n"])("chartConfig"));Object(xt["m"])(n)?Object(xt["o"])("chartConfig",JSON.stringify(Object(H["a"])({},t,e))):(n[t]=e,Object(xt["o"])("chartConfig",JSON.stringify(n)))},T=function(t){p.showStudyDialog=t},R=function(){V["a"].alert({title:s("trade.descTitle"),message:s("trade.nonStocksAndnonBullPointDesc"),confirmButtonColor:"#477fd3"}).then((function(){}))},M=function(t){var e=t.title,n=t.ktype;p.activeTab="moreKTypes",B(e,n),p.onChartReadyFlag&&Object(i["R"])(f).setResolution(n),I("resolution",n),p.moreTimeIsOpened=!1},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.$t("chart.more"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;I("resolution",n),p.moreKType={title:t,ktype:n}},z=function(){o.push({path:"/contract",query:{symbolId:r}})},A=function(){},E=function(t,e){t===p.subStudy&&D("sub"),t===p.mainStudy&&D("main")},F=function(){p.onChartReadyFlag=!0};Object(i["V"])((function(){return[m.value.buy_price,m.value.sell_price,m.value.cur_price,m.value.tick_time]}),(function(t){p.settingList.indexOf("showLastPrice")>-1&&p.onChartReadyFlag&&Object(i["R"])(f).setTick(m.value.cur_price,m.value.tick_time),p.onChartReadyFlag&&Object(i["R"])(f).updateLineData({buyPrice:m.value.buy_price,sellPrice:m.value.sell_price})})),Object(i["V"])((function(){return[p.settingList]}),(function(t){p.settingList.indexOf("showBuyPrice")>-1?I("showBuyPrice",!0):I("showBuyPrice",!1),p.settingList.indexOf("showPositionPrice")>-1?I("showPositionPrice",!0):I("showPositionPrice",!1),p.settingList.indexOf("showSellPrice")>-1?I("showSellPrice",!0):I("showSellPrice",!1),p.settingList.indexOf("showLastPrice")>-1?I("showLastPrice",!0):I("showLastPrice",!1),I("lineSetList",p.settingList)}));var W=function(){var t=JSON.parse(Object(xt["n"])("chartConfig")),e=Object(xt["n"])("invertColor");Object(xt["m"])(t)?(I("showLastPrice",!1),I("mainStudy",JSON.stringify({name:"Bollinger Bands",params:[!0,!1,[26,2]]})),I("subStudy",JSON.stringify({name:"Custom MACD",params:[!1,!1,[12,26,"close",9]]})),I("resolution",1),I("lineSetList",[]),I("chartType",1),p.settingList=["showLastPrice"],p.initConfig=Object(i["I"])({property:{showLastPrice:!0,showPositionPrice:!1,showBuyPrice:!1,showSellPrice:!1,showSeriesOHLC:!0,showBarChange:!0,chartType:"1",showSeriesTitle:!1},indicators:[{name:"Bollinger Bands",params:[!0,!1,[26,2]]},{name:"Custom MACD",params:[!1,!1,[12,26,"close",9]]}],extension:{theme:"light"===e?"Light":"Dark",fullScreen:!1}})):(p.mainStudy=JSON.parse(t.mainStudy).name,p.subStudy=JSON.parse(t.subStudy).name,p.activeTab=d.find((function(e){return String(e.ktype)===String(t.resolution)})).ktype,p.klineType=t.chartType,p.settingList=t.lineSetList,p.initConfig=Object(i["I"])({property:{showLastPrice:t.showLastPrice,showPositionPrice:t.showPositionPrice,showBuyPrice:t.showBuyPrice,showSellPrice:t.showSellPrice,showSeriesOHLC:!0,showBarChange:!0,chartType:t.chartType,showSeriesTitle:!1},indicators:[JSON.parse(t.mainStudy),JSON.parse(t.subStudy)],extension:{theme:"light"===e?"Light":"Dark",fullScreen:!1}}))},K=function(){p.loading=De,_.value?Object(ce["j"])({symbolList:[r]}).then((function(t){t.check()&&(p.loading=!1,u.dispatch("_user/queryCustomerOptionalList"),Object(N["a"])(s("trade.removeOptionalOk")),l.value.classList.remove("icon_zixuan2"))})).catch((function(t){p.loading=!1})):Object(ce["a"])({symbolList:[r]}).then((function(t){t.check()&&(p.loading=!1,u.dispatch("_user/queryCustomerOptionalList"),l.value.classList.add("icon_zixuan2"),Object(N["a"])(s("trade.addOptionalOk")))})).catch((function(t){p.loading=!1}))},Q=function(t){o.push({path:"/order",query:{symbolId:r,direction:t}})},Y=function(t){if(t)return Object(kt["a"])(Number(t)).format("HH:mm:ss")};return W(),Object(q["a"])(Object(q["a"])({},Object(i["Q"])(p)),{},{candleKTypeList:d,klineTypeList:h,onBeforeChange:S,onClickStudy:w,createStudy:L,removeStudy:D,showTips:R,updateShow:T,onClickMoreTime:M,setChartType:P,klineTypeDropdown:c,klineTypeIndex:b,toContractInfo:z,isSelfSymbol:_,product:m,initialValue:g,indicatorRemoved:E,chartRef:f,handleLineChange:k,orientationChanged:A,positionList:y,onChartReady:F,addOptional:K,toOrder:Q,collect:l,formatTime:Y})}};n("5740");Ie.render=E,Ie.__scopeId="data-v-2a2e49a3";e["default"]=Ie},"3cec":function(t,e,n){"use strict";n("13d1")},"3d18":function(t,e,n){"use strict";var i=n("f2bf"),o=Object(i["ab"])("data-v-e79e8368");Object(i["G"])("data-v-e79e8368");var r={class:"tv"};Object(i["E"])();var a=o((function(t,e,n,o,a,s){return Object(i["D"])(),Object(i["i"])("div",r,[o.chart?Object(i["K"])(t.$slots,"top",{key:0,resolutionList:o.resolutionList,setSymbol:o.setSymbol},void 0,!0):Object(i["j"])("",!0),Object(i["m"])("div",{id:"tv-chart-container",class:{landscape:o.isLandscape}},null,2),o.chart?Object(i["K"])(t.$slots,"sideMenu",{key:1,chart:o.chart},void 0,!0):Object(i["j"])("",!0)])})),s=(n("caad"),n("d81d"),n("b64b"),n("5530")),c=n("3b6b"),l=(n("a4d3"),n("e01a"),n("99af"),n("4de4"),n("7db0"),n("4160"),n("fb6a"),n("b0c0"),n("a9e3"),n("d3b7"),n("159b"),n("2909")),u=n("d4ec"),d=n("bee2"),h=n("ade3");n("4ae1");function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}n("25f0");function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t,e,n){return b=f()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=Function.bind.apply(t,i),r=new o;return n&&p(r,n.prototype),r},b.apply(null,arguments)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(t,e){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},m(t,e)};function v(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var y=!1;function O(t){if(y){var e=new Date;console.log(e.toLocaleTimeString()+"."+e.getMilliseconds()+"> "+t)}}function j(t){return void 0===t?"":"string"===typeof t?t:t.message}n("96cf");var g=n("1da1"),_=n("2f46"),w=n("2ae1"),S=!0,P=function(){function t(){Object(u["a"])(this,t),this._leftBar=null,this._latestBar=null,this._product={}}return Object(d["a"])(t,[{key:"getKline",value:function(t,e){var n=this;e&&(this._product={symbolId:t.symbolId,klineType:t.klineType},this._leftBar=null,this._latestBar=null);var i={trade_type:1,symbol_id:t.symbolId,kline_type:t.klineType,kline_timestamp_start:t.startTime,kline_timestamp_end:t.endTime};return k(i,e).then((function(t){return e&&t.data.bars.length&&(n._latestBar=Object(s["a"])({},t.data.bars[t.data.bars.length-1]),n._leftBar=Object(s["a"])({},t.data.bars[0])),t})).then((function(t){if(console.log("exit_earlier_kline: ",t.rawData.exit_earlier_kline),!t.data.bars.length){var e=n._leftBar?n._leftBar.time:void 0;t.rawData.exit_earlier_kline?console.log("%c".concat(i.kline_timestamp_start,"-").concat(i.kline_timestamp_end,"区间无数据，准备请求").concat(e,"左侧的时间区间的历史数据"),"color:red"):(e=void 0,console.log("%c".concat(i.kline_timestamp_start,"-").concat(i.kline_timestamp_end,"区间无数据，并且没有更早历史数据，不再进行请求"),"color:red")),Object.assign(t.data,{meta:{noData:!0,nextTime:e}})}return t.data}))}},{key:"normalizeTick",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,i){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e&&this._latestBar){t.next=2;break}return t.abrupt("return");case 2:if(o=this._latestBar,r=[],!C(i,o.time,n)){t.next=8;break}r.push({time:o.time,open:o.open,high:Math.max(o.high,e),low:Math.min(o.low,e),close:e}),t.next=11;break;case 8:return t.next=10,this._getLatestKline();case 10:r=t.sent;case 11:return r.length||Promise.reject(),this._latestBar=r[r.length-1],S&&D(r),t.abrupt("return",Promise.resolve(r));case 15:case"end":return t.stop()}}),t,this)})));function e(e,n,i){return t.apply(this,arguments)}return e}()},{key:"_getLatestKline",value:function(){var t={trade_type:1,symbol_id:this._product.symbolId,kline_type:this._product.klineType,query_type:2,query_kline_num:2};return k(t).then((function(t){return t.data.bars}))}}]),t}();function k(t){return new Promise((function(t){var e=function e(){1===w["b"].ws.readyState?t():setTimeout(e,1e3)};e()})).then((function(){return w["b"].send(14002,t).then((function(e){S&&L(e,t);var n=x(e);if(n)return n;var i=e.data,o=i.kline_list,r=(i.price_digits,o.map((function(t){return{time:parseFloat(1e3*t.timestamp),close:parseFloat(t.close_price),open:parseFloat(t.open_price),high:parseFloat(t.high_price),low:parseFloat(t.low_price)}})));return{rawData:e.data,data:{bars:r}}})).catch((function(t){console.error(t)}))}))}function C(t,e,n){if(e*=1,n*=1,e>n)return!0;var i=Object(_["a"])(e),o=Object(_["a"])(n);if(/^[0-9]+$/.test(t)){var r=60*i.hour()+i.minute(),a=60*o.hour()+o.minute();return a-r<t}return i===o}function x(t){return 200!==t.ret?{bars:[],meta:{noData:!0}}:null}function L(t,e){var n;console.groupCollapsed("%c请求历史k线:⬇","color:".concat(200===t.ret?"green":"red")),console.log("request:",JSON.stringify(e,null," ")),console.log("response:",JSON.stringify(t,(function(t,e){var n;return"kline_list"===t?Array.isArray(e)&&e.length?"共{".concat(null===e||void 0===e?void 0:e.length,"}条数据, 区间[").concat(e[0].timestamp,", ").concat(null===(n=e[e.length-1])||void 0===n?void 0:n.timestamp,"]"):"没有数据":e})," ")),console.log("response:",null===(n=t.data)||void 0===n?void 0:n.kline_list," "),console.groupEnd()}function D(t){1===t.length?console.group("%c实时报价:⬇","color:green"):console.group("%c获取最新两根数据:⬇","color:green"),console.log(JSON.stringify(t)),console.groupEnd()}var I=function(){function t(e,n){Object(u["a"])(this,t),this._datafeedUrl=e,this._requester=n,this._requestKData=new P,this._onTick=null}return Object(d["a"])(t,[{key:"getBars",value:function(t,e,n,i,o){if(this.symbolParams={symbolId:t.symbolId,klineType:c["e"][e],startTime:n,endTime:i,resolution:e},"boolean"===typeof o)return this._requestKData.getKline(this.symbolParams,o)}},{key:"onTick",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,n){var i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this._onTick){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this._requestKData.normalizeTick(e,n,this.symbolParams.resolution);case 4:i=t.sent,i.forEach((function(t){return o._onTick(t)}));case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"setTick",value:function(t){this._onTick=t}}]),t}(),T=function(){function t(t,e){this._subscribers={},this._requestsPending=0,this._historyProvider=t}return t.prototype.subscribeBars=function(t,e,n,i){this._subscribers.hasOwnProperty(i)?O("DataPulseProvider: already has subscriber with id="+i):(this._subscribers[i]={lastBarTime:null,listener:n,resolution:e,symbolInfo:t},O("DataPulseProvider: subscribed for #"+i+" - {"+t.name+", "+e+"}"))},t.prototype.unsubscribeBars=function(t){delete this._subscribers[t],O("DataPulseProvider: unsubscribed for #"+t)},t.prototype._updateData=function(){var t=this;if(!(this._requestsPending>0)){this._requestsPending=0;var e=function(e){n._requestsPending+=1,n._updateDataForSubscriber(e).then((function(){t._requestsPending-=1,O("DataPulseProvider: data for #"+e+" updated successfully, pending="+t._requestsPending)})).catch((function(n){t._requestsPending-=1,O("DataPulseProvider: data for #"+e+" updated with error="+j(n)+", pending="+t._requestsPending)}))},n=this;for(var i in this._subscribers)e(i)}},t.prototype._updateDataForSubscriber=function(t){var e=this,n=this._subscribers[t],i=parseInt((Date.now()/1e3).toString()),o=i-R(n.resolution,10);return this._historyProvider.getBars(n.symbolInfo,n.resolution,o,i).then((function(n){e._onSubscriberDataReceived(t,n)}))},t.prototype._onSubscriberDataReceived=function(t,e){if(this._subscribers.hasOwnProperty(t)){var n=e.bars;if(0!==n.length){var i=n[n.length-1],o=this._subscribers[t];if(!(null!==o.lastBarTime&&i.time<o.lastBarTime)){null!==o.lastBarTime&&(i.time,o.lastBarTime);o.lastBarTime=i.time,o.listener(i)}}}else O("DataPulseProvider: Data comes for already unsubscribed subscription #"+t)},t}();function R(t,e){var n=0;return n="D"===t||"1D"===t?e:"M"===t||"1M"===t?31*e:"W"===t||"1W"===t?7*e:e*parseInt(t)/1440,24*n*60*60}var M=function(){function t(t){this._subscribers={},this._requestsPending=0,this._quotesProvider=t,setInterval(this._updateQuotes.bind(this,1),1e4),setInterval(this._updateQuotes.bind(this,0),6e4)}return t.prototype.subscribeQuotes=function(t,e,n,i){this._subscribers[i]={symbols:t,fastSymbols:e,listener:n},O("QuotesPulseProvider: subscribed quotes with #"+i)},t.prototype.unsubscribeQuotes=function(t){delete this._subscribers[t],O("QuotesPulseProvider: unsubscribed quotes with #"+t)},t.prototype._updateQuotes=function(t){var e=this;if(!(this._requestsPending>0)){var n=function(n){i._requestsPending++;var o=i._subscribers[n];i._quotesProvider.getQuotes(1===t?o.fastSymbols:o.symbols).then((function(i){e._requestsPending--,e._subscribers.hasOwnProperty(n)&&(o.listener(i),O("QuotesPulseProvider: data for #"+n+" ("+t+") updated successfully, pending="+e._requestsPending))})).catch((function(i){e._requestsPending--,O("QuotesPulseProvider: data for #"+n+" ("+t+") updated with error="+j(i)+", pending="+e._requestsPending)}))},i=this;for(var o in this._subscribers)n(o)}},t}();n("c975"),n("45fc"),n("3ca3"),n("ddb0");function B(t,e,n,i){var o=t[e];return!Array.isArray(o)||i&&!Array.isArray(o[0])?o:o[n]}function z(t,e){return t+(void 0!==e?"_%|#|%_"+e:"")}var A=function(){function t(t,e,n){this._exchangesList=["NYSE","FOREX","AMEX"],this._symbolsInfo={},this._symbolsList=[],this._datafeedUrl=t,this._datafeedSupportedResolutions=e,this._requester=n,this._readyPromise=this._init(),this._readyPromise.catch((function(t){console.error("SymbolsStorage: Cannot init, error="+t.toString())}))}return t.prototype.resolveSymbol=function(t,e){var n=this;return this._readyPromise.then((function(){var i=n._symbolsInfo[z(t,e)];return void 0===i?Promise.reject("invalid symbol"):Promise.resolve(i)}))},t.prototype.searchSymbols=function(t,e,n,i){var o=this;return this._readyPromise.then((function(){var r=[],a=0===t.length;t=t.toUpperCase();for(var s=function(i){var s=o._symbolsInfo[i];if(void 0===s)return"continue";if(n.length>0&&s.type!==n)return"continue";if(e&&e.length>0&&s.exchange!==e)return"continue";var c=s.name.toUpperCase().indexOf(t),l=s.description.toUpperCase().indexOf(t);if(a||c>=0||l>=0){var u=r.some((function(t){return t.symbolInfo===s}));if(!u){var d=c>=0?c:8e3+l;r.push({symbolInfo:s,weight:d})}}},c=0,l=o._symbolsList;c<l.length;c++){var u=l[c];s(u)}var d=r.sort((function(t,e){return t.weight-e.weight})).slice(0,i).map((function(t){var e=t.symbolInfo;return{symbol:e.name,full_name:e.full_name,description:e.description,exchange:e.exchange,params:[],type:e.type,ticker:e.name}}));return Promise.resolve(d)}))},t.prototype._init=function(){for(var t=this,e=[],n={},i=0,o=this._exchangesList;i<o.length;i++){var r=o[i];n[r]||(n[r]=!0,e.push(this._requestExchangeData(r)))}return Promise.all(e).then((function(){t._symbolsList.sort(),O("SymbolsStorage: All exchanges data loaded")}))},t.prototype._requestExchangeData=function(t){var e=this;return new Promise((function(n,i){e._requester.sendRequest(e._datafeedUrl,"symbol_info",{group:t}).then((function(o){try{e._onExchangeDataReceived(t,o)}catch(r){return void i(r)}n()})).catch((function(e){O("SymbolsStorage: Request data for exchange '"+t+"' failed, reason="+j(e)),n()}))}))},t.prototype._onExchangeDataReceived=function(t,e){var n=0;try{for(var i=e.symbol.length,o=void 0!==e.ticker;n<i;++n){var r=e.symbol[n],a=B(e,"exchange-listed",n),s=B(e,"exchange-traded",n),c=s+":"+r,l=B(e,"currency-code",n),u=o?B(e,"ticker",n):r,d={ticker:u,name:r,base_name:[a+":"+r],full_name:c,listed_exchange:a,exchange:s,currency_code:l,original_currency_code:B(e,"original-currency-code",n),description:B(e,"description",n),has_intraday:E(B(e,"has-intraday",n),!1),has_no_volume:E(B(e,"has-no-volume",n),!1),minmov:B(e,"minmovement",n)||B(e,"minmov",n)||0,minmove2:B(e,"minmove2",n)||B(e,"minmov2",n),fractional:B(e,"fractional",n),pricescale:B(e,"pricescale",n),type:B(e,"type",n),session:B(e,"session-regular",n),timezone:B(e,"timezone",n),supported_resolutions:E(B(e,"supported-resolutions",n,!0),this._datafeedSupportedResolutions),force_session_rebuild:B(e,"force-session-rebuild",n),has_daily:E(B(e,"has-daily",n),!0),intraday_multipliers:E(B(e,"intraday-multipliers",n,!0),["1","5","15","30","60"]),has_weekly_and_monthly:B(e,"has-weekly-and-monthly",n),has_empty_bars:B(e,"has-empty-bars",n),volume_precision:E(B(e,"volume-precision",n),0),format:"price"};this._symbolsInfo[u]=d,this._symbolsInfo[r]=d,this._symbolsInfo[c]=d,void 0!==l&&(this._symbolsInfo[z(u,l)]=d,this._symbolsInfo[z(r,l)]=d,this._symbolsInfo[z(c,l)]=d),this._symbolsList.push(r)}}catch(h){throw new Error("SymbolsStorage: API error when processing exchange "+t+" symbol #"+n+" ("+e.symbol[n]+"): "+h.message)}},t}();function E(t,e){return void 0!==t?t:e}function q(t,e,n){var i=t[e];return Array.isArray(i)?i[n]:i}var N=function(){function t(t,e,n,i,o){var r=this;void 0===i&&(i=1e4),this.otherConfig=o||{},this._configuration=V(),this._symbolsStorage=null,this._datafeedURL=t,this._requester=n,this._historyProvider=new I(t,this._requester),this._quotesProvider=e,this._dataPulseProvider=new T(this._historyProvider,i),this._quotesPulseProvider=new M(this._quotesProvider),this._configurationReadyPromise=this._requestConfiguration().then((function(t){null===t&&(t=V()),r._setupWithConfiguration(t)}))}return t.prototype.onReady=function(t){var e=this;this._configurationReadyPromise.then((function(){t(e._configuration)}))},t.prototype.getQuotes=function(t,e,n){this._quotesProvider.getQuotes(t).then(e).catch(n)},t.prototype.subscribeQuotes=function(t,e,n,i){this._quotesPulseProvider.subscribeQuotes(t,e,n,i)},t.prototype.unsubscribeQuotes=function(t){this._quotesPulseProvider.unsubscribeQuotes(t)},t.prototype.calculateHistoryDepth=function(t,e,n){return{resolutionBack:t,intervalBack:20}},t.prototype.getMarks=function(t,e,n,i,o){if(this._configuration.supports_marks){var r={symbol:t.ticker||"",from:e,to:n,resolution:o};this._send("marks",r).then((function(t){if(!Array.isArray(t)){for(var e=[],n=0;n<t.id.length;++n)e.push({id:q(t,"id",n),time:q(t,"time",n),color:q(t,"color",n),text:q(t,"text",n),label:q(t,"label",n),labelFontColor:q(t,"labelFontColor",n),minSize:q(t,"minSize",n)});t=e}i(t)})).catch((function(t){O("UdfCompatibleDatafeed: Request marks failed: "+j(t)),i([])}))}},t.prototype.getTimescaleMarks=function(t,e,n,i,o){if(this._configuration.supports_timescale_marks){var r={symbol:t.ticker||"",from:e,to:n,resolution:o};this._send("timescale_marks",r).then((function(t){if(!Array.isArray(t)){for(var e=[],n=0;n<t.id.length;++n)e.push({id:q(t,"id",n),time:q(t,"time",n),color:q(t,"color",n),label:q(t,"label",n),tooltip:q(t,"tooltip",n)});t=e}i(t)})).catch((function(t){O("UdfCompatibleDatafeed: Request timescale marks failed: "+j(t)),i([])}))}},t.prototype.getServerTime=function(t){this._configuration.supports_time&&this._send("time").then((function(e){var n=parseInt(e);isNaN(n)||t(n)})).catch((function(t){O("UdfCompatibleDatafeed: Fail to load server time, error="+j(t))}))},t.prototype.searchSymbols=function(t,e,n,i){if(this._configuration.supports_search){var o={limit:30,query:t.toUpperCase(),type:n,exchange:e};this._send("search",o).then((function(t){if(void 0!==t.s)return O("UdfCompatibleDatafeed: search symbols error="+t.errmsg),void i([]);i(t)})).catch((function(e){O("UdfCompatibleDatafeed: Search symbols for '"+t+"' failed. Error="+j(e)),i([])}))}else{if(null===this._symbolsStorage)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.searchSymbols(t,e,n,30).then(i).catch(i.bind(null,[]))}},t.prototype.resolveSymbol=function(t,e,n,i){var o=this;O("Resolve requested");var r=i&&i.currencyCode,a=Date.now();function c(t){O("Symbol resolved: "+(Date.now()-a)+"ms"),e(t)}if(this.otherConfig.isControl)setTimeout((function(){c(Object(s["a"])({},J(t,o.otherConfig.symbolInfo)))}),0);else if(this._configuration.supports_group_request){if(null===this._symbolsStorage)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.resolveSymbol(t,r).then(c).catch(n)}else{var l={symbol:t};void 0!==r&&(l.currencyCode=r),this._send("symbols",l).then((function(t){void 0!==t.s?n("unknown_symbol"):c(t)})).catch((function(t){O("UdfCompatibleDatafeed: Error resolving symbol: "+j(t)),n("unknown_symbol")}))}},t.prototype.getBars=function(t,e,n,i,o,r,a){this._historyProvider.getBars(t,e,n,i,a).then((function(t){o(t.bars,t.meta)})).catch(r)},t.prototype.subscribeBars=function(t,e,n,i,o){this._historyProvider.setTick(n),this._dataPulseProvider.subscribeBars(t,e,n,i)},t.prototype.unsubscribeBars=function(t){this._historyProvider.setTick(null),this._dataPulseProvider.unsubscribeBars(t)},t.prototype._requestConfiguration=function(){return this.otherConfig.isControl?Promise.resolve(H()):this._send("config").catch((function(t){return O("UdfCompatibleDatafeed: Cannot get datafeed configuration - use default, error="+j(t)),null}))},t.prototype._send=function(t,e){return this._requester.sendRequest(this._datafeedURL,t,e)},t.prototype._setupWithConfiguration=function(t){if(this._configuration=t,void 0===t.exchanges&&(t.exchanges=[]),!t.supports_search&&!t.supports_group_request)throw new Error("Unsupported datafeed configuration. Must either support search, or support group request");!t.supports_group_request&&t.supports_search||(this._symbolsStorage=new A(this._datafeedURL,t.supported_resolutions||[],this._requester)),O("UdfCompatibleDatafeed: Initialized with "+JSON.stringify(t))},t.prototype.setSymbolInfo=function(t){this.otherConfig.symbolInfo=Object.assign({},t)},t}();function V(){return{supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1}}function H(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","1D"],supports_marks:!1,supports_timescale_marks:!1}}function J(t,e){t||console.error("产品symbolId不存在");var n=Object(s["a"])({timezone:"Etc/UTC",minmov:1,minmov2:0,pointvalue:1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:"",type:"stock",supported_resolutions:Object.keys(c["e"]),pricescale:1e17,has_weekly_and_monthly:!0},U(e));return n}function U(t){var e={name:t.description,description:t.description,symbolId:t.symbolId,pricescale:Math.pow(10,t.digits)};return e}var F=function(){function t(t,e){this._datafeedUrl=t,this._requester=e}return t.prototype.getQuotes=function(t){var e=this;return new Promise((function(n,i){e._requester.sendRequest(e._datafeedUrl,"quotes",{symbols:t}).then((function(t){"ok"===t.s?n(t.d):i(t.errmsg)})).catch((function(t){var e=j(t);O("QuotesProvider: getQuotes failed, error="+e),i("network error: "+e)}))}))},t}(),$=(n("a15b"),function(){function t(t){t&&(this._headers=t)}return t.prototype.sendRequest=function(t,e,n){if(void 0!==n){var i=Object.keys(n);0!==i.length&&(e+="?"),e+=i.map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t].toString())})).join("&")}O("New request: "+e);var o={credentials:"same-origin"};return void 0!==this._headers&&(o.headers=this._headers),fetch(t+"/"+e,o).then((function(t){return t.text()})).then((function(t){return JSON.parse(t)}))},t}()),W=function(t){function e(e,n,i){void 0===i&&(i=500);var o=this,r=new $,a=new F(e,r);return o=t.call(this,e,a,r,i,n)||this,o}return v(e,t),e}(N);function K(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b(Q,e)}var Q=function(){function t(e){var n=this,i=e.containerId,o=e.initial,r=e.property,a=void 0===r?{}:r,s=e.indicators,c=void 0===s?[]:s,d=e.extension,p=void 0===d?{}:d,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Object(u["a"])(this,t),Object(h["a"])(this,"setSymbol",(function(t){return n.symbolId=t.symbolId,n.datafeed.setSymbolInfo(t),new Promise((function(e,i){n.widget.activeChart().setSymbol(n.symbolId+"",(function(){n._setPrecisionForStudies(t.digits),n.updateProperty(n.property),e(n.symbolId),console.log("%c切换产品: ".concat(JSON.stringify(t)),"color:green")}))}))})),Object(h["a"])(this,"setChartType",(function(t){"number"===typeof t&&n.widget.activeChart().setChartType(t)})),Object(h["a"])(this,"setResolution",(function(t){console.log("setResolution:",t),n.widget.activeChart().setResolution(t,(function(){console.log("%c切换周期: ".concat(t),"color:green")}))})),Object(h["a"])(this,"updateLineData",(function(t){var e=t.buyPrice,i=t.sellPrice;n.buyPrice=e,n.sellPrice=i,n._setLine(n.property),n.priceBox&&(n.priceBox.setSellPrice(i),n.priceBox.setBuyPrice(e))})),Object(h["a"])(this,"updateIndicator",(function(t){if(!t)return[];Array.isArray(t)||(t=[t]);var e=n.widget.activeChart().getAllStudies(),i={};e.forEach((function(t){i[t.name]=!0}));var o=t.filter((function(t){return!i[t.name]})),r=n._indicatorsEntity.filter((function(e){return!t.find((function(t){return t.name===e.name}))}));o.forEach((function(t){var e;(e=n.widget.activeChart()).createStudy.apply(e,[t.name].concat(Object(l["a"])(t.params),[{precision:n.initial.digits}])).then((function(e){n._indicatorsEntity.push({name:t.name,id:e})}))})),r.forEach((function(t){n.widget.activeChart().removeEntity(t.id),n._indicatorsEntity=n._indicatorsEntity.filter((function(e){return e.id!==t.id}))}))})),Object(h["a"])(this,"subscribe",(function(t,e){n._listener[t].push((function(){try{for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(this,n)}catch(o){console.error(o)}}))})),Object(h["a"])(this,"destroyed",(function(){while(n._destroyedFns.length){var t=n._destroyedFns.shift();t()}})),this.initial={description:o.description,symbolId:o.symbolId,digits:o.digits},this.buyPrice="",this.sellPrice="",this.symbolId=o.symbolId,this.property=a,this.extension=p,this.containerId=i,this.elm=document.querySelector(i),this.containerHeight=this.elm.offsetHeight,this.chartReadyCallback=f,this.datafeed=new W("",{isControl:!0,symbolInfo:o}),this.indicators=c,this._indicatorsEntity=[],this._orientation="portrait",this._linesMap={},this._positionLines=[],this._listener={isLandscape:[],click:[]},this._nativeListener=[],this._destroyedFns=[],this._firstInit=!0,this._init()}return Object(d["a"])(t,[{key:"_init",value:function(){var t=this;this.destroyed();var e=this.initial,n=this.containerHeight,i=this.datafeed,o=this.containerId;if(n&&e){console.group("%c当前产品:⬇","color:green"),console.log(JSON.stringify(e)),console.groupEnd();var r=Object(s["a"])({},this._options);this._firstInit||this.widget.save((function(t){return r.saved_data=t})),this.widget=window.tvWidget=new window.TradingView.widget(Object(s["a"])(Object(s["a"])({},r),{},{datafeed:i,container_id:o.slice(1),symbol:this.symbolId,interval:"1",locale:"zh"})),this.widget.onChartReady((function(){t.updateIndicator(t.indicators),t.updateProperty(t.property),t._addPriceBox(),t._bindEvent(),t._firstInit&&"portrait"===t._orientation&&[90,-90].includes(window.orientation)&&t._setStyle("landscape"),t._firstInit=!1,t.chartReadyCallback()}))}}},{key:"_bindEvent",value:function(){this._bindResize(),this._bindClick()}},{key:"_bindResize",value:function(){var t=this;if(this.extension.fullScreen){this._addFullScreenBtn();var e=Z((function(){0===window.orientation&&"portrait"!==t._orientation?t._toggleFullScreen("portrait"):90!==window.orientation&&-90!==window.orientation||"landscape"===t._orientation||t._toggleFullScreen("landscape")}),300);window.addEventListener("resize",e),this._destroyedFns.push((function(){window.removeEventListener("resize",e)}))}}},{key:"_bindClick",value:function(){var t=this,e=this.elm.querySelector("iframe").contentWindow,n=!1,i="",o=function(){"mouseDown"===i&&(i="mouseMove")};e.addEventListener("touchmove",o),this._destroyedFns.push((function(){e.removeEventListener("touchmove",o)}));var r=function(){i="mouseDown"},a=function(e){setTimeout((function(){var e=i;i="mouseUp",n||"mouseMove"===e||t._listener["click"].forEach((function(t){return t()}))}),0)};this.widget.subscribe("mouse_down",r),this.widget.subscribe("mouse_up",a),this.widget.subscribe("drawing_event",(function(t,e){switch(e){case"remove":n=!1;break;case"click":n=!0;break;default:n=!1}})),this.widget.subscribe("drawing",(function(){n=!0})),this.widget.subscribe("undo_redo_state_changed",(function(){setTimeout((function(){n=!1}),50)}))}},{key:"_createStudies",value:function(t){var e=this;this.indicators.forEach((function(n){var i;(i=e.widget.activeChart()).createStudy.apply(i,[n.name].concat(Object(l["a"])(n.params),[{precision:t.digits}]))}))}},{key:"_addPriceBox",value:function(){var t=this.elm.querySelector("iframe").contentWindow;this.priceBox=X(t,this.sellPrice,this.buyPrice,this.property.showPriceBox)}},{key:"togglePriceBox",value:function(t){t?this.priceBox.show():this.priceBox.hide()}},{key:"_addFullScreenBtn",value:function(){var t=this,e=this.sellPrice?this.sellPrice.length:10;Y({el:this.elm.querySelector("iframe"),type:"landscape",style:{right:11*e+"px"}},(function(){t._toggleFullScreen("portrait"===t._orientation?"landscape":"portrait")}))}},{key:"_toggleFullScreen",value:function(t){this._orientation=t,this._init(),this._setStyle(t)}},{key:"_setStyle",value:function(t){this._orientation=t,"landscape"===t?(this._setLandscape(),this._listener["isLandscape"].forEach((function(t){return t(!0)}))):(this._setPortrait(),this._listener["isLandscape"].forEach((function(t){return t(!1)})))}},{key:"_setLandscape",value:function(){var t=this.elm,e=window.innerWidth,n=window.innerHeight;if(90===window.orientation||-90===window.orientation){var i=[n,e];e=i[0],n=i[1]}var o={width:n+"px",height:e+"px",top:(n-e)/2+"px",left:-(n-e)/2+"px"};document.body.scrollTop=0,t.style.width=o.width,t.style.height=o.height,t.style.top=o.top,t.style.left=o.left}},{key:"_setPortrait",value:function(){var t=this.elm;t.style.width=null,t.style.height=null,t.style.top=null,t.style.left=null}},{key:"_setPrecisionForStudies",value:function(t){var e=this.widget.activeChart();e.getAllStudies().forEach((function(n){e.getStudyById(n.id).applyOverrides({precision:t})}))}},{key:"_setLine",value:function(t){var e=this._linesMap,n=this.symbolId;!e[n]&&(e[n]={});var i=e[n];"boolean"===typeof t.showBuyPrice&&(t.showBuyPrice?i.buyPriceLine?i.buyPriceLine.setPrice(this.buyPrice):i.buyPriceLine=this.widget.activeChart().createOrderLine().setPrice(this.buyPrice).setText("").setLineStyle(0).setLineColor("#e3525c").setQuantity(!1):i.buyPriceLine&&(i.buyPriceLine.remove(),i.buyPriceLine=null)),"boolean"===typeof t.showSellPrice&&(t.showSellPrice?i.sellPriceLine?i.sellPriceLine.setPrice(this.sellPrice):i.sellPriceLine=this.widget.activeChart().createOrderLine().setPrice(this.sellPrice).setText("").setLineStyle(0).setLineColor("#10b873").setQuantity(!1):i.sellPriceLine&&(i.sellPriceLine.remove(),i.sellPriceLine=null))}},{key:"_resolveFn",value:function(t,e){var n=this,i=e;switch(t){case"study_event":i=function(t,i){var o=n._indicatorsEntity.find((function(e){return e.id===t}));e(o?o.name:"",i)};break}return i}},{key:"_applyOverrides",value:function(t){var e=this._setProperty(t,{});this.widget.applyOverrides(e)}},{key:"_setProperty",value:function(t,e){return Object.keys(t||{}).forEach((function(n){["showSeriesTitle","showSeriesOHLC","showBarChange"].includes(n)?e["paneProperties.legendProperties.".concat(n)]=t[n]:"showLastPrice"===n&&(e["mainSeriesProperties.showPriceLine"]=t[n],e["scalesProperties.showSeriesLastValue"]=t[n])})),e}},{key:"nativeSubscribe",value:function(t,e){e=this._resolveFn(t,e),this._nativeListener[t]=[].concat(Object(l["a"])(this._nativeListener[t]||[]),[e]),this.widget.subscribe(t,e)}},{key:"updateProperty",value:function(t){Object.assign(this.property,t),this._applyOverrides(t),t.property&&this.setChartType(t.property.chartType),"boolean"===typeof t.showPositionPrice&&!t.showPositionPrice&&this.updatePosition()}},{key:"setTick",value:function(t,e){this.datafeed._historyProvider.onTick(t,e)}},{key:"updatePosition",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];while(this._positionLines.length)this._positionLines.pop().remove();this.property.showPositionPrice&&(this._positionLines=e.map((function(e){var n=e.text,i=e.quantity,o=e.price,r=e.color,a=t.widget.activeChart().createOrderLine().setPrice(o).setText(n).setExtendLeft(!1).setLineStyle(0).setQuantity(i).setQuantityBackgroundColor(r).setBodyBorderColor(r).setLineColor(r).setQuantityBorderColor(r).setLineLength(55);return a})))}},{key:"_options",get:function(){var t=this,e=null;return e=this.fullScreen&&this._firstInit&&"portrait"===this._orientation&&[90,-90].includes(window.orientation)?Object(c["c"])():"portrait"===this._orientation?Object(c["d"])():Object(c["c"])(),["theme"].forEach((function(n){t.extension[n]&&(e[n]=t.extension[n])})),Object.assign(e.overrides,this._setProperty(this.property,{})),e}}]),t}();function Y(t,e){var n=t.el,i=t.type,o=t.fillColor,r=void 0===o?"#ccc":o,a=t.style,s=void 0===a?{}:a,c="landscape"===i,l=document.createElement("div");l.classList.add("fullScreenBtn"),l.innerHTML=c?G({fillColor:r},"landscape"):G({fillColor:r}),l.addEventListener("click",e),l.style.right=s.right,n.contentWindow.document.body.appendChild(l)}function G(t,e){var n=t.fillColor;return"landscape"===e?'<svg t="1621511438709" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10429"><path d="M625.777778 568.888889h341.333333c34.133333 0 56.888889 22.755556 56.888889 56.888889s-22.755556 56.888889-56.888889 56.888889h-199.111111l238.933333 238.933333c22.755556 22.755556 22.755556 62.577778 0 85.333333-22.755556 22.755556-62.577778 22.755556-85.333333 0L682.666667 768V967.111111c0 34.133333-22.755556 56.888889-56.888889 56.888889s-56.888889-22.755556-56.888889-56.888889v-341.333333c0-34.133333 22.755556-56.888889 56.888889-56.888889zM56.888889 341.333333h199.111111L17.066667 108.088889C-5.688889 85.333333-5.688889 45.511111 17.066667 22.755556S79.644444 0 102.4 22.755556L341.333333 256V56.888889c0-34.133333 22.755556-56.888889 56.888889-56.888889s56.888889 22.755556 56.888889 56.888889v341.333333c0 34.133333-22.755556 56.888889-56.888889 56.888889H56.888889c-28.444444 0-56.888889-22.755556-56.888889-56.888889s28.444444-56.888889 56.888889-56.888889z" fill="'.concat(n,'" p-id="10430"></path></svg>'):'<svg t="1621511137390" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9915" data-spm-anchor-id="a313x.7781069.0.i9"><path d="M967.111111 1024h-342.869333a56.888889 56.888889 0 0 1-56.888889-56.888889v-0.455111a56.888889 56.888889 0 0 1 56.888889-56.888889h197.916444l-236.088889-236.088889a61.952 61.952 0 0 1 87.608889-87.608889l236.088889 236.088889v-197.916444a56.888889 56.888889 0 0 1 56.888889-56.888889H967.111111a56.888889 56.888889 0 0 1 56.888889 56.888889V967.111111a56.888889 56.888889 0 0 1-56.888889 56.888889zM398.222222 113.777778H201.045333l235.178667 235.178666a61.724444 61.724444 0 1 1-87.267556 87.267556L113.777778 201.045333V398.222222a56.888889 56.888889 0 0 1-113.777778 0V56.888889a56.888889 56.888889 0 0 1 56.888889-56.888889h341.333333a56.888889 56.888889 0 0 1 0 113.777778z" fill="'.concat(n,'" p-id="9916"></path></svg>')}function X(t,e,n,i){var o=t.document.querySelector(".noWrap-ODIQgNap"),r=document.createElement("div");r.classList.add("price-box"),!i&&r.classList.add("hide"),r.innerHTML="<div class='block sell'>\n                        <span class='num'>\n                            ".concat(e,"\n                        </span>\n                        <span class='text'>\n                            sell\n                        </span>\n                    </div>\n                    <div class='block buy'>\n                        <span class='num'>\n                            ").concat(n,"\n                        </span>\n                        <span class='text'>\n                            buy\n                        </span>\n                    </div>");var a=r.querySelector(".sell .num"),s=r.querySelector(".buy .num");o&&o.appendChild(r);var c=0,l=function(t){Number(c)<Number(t)?(r.classList.add("rise"),r.classList.remove("fall")):(r.classList.add("fall"),r.classList.remove("rise")),a.innerText=t,c=t},u=function(t){s.innerText=t},d=function(){r.classList.remove("hide")},h=function(){r.classList.add("hide")};return{setSellPrice:l,setBuyPrice:u,show:d,hide:h}}function Z(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];if(e&&clearTimeout(e),i){var c=!e;e=setTimeout((function(){e=null}),n),c&&t.apply(this,a)}else e=setTimeout((function(){t.apply(o,a)}),n)}}var tt={props:{initialValue:{type:Object,default:null},options:{type:Object,default:function(){return{}}}},setup:function(t,e){var n=Object(i["I"])([90,-90].includes(window.orientation)),o=Object.keys(c["e"]).map((function(t){return{text:c["f"][t],value:t}})),r=Object(i["I"])(null);Object(i["A"])((function(){var o=t.options;r.value=K({containerId:"#tv-chart-container",initial:Object(s["a"])({},t.initialValue),property:o.property,indicators:o.indicators,extension:o.extension},(function(){Object(i["R"])(r).subscribe("isLandscape",(function(t){n.value=t,e.emit("orientationChanged",t)})),Object(i["R"])(r).nativeSubscribe("study_event",(function(t,n){"remove"===n&&t&&e.emit("indicatorRemoved",t)})),e.emit("onChartReady")}))})),Object(i["B"])((function(){Object(i["R"])(r).destroyed()}));var a=function(){var t;(t=Object(i["R"])(r)).setChartType.apply(t,arguments)},l=function(t){Object(i["R"])(r).setSymbol(t).then((function(t){e.emit("symbolChanged",t)}))},u=function(){var t;(t=Object(i["R"])(r)).setResolution.apply(t,arguments)},d=function(){var t;(t=Object(i["R"])(r)).updateIndicator.apply(t,arguments)},h=function(){var t;(t=Object(i["R"])(r)).updateLineData.apply(t,arguments)},p=function(){var t;(t=Object(i["R"])(r)).updatePosition.apply(t,arguments)},f=function(){var t;(t=Object(i["R"])(r)).updateProperty.apply(t,arguments)},b=function(t,e){Object(i["R"])(r).setTick(t,e)};return{resolutionList:o,isLandscape:n,chart:r,setSymbol:l,setResolution:u,updateIndicator:d,updatePosition:p,setChartType:a,updateLineData:h,updateProperty:f,setTick:b}}};n("0373");tt.render=a,tt.__scopeId="data-v-e79e8368";e["a"]=tt},"3da2":function(t,e,n){"use strict";n.r(e);var i=n("f2bf"),o=Object(i["ab"])("data-v-9600369c"),r=o((function(t,e,n,r,a,s){var c=Object(i["L"])("SideMenu"),l=Object(i["L"])("tv"),u=Object(i["L"])("Indicator"),d=Object(i["L"])("van-popup"),h=Object(i["L"])("ChartSetting");return Object(i["D"])(),Object(i["i"])(i["a"],null,[Object(i["m"])("div",{class:["chartWrap",{landscape:r.isLandscape}]},[r.initialValue?(Object(i["D"])(),Object(i["i"])(l,{key:0,ref:"chartRef","initial-value":r.initialValue,options:r.chartConfig,"position-list":r.positionList,onChangeOrientation:r.changeOrientation,onIndicatorRemoved:r.indicatorRemoved,onSymbolChanged:r.symbolChanged},Object(i["k"])({_:2},[r.isLandscape?{name:"sideMenu",fn:o((function(){return[Object(i["m"])(c,{ref:r.sideMenuRef,chart:r.chartRef.chart,class:["side-menu-Component",{landscape:r.isLandscape}],onTogglePriceBox:r.togglePriceBox},null,8,["chart","class","onTogglePriceBox"])]}))}:void 0]),1032,["initial-value","options","position-list","onChangeOrientation","onIndicatorRemoved","onSymbolChanged"])):Object(i["j"])("",!0)],2),Object(i["m"])(d,{show:r.showIndicator,"onUpdate:show":e[1]||(e[1]=function(t){return r.showIndicator=t}),position:"right",style:{height:"100%",width:"100%"}},{default:o((function(){return[r.showIndicator?(Object(i["D"])(),Object(i["i"])(u,{key:0,onBack:r.onBack},null,8,["onBack"])):Object(i["j"])("",!0)]})),_:1},8,["show"]),Object(i["m"])(d,{show:r.showSetting,"onUpdate:show":e[2]||(e[2]=function(t){return r.showSetting=t}),position:"right",style:{height:"100%",width:"100%"}},{default:o((function(){return[Object(i["m"])(h,{onBackEvent:r.onBackEvent},null,8,["onBackEvent"])]})),_:1},8,["show"])],64)})),a=(n("4de4"),n("7db0"),n("d81d"),n("b0c0"),n("5530")),s=n("ade3"),c=(n("68ef"),n("cb51"),n("3743"),n("a71a"),n("4d75"),n("aed7"),n("c31d"));function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l.apply(this,arguments)}function u(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function d(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function h(t){var e=d(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function p(t){var e=d(t).Element;return t instanceof e||t instanceof Element}function f(t){var e=d(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function b(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function m(t){return t!==d(t)&&f(t)?b(t):h(t)}function v(t){return t?(t.nodeName||"").toLowerCase():null}function y(t){return((p(t)?t.ownerDocument:t.document)||window.document).documentElement}function O(t){return u(y(t)).left+h(t).scrollLeft}function j(t){return d(t).getComputedStyle(t)}function g(t){var e=j(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function _(t,e,n){void 0===n&&(n=!1);var i=y(e),o=u(t),r=f(e),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==v(e)||g(i))&&(a=m(e)),f(e)?(s=u(e),s.x+=e.clientLeft,s.y+=e.clientTop):i&&(s.x=O(i))),{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function w(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function S(t){return"html"===v(t)?t:t.assignedSlot||t.parentNode||t.host||y(t)}function P(t){return["html","body","#document"].indexOf(v(t))>=0?t.ownerDocument.body:f(t)&&g(t)?t:P(S(t))}function k(t,e){void 0===e&&(e=[]);var n=P(t),i="body"===v(n),o=d(n),r=i?[o].concat(o.visualViewport||[],g(n)?n:[]):n,a=e.concat(r);return i?a:a.concat(k(S(r)))}function C(t){return["table","td","th"].indexOf(v(t))>=0}function x(t){if(!f(t)||"fixed"===j(t).position)return null;var e=t.offsetParent;if(e){var n=y(e);if("body"===v(e)&&"static"===j(e).position&&"static"!==j(n).position)return n}return e}function L(t){var e=S(t);while(f(e)&&["html","body"].indexOf(v(e))<0){var n=j(e);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return e;e=e.parentNode}return null}function D(t){var e=d(t),n=x(t);while(n&&C(n)&&"static"===j(n).position)n=x(n);return n&&"body"===v(n)&&"static"===j(n).position?e:n||L(t)||e}var I="top",T="bottom",R="right",M="left",B="auto",z=[I,T,R,M],A="start",E="end",q=[].concat(z,[B]).reduce((function(t,e){return t.concat([e,e+"-"+A,e+"-"+E])}),[]),N="beforeRead",V="read",H="afterRead",J="beforeMain",U="main",F="afterMain",$="beforeWrite",W="write",K="afterWrite",Q=[N,V,H,J,U,F,$,W,K];function Y(t){var e=new Map,n=new Set,i=[];function o(t){n.add(t.name);var r=[].concat(t.requires||[],t.requiresIfExists||[]);r.forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&o(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||o(t)})),i}function G(t){var e=Y(t);return Q.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function X(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function Z(t){return t.split("-")[0]}function tt(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?l(l(l({},n),e),{},{options:l(l({},n.options),e.options),data:l(l({},n.data),e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}function et(t){return t.split("-")[1]}function nt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function it(t){var e,n=t.reference,i=t.element,o=t.placement,r=o?Z(o):null,a=o?et(o):null,s=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2;switch(r){case I:e={x:s,y:n.y-i.height};break;case T:e={x:s,y:n.y+n.height};break;case R:e={x:n.x+n.width,y:c};break;case M:e={x:n.x-i.width,y:c};break;default:e={x:n.x,y:n.y}}var l=r?nt(r):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case A:e[l]=Math.floor(e[l])-Math.floor(n[u]/2-i[u]/2);break;case E:e[l]=Math.floor(e[l])+Math.ceil(n[u]/2-i[u]/2);break}}return e}var ot={placement:"bottom",modifiers:[],strategy:"absolute"};function rt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function at(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,o=e.defaultOptions,r=void 0===o?ot:o;return function(t,e,n){void 0===n&&(n=r);var o={placement:"bottom",orderedModifiers:[],options:l(l({},ot),r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],s=!1,c={state:o,setOptions:function(n){d(),o.options=l(l(l({},r),o.options),n),o.scrollParents={reference:p(t)?k(t):t.contextElement?k(t.contextElement):[],popper:k(e)};var a=G(tt([].concat(i,o.options.modifiers)));return o.orderedModifiers=a.filter((function(t){return t.enabled})),u(),c.update()},forceUpdate:function(){if(!s){var t=o.elements,e=t.reference,n=t.popper;if(rt(e,n)){o.rects={reference:_(e,D(n),"fixed"===o.options.strategy),popper:w(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(t){return o.modifiersData[t.name]=l({},t.data)}));for(var i=0;i<o.orderedModifiers.length;i++)if(!0!==o.reset){var r=o.orderedModifiers[i],a=r.fn,u=r.options,d=void 0===u?{}:u,h=r.name;"function"===typeof a&&(o=a({state:o,options:d,name:h,instance:c})||o)}else o.reset=!1,i=-1}}},update:X((function(){return new Promise((function(t){c.forceUpdate(),t(o)}))})),destroy:function(){d(),s=!0}};if(!rt(t,e))return c;function u(){o.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,r=t.effect;if("function"===typeof r){var s=r({state:o,name:e,instance:c,options:i}),l=function(){};a.push(s||l)}}))}function d(){a.forEach((function(t){return t()})),a=[]}return c.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),c}}var st={passive:!0};function ct(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,r=void 0===o||o,a=i.resize,s=void 0===a||a,c=d(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&l.forEach((function(t){t.addEventListener("scroll",n.update,st)})),s&&c.addEventListener("resize",n.update,st),function(){r&&l.forEach((function(t){t.removeEventListener("scroll",n.update,st)})),s&&c.removeEventListener("resize",n.update,st)}}var lt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ct,data:{}};function ut(t){var e=t.state,n=t.name;e.modifiersData[n]=it({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var dt={name:"popperOffsets",enabled:!0,phase:"read",fn:ut,data:{}},ht={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pt(t){var e=t.x,n=t.y,i=window,o=i.devicePixelRatio||1;return{x:Math.round(e*o)/o||0,y:Math.round(n*o)/o||0}}function ft(t){var e,n=t.popper,i=t.popperRect,o=t.placement,r=t.offsets,a=t.position,s=t.gpuAcceleration,c=t.adaptive,u=pt(r),h=u.x,p=u.y,f=r.hasOwnProperty("x"),b=r.hasOwnProperty("y"),m=M,v=I,O=window;if(c){var j=D(n);j===d(n)&&(j=y(n)),o===I&&(v=T,p-=j.clientHeight-i.height,p*=s?1:-1),o===M&&(m=R,h-=j.clientWidth-i.width,h*=s?1:-1)}var g,_=l({position:a},c&&ht);return l(l({},_),{},s?(g={},g[v]=b?"0":"",g[m]=f?"0":"",g.transform=(O.devicePixelRatio||1)<2?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",g):(e={},e[v]=b?p+"px":"",e[m]=f?h+"px":"",e.transform="",e))}function bt(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,a=void 0===r||r,s={placement:Z(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};null!=e.modifiersData.popperOffsets&&(e.styles.popper=l(l({},e.styles.popper),ft(l(l({},s),{},{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=l(l({},e.styles.arrow),ft(l(l({},s),{},{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=l(l({},e.attributes.popper),{},{"data-popper-placement":e.placement})}var mt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bt,data:{}};function vt(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];f(o)&&v(o)&&(l(o.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))}function yt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return l(e.elements.popper.style,n.popper),e.elements.arrow&&l(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],o=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]),a=r.reduce((function(t,e){return t[e]="",t}),{});f(i)&&v(i)&&(l(i.style,a),Object.keys(o).forEach((function(t){i.removeAttribute(t)})))}))}}var Ot={name:"applyStyles",enabled:!0,phase:"write",fn:vt,effect:yt,requires:["computeStyles"]},jt=[lt,dt,mt,Ot],gt=at({defaultModifiers:jt});function _t(t,e,n){var i=Z(t),o=[M,I].indexOf(i)>=0?-1:1,r="function"===typeof n?n(l(l({},e),{},{placement:t})):n,a=r[0],s=r[1];return a=a||0,s=(s||0)*o,[M,R].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}function wt(t){var e=t.state,n=t.options,i=t.name,o=n.offset,r=void 0===o?[0,0]:o,a=q.reduce((function(t,n){return t[n]=_t(n,e.rects,r),t}),{}),s=a[e.placement],c=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[i]=a}var St={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wt},Pt=n("d282"),kt=n("b1d2"),Ct=n("9cf2"),xt=n("ad06"),Lt=n("e41f");function Dt(t){return"function"===typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!Object(i["s"])(t)}var It=Object(Pt["a"])("popover"),Tt=It[0],Rt=It[1],Mt=Tt({props:{show:Boolean,overlay:Boolean,offset:{type:Array,default:function(){return[0,8]}},theme:{type:String,default:"light"},trigger:{type:String,default:"click"},actions:{type:Array,default:function(){return[]}},placement:{type:String,default:"bottom"},teleport:{type:[String,Object],default:"body"},closeOnClickAction:{type:Boolean,default:!0}},emits:["select","touchstart","update:show"],setup:function(t,e){var n,o=e.emit,r=e.slots,a=e.attrs,s=Object(i["I"])(),l=Object(i["I"])(),u=function(){return gt(s.value,l.value.popupRef.value,{placement:t.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},Object(c["a"])({},St,{options:{offset:t.offset}})]})},d=function(){Object(i["u"])((function(){t.show&&(n?n.setOptions({placement:t.placement}):n=u())}))},h=function(t){o("update:show",t)},p=function(){"click"===t.trigger&&h(!t.show)},f=function(t){t.stopPropagation(),o("touchstart",t)},b=function(e,n){e.disabled||(o("select",e,n),t.closeOnClickAction&&h(!1))},m=function(){h(!1)},v=function(t,e){var n=t.icon,o=t.text,r=t.disabled,a=t.className;return Object(i["m"])("div",{role:"menuitem",class:[Rt("action",{disabled:r,"with-icon":n}),a],onClick:function(){return b(t,e)}},[n&&Object(i["m"])(xt["a"],{name:n,class:Rt("action-icon")},null),Object(i["m"])("div",{class:[Rt("action-text"),kt["a"]]},Dt(o)?o:{default:function(){return[o]}})])};return Object(i["A"])(d),Object(i["x"])((function(){n&&(n.destroy(),n=null)})),Object(i["V"])([function(){return t.show},function(){return t.placement}],d),Object(Ct["a"])(s,m,{eventName:"touchstart"}),function(){return Object(i["m"])(i["a"],null,[Object(i["m"])("span",{ref:s,class:Rt("wrapper"),onClick:p},[null==r.reference?void 0:r.reference()]),Object(i["m"])(Lt["a"],Object(i["t"])({ref:l,show:t.show,class:Rt([t.theme]),overlay:t.overlay,position:null,teleport:t.teleport,transition:"van-popover-zoom",lockScroll:!1,onTouchstart:f},Object(c["a"])({},a,{"onUpdate:show":h})),{default:function(){return[Object(i["m"])("div",{class:Rt("arrow")},null),Object(i["m"])("div",{role:"menu",class:Rt("content")},[r.default?r.default():t.actions.map(v)])]}})])}}}),Bt=n("3d18"),zt=n("5502"),At=n("2ae1"),Et=n("6c02"),qt=n("e13f"),Nt=n("ca00"),Vt=Object(i["ab"])("data-v-531f7eac");Object(i["G"])("data-v-531f7eac");var Ht={class:"left"},Jt={class:"right"};Object(i["E"])();var Ut=Vt((function(t,e,n,o,r,a){var s=Object(i["L"])("Indicator"),c=Object(i["L"])("van-popup"),l=Object(i["L"])("ChartSetting");return o.showSelf?(Object(i["D"])(),Object(i["i"])("div",{key:0,ref:function(t){return o.componentRef=t}},[Object(i["m"])("div",{class:"side-menu",onClick:e[1]||(e[1]=function(){return o.showSelf=!1})},[Object(i["m"])("div",Ht,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(o.resolutionList,(function(t){return Object(i["D"])(),Object(i["i"])("span",{key:t.value,class:"item",onClick:function(e){return n.chart.setResolution(t.value)}},Object(i["P"])(t.text),9,["onClick"])})),128))]),Object(i["m"])("div",Jt,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(o.rightMenu,(function(t){return Object(i["D"])(),Object(i["i"])("div",{key:t.value,class:"item",onClick:Object(i["Z"])(t.method,["stop"])},[Object(i["m"])("i",{class:["icon",t.icon]},null,2)],8,["onClick"])})),128))])]),o.componentRef?(Object(i["D"])(),Object(i["i"])(c,{key:0,show:o.showIndicator,"onUpdate:show":e[2]||(e[2]=function(t){return o.showIndicator=t}),position:"right",style:{height:"100%",width:"100%"},teleport:o.componentRef},{default:Vt((function(){return[o.showIndicator?(Object(i["D"])(),Object(i["i"])(s,{key:0,onBack:o.onBack},null,8,["onBack"])):Object(i["j"])("",!0)]})),_:1},8,["show","teleport"])):Object(i["j"])("",!0),o.componentRef?(Object(i["D"])(),Object(i["i"])(c,{key:1,show:o.showSetting,"onUpdate:show":e[3]||(e[3]=function(t){return o.showSetting=t}),position:"right",style:{height:"100%",width:"100%"},teleport:o.componentRef},{default:Vt((function(){return[o.showSetting?(Object(i["D"])(),Object(i["i"])(l,{key:0,onBackEvent:o.onBackEvent},null,8,["onBackEvent"])):Object(i["j"])("",!0)]})),_:1},8,["show","teleport"])):Object(i["j"])("",!0)],512)):Object(i["j"])("",!0)})),Ft=(n("b64b"),n("3b6b")),$t=Object(i["ab"])("data-v-3592030e");Object(i["G"])("data-v-3592030e");var Wt={class:"indicator-wrap"},Kt={class:"indicator"},Qt=Object(i["m"])("span",{class:"remark"}," 要添加指标，请点击窗口标题 ",-1);Object(i["E"])();var Yt,Gt=$t((function(t,e,n,o,r,a){var s=Object(i["L"])("van-nav-bar"),c=Object(i["L"])("van-cell"),l=Object(i["L"])("van-icon"),u=Object(i["L"])("van-button"),d=Object(i["L"])("van-swipe-cell"),h=Object(i["L"])("van-cell-group"),p=Object(i["L"])("StudyList"),f=Object(i["L"])("van-popup");return Object(i["D"])(),Object(i["i"])("div",Wt,[Object(i["m"])(s,{"left-arrow":"","left-text":"返回","right-text":o.isEdit?"完成":"编辑",title:"指标",onClickLeft:o.onClickLeft,onClickRight:o.onClickRight},null,8,["right-text","onClickLeft","onClickRight"]),Object(i["m"])("div",Kt,[Object(i["m"])(h,null,{default:$t((function(){return[Object(i["m"])(c,{class:"indicator-type","is-link":"",title:"主窗口",onClick:e[1]||(e[1]=function(t){return o.openStudyList("main")})}),(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(o.computedMainList,(function(t){return Object(i["D"])(),Object(i["i"])(d,{key:t.text,ref:function(e){return o.refMap[t.text]=e},"before-close":function(e){return o.beforeClose(e,t)},class:"item",disabled:""},{left:$t((function(){return[Object(i["m"])("div",{class:"left",onClick:function(e){return o.openRight(o.refMap[t.text])}},[Object(i["m"])(l,{name:"clear"})],8,["onClick"])]})),right:$t((function(){return[Object(i["m"])(u,{square:"",text:"删除",type:"danger",onClick:function(e){return o.onDelete(t.name)}},null,8,["onClick"])]})),default:$t((function(){return[Object(i["m"])(c,{title:t.text,value:t.value},null,8,["title","value"])]})),_:2},1032,["before-close"])})),128)),Object(i["m"])(c,{class:"indicator-type","is-link":"",title:"指标窗口",onClick:e[2]||(e[2]=function(t){return o.openStudyList("sub")})}),(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(o.computedSubList,(function(t){return Object(i["D"])(),Object(i["i"])(d,{key:t.value,ref:function(e){return o.refMap[t.text]=e},"before-close":function(e){return o.beforeClose(e,t)},class:"item",disabled:""},{left:$t((function(){return[Object(i["m"])("div",{class:"left",onClick:function(e){return o.openRight(o.refMap[t.text])}},[Object(i["m"])(l,{name:"clear"})],8,["onClick"])]})),right:$t((function(){return[Object(i["m"])(u,{square:"",text:"删除",type:"danger",onClick:function(e){return o.onDelete(t.name)}},null,8,["onClick"])]})),default:$t((function(){return[Object(i["m"])(c,{title:t.text,value:t.value},null,8,["title","value"])]})),_:2},1032,["before-close"])})),128))]})),_:1}),Qt]),Object(i["m"])(f,{show:o.showMainStudy,"onUpdate:show":e[4]||(e[4]=function(t){return o.showMainStudy=t}),position:"right",style:{height:"100%",width:"100%"}},{default:$t((function(){return[o.showMainStudy?(Object(i["D"])(),Object(i["i"])(p,{key:0,type:o.indicatorType,onAddStudy:o.addStudy,onBack:e[3]||(e[3]=function(t){return o.showMainStudy=!1})},null,8,["type","onAddStudy"])):Object(i["j"])("",!0)]})),_:1},8,["show"])])})),Xt=(n("99af"),n("4160"),n("159b"),n("2909")),Zt=(n("2221"),n("1325")),te=n("482d"),ee=n("7e3e"),ne=n("8c53"),ie=n("cdd8"),oe=n("4eda"),re=Object(Pt["a"])("swipe-cell"),ae=re[0],se=re[1],ce=ae({props:{disabled:Boolean,leftWidth:[Number,String],rightWidth:[Number,String],beforeClose:Function,stopPropagation:Boolean,name:{type:[Number,String],default:""}},emits:["open","close","click"],setup:function(t,e){var n,o,r,a=e.emit,s=e.slots,c=Object(i["I"])(),l=Object(i["I"])(),u=Object(i["I"])(),d=Object(i["H"])({offset:0,dragging:!1}),h=Object(ie["a"])(),p=function(t){return t.value?Object(ne["a"])(t).width:0},f=Object(i["g"])((function(){return+t.leftWidth||p(l)})),b=Object(i["g"])((function(){return+t.rightWidth||p(u)})),m=function(e){n=!0,d.offset="left"===e?f.value:-b.value,a("open",{name:t.name,position:e})},v=function(e){d.offset=0,n&&(n=!1,a("close",{name:t.name,position:e}))},y=function(t){var e=Math.abs(d.offset),i=.15,o=n?1-i:i;if("left"===t||"right"===t){var r="left"===t?f.value:b.value;if(r&&e>r*o)return void m(t)}v()},O=function(e){t.disabled||(r=d.offset,h.start(e))},j=function(e){if(!t.disabled){var i=h.deltaX;if(h.move(e),h.isHorizontal()){o=!0,d.dragging=!0;var a=!n||i.value*r<0;a&&Object(Zt["a"])(e,t.stopPropagation),d.offset=Object(te["b"])(i.value+r,-b.value,f.value)}}},g=function(){d.dragging&&(d.dragging=!1,y(d.offset>0?"left":"right"),setTimeout((function(){o=!1}),0))},_=function(e){void 0===e&&(e="outside"),a("click",e),n&&!o&&Object(ee["a"])({interceptor:t.beforeClose,args:[{name:t.name,position:e}],done:function(){v(e)}})},w=function(t,e){return function(n){e&&n.stopPropagation(),_(t)}},S=function(t,e){if(s[t])return Object(i["m"])("div",{ref:e,class:se(t),onClick:w(t,!0)},[s[t]()])};return Object(oe["a"])({open:m,close:v}),Object(Ct["a"])(c,_,{eventName:"touchstart"}),function(){var t={transform:"translate3d("+d.offset+"px, 0, 0)",transitionDuration:d.dragging?"0s":".6s"};return Object(i["m"])("div",{ref:c,class:se(),onClick:w("cell"),onTouchstart:O,onTouchmove:j,onTouchend:g,onTouchcancel:g},[Object(i["m"])("div",{class:se("wrapper"),style:t},[S("left",l),null==s.default?void 0:s.default(),S("right",u)])])}}}),le=(n("5246"),n("6b41")),ue=n("c264"),de={name:"Indicator",components:(Yt={},Object(s["a"])(Yt,le["a"].name,le["a"]),Object(s["a"])(Yt,ce.name,ce),Object(s["a"])(Yt,"StudyList",ue["a"]),Yt),emits:["back"],setup:function(t,e){var n=Object(i["I"])(!1),o=Object(i["I"])({});try{o.value=JSON.parse(Object(Nt["n"])("chartConfig"))||{}}catch(v){}var r={},a=Object(i["g"])((function(){var t;return(null===(t=Object(i["R"])(o).indicators)||void 0===t?void 0:t.filter((function(t){return t.params[0]})).map((function(t){return{text:t.label,name:t.name}})))||[]})),s=Object(i["g"])((function(){var t;return(null===(t=Object(i["R"])(o).indicators)||void 0===t?void 0:t.filter((function(t){return!t.params[0]})).map((function(t){return{text:t.label,name:t.name}})))||[]})),c=Object(i["I"])(!1),l=function(){e.emit("back")},u=function(){c.value=!c.value,c.value?Object.keys(r).forEach((function(t){return r[t]&&r[t].open("left")})):Object.keys(r).forEach((function(t){return r[t]&&r[t].close()}))},d=function(t){t.open("right")},h=function(t,e){var n=t.position,i=e.ref;"cell"===n&&(i.close("right"),i.open("left"))},p=Object(i["I"])(""),f=function(t){p.value=t,n.value=!0},b=function(t){t.type;var e,n=t.value;o.value=JSON.parse(Object(Nt["n"])("chartConfig"))||{},Object(i["R"])(o).indicators=[].concat(Object(Xt["a"])((null===(e=Object(i["R"])(o))||void 0===e?void 0:e.indicators)||[]),[n]),Object(Nt["o"])("chartConfig",JSON.stringify(Object(i["R"])(o)))},m=function(t){var e;o.value=JSON.parse(Object(Nt["n"])("chartConfig"))||{},Object(i["R"])(o).indicators=null===(e=Object(i["R"])(o))||void 0===e?void 0:e.indicators.filter((function(e){return e.name!==t})),Object(Nt["o"])("chartConfig",JSON.stringify(Object(i["R"])(o)))};return{computedMainList:a,computedSubList:s,onClickLeft:l,openRight:d,onClickRight:u,isEdit:c,beforeClose:h,showMainStudy:n,openStudyList:f,addStudy:b,onDelete:m,indicatorType:p,refMap:r}}};n("3cec");de.render=Gt,de.__scopeId="data-v-3592030e";var he=de,pe={components:{Indicator:he,ChartSetting:qt["default"]},props:{chart:{type:Object,default:null}},setup:function(t,e){var n=t.chart,o=Object(i["I"])(!1),r=Object(i["I"])({}),a=Object.keys(Ft["e"]).map((function(t){return{text:Ft["f"][t],value:t}})),s=Object(i["I"])(!1),c=function(){s.value=!1};Object(i["V"])(s,(function(t){t||(r.value=JSON.parse(Object(Nt["n"])("chartConfig"))||{},n.updateIndicator(Object(i["R"])(r).indicators))}));var l=Object(i["I"])(!1),u=function(){l.value=!1};Object(i["V"])(l,(function(t){t||(r.value=JSON.parse(Object(Nt["n"])("chartConfig"))||{},n.setChartType(Object(i["R"])(r).chartType),n.updateProperty(Object(i["R"])(r)))}));var d=function(t){r.value=JSON.parse(Object(Nt["n"])("chartConfig"))||{},Object(i["R"])(r).chartType=t,Object(Nt["o"])("chartConfig",JSON.stringify(Object(i["R"])(r))),n.updateProperty({chartType:t})},h=[{icon:"icon_yinyangzhu",method:function(){return d(1)}},{icon:"icon_zhuxingtu",method:function(){return d(0)}},{icon:"icon_tubiaoxian",method:function(){return d(2)}},{icon:"icon_f",method:function(){s.value=!0}},{icon:"icon_maimai",method:function(){e.emit("togglePriceBox")}},{icon:"icon_shezhi",method:function(){l.value=!0}}];Object(i["A"])((function(){n.subscribe("click",(function(){o.value=!0}))}));var p=Object(i["I"])(null);return{resolutionList:a,showIndicator:s,onBack:c,rightMenu:h,onBackEvent:u,showSetting:l,showSelf:o,componentRef:p}}};n("f217");pe.render=Ut,pe.__scopeId="data-v-531f7eac";var fe,be=pe,me={components:(fe={tv:Bt["a"]},Object(s["a"])(fe,Mt.name,Mt),Object(s["a"])(fe,"ChartSetting",qt["default"]),Object(s["a"])(fe,"SideMenu",be),Object(s["a"])(fe,"Indicator",he),fe),setup:function(){var t=this,e=Object(Et["e"])(),n=Object(Et["d"])(),o=Object(zt["c"])(),r=Object(i["g"])((function(){return o.state._quote.productList})),s=Object(i["g"])((function(){return o.state._trade.positionList})),c=Object(i["g"])((function(){return o.state._user.customerInfo}));c.value&&o.dispatch("_trade/queryPositionPage");var l=Object(i["I"])({property:{showBuyPrice:!0,showSellPrice:!0,showSeriesOHLC:!0,showBarChange:!0,chartType:"1",showSeriesTitle:!1}}),u=Object(i["I"])(null),d=Object(i["I"])(!1),h=Object(i["I"])(null),p=Object(i["I"])(!1),f=Object(i["I"])(!1),b=Object(i["I"])(!1),m=function(){b.value=!1};Object(i["V"])(b,(function(t){t||(Object.assign(l.value,JSON.parse(Object(Nt["n"])("chartConfig"))||{}),Object(i["R"])(u).chart.updateIndicator(Object(i["R"])(l).indicators))}));var v=Object(i["I"])(!1),y=function(){v.value=!0},O=function(){v.value=!1};Object(i["V"])(v,(function(t){t||(Object.assign(l.value,JSON.parse(Object(Nt["n"])("chartConfig"))||{}),Object(i["R"])(u).chart.setChartType(Object(i["R"])(l).property.chartType),Object(i["R"])(u).chart.updateProperty(Object(i["R"])(l)))}));var j=r.value.map((function(t){var e=t.symbolId;return e}));o.dispatch("_quote/querySymbolBaseInfoList",j),At["b"].send_subscribe(j);var g=Object(i["g"])((function(){return r.value.filter((function(t){return t.symbolName})).map((function(t){return{text:t.symbolName,description:t.symbolCode,symbolId:t.symbolId,digits:t.symbolDigits}}))})),_=Object(i["g"])((function(){if(!g.value.length)return null;var t=Object(Nt["n"])("symbolIdForChart");if(t){var e=g.value.find((function(e){return e.symbolId+""===t}));if(e)return e}return g.value[0]}));Object(i["V"])(_,(function(t){t&&Object(Nt["o"])("symbolIdForChart",t.symbolId)}));var w=function(){e.push({name:"Order",query:Object(a["a"])(Object(a["a"])({},n.query),{},{symbolId:Object(Nt["n"])("symbolIdForChart")||t.initialValue.value})})};try{Object.assign(l.value,JSON.parse(Object(Nt["n"])("chartConfig"))||{})}catch(L){console.error("图表缓存出错，进行清空"),Object(Nt["o"])("chartConfig","{}")}var S=function(){Object(i["R"])(l).property.showPriceBox=!Object(i["R"])(l).property.showPriceBox,Object(i["R"])(u).chart.togglePriceBox(Object(i["R"])(l).property.showPriceBox),Object(Nt["o"])("chartConfig",JSON.stringify(Object(i["R"])(l)))},P=function(t){Object(Nt["o"])("symbolIdForChart",t)},k=function(t){d.value=t,console.log("changeOrientation: ",t)},C=function(t){Object.assign(l.value,JSON.parse(Object(Nt["n"])("chartConfig"))||{}),Object(i["R"])(l).indicators=Object(i["R"])(l).indicators.filter((function(e){return e.name!==t})),Object(Nt["o"])("chartConfig",JSON.stringify(Object(i["R"])(l)))},x=function(t){Object(i["R"])(u).chart.setResolution(t)};return{computedProductList:g,initialValue:_,gotoOrder:w,onShowSetting:y,showSetting:v,onBackEvent:O,chartConfig:l,symbolChanged:P,isLandscape:d,changeOrientation:k,sideMenuRef:h,togglePriceBox:S,indicatorRemoved:C,showProductPopover:p,showResolutionPopover:f,onBack:m,showIndicator:b,chartRef:u,setResolution:x,positionList:s}}};n("6f94"),n("468a");me.render=r,me.__scopeId="data-v-9600369c";e["default"]=me},"3e395":function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#ff6d00"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#26c6da"},plot_2:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#fbc02d"}},precision:e,bands:[{color:"#808080",linestyle:2,linewidth:1,visible:!0,value:70},{color:"#808080",linestyle:2,linewidth:1,visible:!0,value:30}],filledAreasStyle:{fill_0:{color:"#800080",transparency:90,visible:!0}},inputs:{in_0:6,in_1:12,in_2:24}},plots:[{id:"plot_0",type:"line"},{id:"plot_1",type:"line"},{id:"plot_2",type:"line"}],styles:{plot_0:{title:"Plot",histogramBase:0,joinPoints:!1},plot_1:{title:"Plot",histogramBase:0,joinPoints:!1},plot_2:{title:"Plot",histogramBase:0,joinPoints:!1}},description:"Custom Relative Strength Index",shortDescription:"RSI",is_price_study:!1,bands:[{id:"hline_0",name:"UpperLimit"},{id:"hline_1",name:"LowerLimit"}],filledAreas:[{id:"fill_0",objAId:"hline_0",objBId:"hline_1",type:"hline_hline",title:"Hlines Background"}],inputs:[{id:"in_0",name:"Length",defval:6,type:"integer",min:1,max:2e3},{id:"in_1",name:"Length",defval:12,type:"integer",min:1,max:2e3},{id:"in_2",name:"Length",defval:24,type:"integer",min:1,max:2e3}],id:"Custom Relative Strength Index@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.f_0=function(e){return t.Std.max(e,0)},this.f_1=function(e){return-t.Std.min(e,0)},this.f_2=function(e,n){return t.Std.eq(e,0)?100:t.Std.eq(n,0)?0:100-100/(1+n/e)},this.main=function(e,n){var i,o,r,a,s,c,l,u,d,h,p,f,b,m,v,y;return this._context=e,this._input=n,i=t.Std.close(this._context),o=this._input(0),r=this._input(1),a=this._input(2),s=this._context.new_var(i),c=t.Std.change(s),l=this.f_0(c),u=this._context.new_var(l),d=t.Std.rma(u,o,this._context),h=t.Std.rma(u,r,this._context),p=t.Std.rma(u,a,this._context),f=this.f_1(c),b=this._context.new_var(f),m=t.Std.rma(b,o,this._context),v=t.Std.rma(b,r,this._context),y=t.Std.rma(b,a,this._context),[this.f_2(m,d),this.f_2(v,h),this.f_2(y,p)]}}}}},"45fc":function(t,e,n){"use strict";var i=n("23e7"),o=n("b727").some,r=n("a640"),a=n("ae40"),s=r("some"),c=a("some");i({target:"Array",proto:!0,forced:!s||!c},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"468a":function(t,e,n){"use strict";n("68b9")},"4ae1":function(t,e,n){var i=n("23e7"),o=n("d066"),r=n("1c0b"),a=n("825a"),s=n("861d"),c=n("7c73"),l=n("0538"),u=n("d039"),d=o("Reflect","construct"),h=u((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),p=!u((function(){d((function(){}))})),f=h||p;i({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(t,e){r(t),a(e);var n=arguments.length<3?t:r(arguments[2]);if(p&&!h)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var o=n.prototype,u=c(s(o)?o:Object.prototype),f=Function.apply.call(t,u,e);return s(f)?f:u}})},"54da":function(t,e,n){},5740:function(t,e,n){"use strict";n("54da")},"585c":function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"red"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"blue"},plot_2:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"green"}},precision:e,inputs:{in_0:9,in_1:3,in_2:3}},plots:[{id:"plot_0",type:"line"},{id:"plot_1",type:"line"},{id:"plot_2",type:"line"}],styles:{plot_0:{title:"Drawings",histogramBase:0,joinPoints:!1},plot_1:{title:"Drawings",histogramBase:0,joinPoints:!1},plot_2:{title:"Drawings",histogramBase:0,joinPoints:!1}},description:"Custom KDJ",shortDescription:"KDJ",is_price_study:!1,inputs:[{id:"in_0",name:"Period",defval:9,type:"integer",min:1,max:2e3},{id:"in_1",name:"Signal",defval:3,type:"integer",min:1,max:2e3},{id:"in_2",name:"Signal",defval:3,type:"integer",min:1,max:2e3}],id:"Custom K D J/Divergence@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.main=function(e,n){var i=n(0),o=n(1),r=n(2),a=t.Std.close(e),s=t.Std.high(e),c=t.Std.low(e),l=e.new_var(s),u=e.new_var(c),d=a,h=t.Std.lowest(u,i),p=t.Std.highest(l,i),f=(d-h)/(p-h)*100,b=isNaN(this.prevK)?50:this.prevK,m=isNaN(this.prevD)?50:this.prevD,v=(o-1)/o*b+1/o*f,y=(r-1)/r*m+1/r*v,O=3*v-2*y;return this.prevK=v,this.prevD=y,[v,y,O]}}}}},"68b9":function(t,e,n){},"6ea0":function(t,e,n){"use strict";n("2ded")},"6f94":function(t,e,n){"use strict";n("061c")},"83cb":function(t,e,n){var i={"./EMA.js":"a477","./KDJ.js":"585c","./MA.js":"eb37","./MACD.js":"150b","./RSI.js":"3e395","./WR.js":"ed9f","./index.js":"ad16"};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="83cb"},"89dc":function(t,e,n){"use strict";n("33f6")},"927a":function(t,e,n){"use strict";n("1614")},"98ea":function(t,e,n){"use strict";n("12a3")},a477:function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#ff6d00"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#26c6da"}},precision:e,inputs:{in_0:12,in_1:26,in_2:"close",in_3:0}},plots:[{id:"plot_0",type:"line"},{id:"plot_1",type:"line"}],styles:{plot_0:{title:"Plot",histogramBase:0,joinPoints:!1},plot_1:{title:"Plot",histogramBase:0,joinPoints:!1}},description:"Custom Moving Average Exponential",shortDescription:"EMA",is_price_study:!0,inputs:[{id:"in_0",name:"Length",defval:12,type:"integer",min:1,max:1e4},{id:"in_1",name:"Length",defval:26,type:"integer",min:1,max:1e4},{id:"in_2",name:"Source",defval:"close",type:"source",options:["open","high","low","close","hl2","hlc3","ohlc4"]},{id:"in_3",name:"Offset",defval:0,type:"integer",min:-1e4,max:1e4}],id:"Custom Moving Average Exponential@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.main=function(e,n){var i,o,r,a,s,c;return this._context=e,this._input=n,r=this._input(0),a=this._input(1),s=this._input(2),c=this._input(3),i=t.Std[s](this._context),o=this._context.new_var(i),[{value:t.Std.ema(o,r,this._context),offset:c},{value:t.Std.ema(o,a,this._context),offset:c}]}}}}},ad16:function(t,e,n){"use strict";n.r(e);n("4de4"),n("caad"),n("d81d"),n("d3b7"),n("2532"),n("ddb0");var i=n("83cb");e["default"]=function(t){return Promise.resolve(i.keys().filter((function(t){return!t.includes("index")})).map((function(e,n){return i(e).default(t)})))}},aed7:function(t,e,n){},c12e:function(t,e,n){"use strict";n("2d06")},c264:function(t,e,n){"use strict";n("b0c0");var i=n("f2bf"),o=Object(i["ab"])("data-v-3aa300c9");Object(i["G"])("data-v-3aa300c9");var r={class:"content"},a={class:"type"},s={class:"list"},c={class:"type"},l={class:"list"};Object(i["E"])();var u=o((function(t,e,n,u,d,h){var p=Object(i["L"])("van-popup");return Object(i["D"])(),Object(i["i"])(p,{show:d.showList,"onUpdate:show":e[2]||(e[2]=function(t){return d.showList=t}),"close-on-click-overlay":!1,closeable:"","get-container":h.getContainer,round:"",style:{width:"90%"},onClickCloseIcon:h.onClose,onClosed:h.closed},{default:o((function(){return[Object(i["m"])("div",r,[Object(i["m"])("span",a,Object(i["P"])(t.$t("chart.mainStudy")),1),Object(i["m"])("div",s,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(d.MAINSTUDIES,(function(t,e){return Object(i["D"])(),Object(i["i"])("span",{key:e,class:["item of-1px",{active:d.mainStudy===t.name}],style:[{"font-size":t.label.length>=6?"0.28rem":""}],onTouchend:function(e){return h.onClick("main",t.name)}},Object(i["P"])(t.label),47,["onTouchend"])})),128))]),Object(i["m"])("span",c,Object(i["P"])(t.$t("chart.subStudy")),1),Object(i["m"])("div",l,[(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(d.SUBSTUDIES,(function(t,e){return Object(i["D"])(),Object(i["i"])("span",{key:e,class:["item of-1px",{active:d.subStudy===t.name}],style:[{"font-size":t.label.length>6?"0.28rem":""}],onTouchend:function(e){return h.onClick("sub",t.name)}},Object(i["P"])(t.label),47,["onTouchend"])})),128)),(Object(i["D"])(!0),Object(i["i"])(i["a"],null,Object(i["J"])(5-d.SUBSTUDIES.length%5,(function(t){return Object(i["D"])(),Object(i["i"])("span",{key:"other"+t,class:"item of-1px",style:{opacity:"0"}})})),128))]),Object(i["m"])("div",{class:"submit",onClick:e[1]||(e[1]=function(){return h.onSubmit&&h.onSubmit.apply(h,arguments)})},Object(i["P"])(t.$t("confirm")),1)])]})),_:1},8,["show","get-container","onClickCloseIcon","onClosed"])})),d=(n("7db0"),n("3b6b")),h={props:{show:{type:Boolean,default:!1},propMainStudy:{type:String,default:""},propSubStudy:{type:String,default:""}},data:function(){return{MAINSTUDIES:d["a"],SUBSTUDIES:d["b"],list:[],mainStudy:"",subStudy:"",showList:!1}},watch:{show:function(t){this.showList=t},propMainStudy:{immediate:!0,handler:function(t){var e=this.MAINSTUDIES.find((function(e){return e.name===t}));this.mainStudy=e?t:null}},propSubStudy:{immediate:!0,handler:function(t){var e=this.SUBSTUDIES.find((function(e){return e.name===t}));this.subStudy=e?t:null}}},methods:{onSubmit:function(){this.mainStudy!==this.propMainStudy&&(this.$emit("removeStudy","main"),this.$emit("createStudy","main",this.mainStudy)),this.subStudy!==this.propSubStudy&&(this.$emit("removeStudy","sub"),this.$emit("createStudy","sub",this.subStudy)),this.onClose()},onClose:function(){this.$emit("update:show",!1)},closed:function(){this.mainStudy=this.propMainStudy,this.subStudy=this.propSubStudy,this.$emit("update:show",!1)},onClick:function(t,e){switch(t){case"main":this.mainStudy=this.mainStudy===e?"":e;break;case"sub":this.subStudy=this.subStudy===e?"":e;break}},getContainer:function(){return document.body}}};n("89dc");h.render=u,h.__scopeId="data-v-3aa300c9";e["a"]=h},e13f:function(t,e,n){"use strict";n.r(e);var i=n("f2bf"),o=Object(i["ab"])("data-v-0a048fd0");Object(i["G"])("data-v-0a048fd0");var r={class:"setting-wrap"},a={class:"page-wrap"},s={class:"notice"};Object(i["E"])();var c=o((function(t,e,n,c,l,u){var d=Object(i["L"])("van-nav-bar"),h=Object(i["L"])("van-icon"),p=Object(i["L"])("van-cell"),f=Object(i["L"])("van-cell-group"),b=Object(i["L"])("van-switch");return Object(i["D"])(),Object(i["i"])("div",r,[Object(i["m"])(d,{"left-arrow":"","left-text":t.$t("common.back"),title:t.$t("common.chart"),onClickLeft:t.$attrs.onBackEvent},null,8,["left-text","title","onClickLeft"]),Object(i["m"])("div",a,[Object(i["m"])(f,{class:"group"},{default:o((function(){return[Object(i["m"])(p,{title:t.$t("chart.candleStick"),onClick:e[1]||(e[1]=function(t){return c.changeType(1)})},Object(i["k"])({icon:o((function(){return[Object(i["m"])(h,{class:"icon icon_yinyangzhu"})]})),_:2},[1===t.chartSet.chartType?{name:"right-icon",fn:o((function(){return[Object(i["m"])(h,{color:"#58C225",name:"success"})]}))}:void 0]),1032,["title"]),Object(i["m"])(p,{title:t.$t("chart.barLine"),onClick:e[2]||(e[2]=function(t){return c.changeType(0)})},Object(i["k"])({icon:o((function(){return[Object(i["m"])(h,{class:"icon icon_zhuxingtu"})]})),_:2},[0===t.chartSet.chartType?{name:"right-icon",fn:o((function(){return[Object(i["m"])(h,{color:"#58C225",name:"success"})]}))}:void 0]),1032,["title"]),Object(i["m"])(p,{title:t.$t("chart.chartLine"),onClick:e[3]||(e[3]=function(t){return c.changeType(2)})},Object(i["k"])({icon:o((function(){return[Object(i["m"])(h,{class:"icon icon_tubiaoxian"})]})),_:2},[2===t.chartSet.chartType?{name:"right-icon",fn:o((function(){return[Object(i["m"])(h,{color:"#58C225",name:"success"})]}))}:void 0]),1032,["title"])]})),_:1}),Object(i["m"])(f,{class:"group"},{default:o((function(){return[Object(i["m"])(p,{title:t.$t("chart.buyLine")},{"right-icon":o((function(){return[Object(i["m"])(b,{modelValue:t.chartSet.showBuyPrice,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.chartSet.showBuyPrice=e}),"active-color":"#53C41C",size:"22px",onChange:e[5]||(e[5]=function(t){return c.handleChartSet("showBuyPrice")})},null,8,["modelValue"])]})),_:1},8,["title"]),Object(i["m"])(p,{title:t.$t("chart.sellLine")},{"right-icon":o((function(){return[Object(i["m"])(b,{modelValue:t.chartSet.showSellPrice,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.chartSet.showSellPrice=e}),"active-color":"#53C41C",size:"22px",onChange:e[7]||(e[7]=function(t){return c.handleChartSet("showSellPrice")})},null,8,["modelValue"])]})),_:1},8,["title"]),Object(i["m"])(p,{title:t.$t("chart.tradeLevel")},{"right-icon":o((function(){return[Object(i["m"])(b,{modelValue:t.chartSet.tradeLevel,"onUpdate:modelValue":e[8]||(e[8]=function(e){return t.chartSet.tradeLevel=e}),"active-color":"#53C41C",size:"22px",onChange:e[9]||(e[9]=function(t){return c.handleChartSet("tradeLevel")})},null,8,["modelValue"])]})),_:1},8,["title"]),Object(i["m"])("p",s,Object(i["P"])(t.$t("chart.noticeTips")),1),Object(i["m"])(p,{title:t.$t("chart.OHLC")},{"right-icon":o((function(){return[Object(i["m"])(b,{modelValue:t.chartSet.showSeriesOHLC,"onUpdate:modelValue":e[10]||(e[10]=function(e){return t.chartSet.showSeriesOHLC=e}),"active-color":"#53C41C",size:"22px",onChange:e[11]||(e[11]=function(t){return c.handleChartSet("showSeriesOHLC")})},null,8,["modelValue"])]})),_:1},8,["title"]),Object(i["m"])(p,{title:t.$t("chart.upAndDown")},{"right-icon":o((function(){return[Object(i["m"])(b,{modelValue:t.chartSet.showBarChange,"onUpdate:modelValue":e[12]||(e[12]=function(e){return t.chartSet.showBarChange=e}),"active-color":"#53C41C",size:"22px",onChange:e[13]||(e[13]=function(t){return c.handleChartSet("showBarChange")})},null,8,["modelValue"])]})),_:1},8,["title"])]})),_:1})])])})),l=n("5530"),u=n("ade3"),d=n("ca00"),h={setup:function(t){var e=Object(i["H"])({chartSet:{volumeSwitch:!1,showBuyPrice:!1,periodSeparator:!1,tradeLevel:!1,showSeriesOHLC:!1,showBarChange:!1,showSellPrice:!1,chartType:1}}),n=function(t){e.chartSet.chartType=t;var n=JSON.parse(Object(d["n"])("chartConfig"));Object(d["m"])(n)?Object(d["o"])("chartConfig",JSON.stringify({chartType:t})):(n["chartType"]=t,Object(d["o"])("chartConfig",JSON.stringify(n)))},o=function(t){var n=JSON.parse(Object(d["n"])("chartConfig"));Object(d["m"])(n)?Object(d["o"])("chartConfig",JSON.stringify(Object(u["a"])({},t,e.chartSet[t]))):(n[t]=e.chartSet[t],Object(d["o"])("chartConfig",JSON.stringify(n)))};return Object(i["w"])((function(){var t=JSON.parse(Object(d["n"])("chartConfig"));Object(d["m"])(t)?Object(d["o"])("chartConfig",JSON.stringify({chartType:1})):e.chartSet=t})),Object(l["a"])({changeType:n,handleChartSet:o},Object(i["Q"])(e))}};n("98ea");h.render=c,h.__scopeId="data-v-0a048fd0";e["default"]=h},eb37:function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#0a74e0"},plot_1:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#e49200"},plot_2:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#d604a4"},plot_3:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#21a900"},plot_4:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#780be4"}},precision:e,inputs:{in_0:5,in_1:20,in_2:30,in_3:60,in_4:250,in_5:"close",in_6:0}},plots:[{id:"plot_0",type:"line"},{id:"plot_1",type:"line"},{id:"plot_2",type:"line"},{id:"plot_3",type:"line"},{id:"plot_4",type:"line"}],styles:{plot_0:{title:"MA1",histogramBase:0,joinPoints:!1},plot_1:{title:"MA2",histogramBase:0,joinPoints:!1},plot_2:{title:"MA3",histogramBase:0,joinPoints:!1},plot_3:{title:"MA4",histogramBase:0,joinPoints:!1},plot_4:{title:"MA5",histogramBase:0,joinPoints:!1}},description:"Moving Average mock",shortDescription:"MA",is_price_study:!0,inputs:[{id:"in_0",name:"MA1",defval:5,type:"integer",min:1,max:300},{id:"in_1",name:"MA2",defval:20,type:"integer",min:1,max:300},{id:"in_2",name:"MA3",defval:30,type:"integer",min:1,max:300},{id:"in_3",name:"MA4",defval:60,type:"integer",min:1,max:300},{id:"in_4",name:"MA5",defval:250,type:"integer",min:1,max:300},{id:"in_5",name:"Source",defval:"close",type:"source",options:["open","high","low","close","hl2","hlc3","ohlc4"]},{id:"in_6",name:"Offset",defval:0,type:"integer",min:-1e4,max:1e4}],id:"Moving Average mock@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.main=function(e,n){var i,o,r,a,s,c,l,u;return this._context=e,this._input=n,o=this._input(0),r=this._input(1),a=this._input(2),s=this._input(3),c=this._input(4),l=t.Std[this._input(5)](this._context),u=this._input(6),i=this._context.new_var(l),[{value:t.Std.sma(i,o,this._context),offset:u},{value:t.Std.sma(i,r,this._context),offset:u},{value:t.Std.sma(i,a,this._context),offset:u},{value:t.Std.sma(i,s,this._context),offset:u},{value:t.Std.sma(i,c,this._context),offset:u}]}}}}},ed9f:function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return{metainfo:{_metainfoVersion:27,isTVScript:!1,isTVScriptStub:!1,is_price_study:!1,is_hidden_study:!1,defaults:{styles:{plot_0:{linestyle:0,linewidth:1,plottype:0,trackPrice:!1,transparency:35,visible:!0,color:"#000080"}},precision:e,bands:[{color:"#808080",linestyle:2,linewidth:1,visible:!0,value:-20},{color:"#808080",linestyle:2,linewidth:1,visible:!0,value:-80}],filledAreasStyle:{fill_0:{color:"#000080",transparency:90,visible:!0}},inputs:{in_0:14}},plots:[{id:"plot_0",type:"line"}],styles:{plot_0:{title:"Plot",histogramBase:0,joinPoints:!1}},bands:[{id:"hline_0",name:"UpperLimit"},{id:"hline_1",name:"LowerLimit"}],filledAreas:[{id:"fill_0",objAId:"hline_0",objBId:"hline_1",type:"hline_hline",title:"Hlines Background"}],inputs:[{id:"in_0",name:"length",defval:14,type:"integer",min:1,max:2e3}],description:"Custom Williams %R",shortDescription:"WR",id:"Custom Williams %R@tv-basicstudies-1",scriptIdPart:""},constructor:function(){this.f_0=function(t,e,n){return 100*(t-e)/(e-n)},this.main=function(e,n){var i,o,r,a,s,c,l;return this._context=e,this._input=n,i=this._input(0),o=t.Std.high(this._context),r=this._context.new_var(o),a=t.Std.highest(r,i,this._context),s=t.Std.low(this._context),c=this._context.new_var(s),l=t.Std.lowest(c,i,this._context),[this.f_0(t.Std.close(this._context),a,l)]}}}}},f217:function(t,e,n){"use strict";n("1979")}}]);
//# sourceMappingURL=chart.2c86cb36.js.map