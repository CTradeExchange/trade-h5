(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"1eec":function(e,t,c){"use strict";c("75da")},"75da":function(e,t,c){},"9c7d":function(e,t,c){},e631:function(e,t,c){"use strict";c("9c7d")},ec0c:function(e,t,c){"use strict";c.r(t);var n=c("f2bf"),o=Object(n["bb"])("data-v-2acbe15e");Object(n["H"])("data-v-2acbe15e");var r={class:"searchWrapper"},a={key:0,class:"searchRecord"},u={class:"label"},s={class:"searchBody"};Object(n["F"])();var l=o((function(e,t,c,l,d,b){var i=Object(n["M"])("van-search"),j=Object(n["M"])("ResultItem");return Object(n["E"])(),Object(n["j"])("div",r,[Object(n["n"])(i,{modelValue:e.keywords,"onUpdate:modelValue":[t[2]||(t[2]=function(t){return e.keywords=t}),l.updateVal],background:e.$style.contentColor,placeholder:e.$t("search.placeholder"),"show-action":"",onSearch:l.onSearch},{action:o((function(){return[Object(n["n"])("div",{class:"van-search__action",onClick:t[1]||(t[1]=function(){return l.onCancel&&l.onCancel.apply(l,arguments)})},Object(n["Q"])(e.$t("compLang.cancel")),1)]})),_:1},8,["modelValue","background","placeholder","onSearch","onUpdate:modelValue"]),e.keywords?Object(n["k"])("",!0):(Object(n["E"])(),Object(n["j"])("div",a,[Object(n["n"])("div",u,Object(n["Q"])(e.$t("search.lastest")),1),(Object(n["E"])(!0),Object(n["j"])(n["a"],null,Object(n["K"])(l.localRecord,(function(e){return Object(n["E"])(),Object(n["j"])(j,{key:e.sourceId,product:e},null,8,["product"])})),128))])),Object(n["n"])("div",s,[(Object(n["E"])(!0),Object(n["j"])(n["a"],null,Object(n["K"])(e.resultList,(function(e){return Object(n["E"])(),Object(n["j"])(j,{key:e.sourceId,product:e},null,8,["product"])})),128))])])})),d=c("5530"),b=(c("4de4"),c("d81d"),Object(n["bb"])("data-v-0dd0640b"));Object(n["H"])("data-v-0dd0640b");var i={class:"searchResultItem"},j={class:"name"},O={class:"block"},f={class:"symbol-code"},p={key:0,class:"optional"};Object(n["F"])();var m=b((function(e,t,c,o,r,a){return Object(n["E"])(),Object(n["j"])("div",i,[Object(n["n"])("div",{class:"product",onClick:t[1]||(t[1]=function(){return o.toProduct&&o.toProduct.apply(o,arguments)})},[Object(n["n"])("div",j,[Object(n["n"])("span",null,Object(n["Q"])(c.product.symbolName),1)]),Object(n["n"])("div",O,[Object(n["n"])("span",f,Object(n["Q"])(c.product.symbolCode),1)])]),e.$store.state._user.customerInfo?(Object(n["E"])(),Object(n["j"])("div",p,[Object(n["n"])("i",{class:["icon_zixuan1",{icon_zixuan2:o.inSelfSymbolList,loading:e.toggleSelfimg}],onClick:t[2]||(t[2]=Object(n["ab"])((function(e){return o.toggleSelf(c.product,e)}),["stop"]))},null,2)])):Object(n["k"])("",!0)])})),v=(c("7db0"),c("5502")),h=c("6c02"),y=c("ca00"),g={props:["product"],setup:function(e){var t=Object(v["c"])(),c=Object(h["e"])(),o=Object(n["I"])({toggleSelfimg:!1}),r=Object(n["h"])((function(){var c=t.getters.userSelfSymbolList||[];return c.find((function(t){return t.symbolId===e.product.symbolId}))})),a=function(){s()},u=function(){var t=e.product.symbolId,n=JSON.parse(Object(y["n"])("searchProducts"))||[];-1===n.indexOf(t)&&n.push(t),Object(y["o"])("searchProducts",JSON.stringify(n)),c.push({name:"Product",query:{symbolId:t}})},s=function(){o.toggleSelfimg=!0;var c=r.value?"_user/removeCustomerOptionals":"_user/addCustomerOptionals";t.dispatch(c,[e.product.symbolId]).then((function(e){o.toggleSelfimg=!1})).catch((function(e){o.toggleSelfimg=!1}))};return Object(d["a"])(Object(d["a"])({},Object(n["R"])(o)),{},{inSelfSymbolList:r,toggleSelf:a,toProduct:u,modifyOptional:s})}};c("e631");g.render=m,g.__scopeId="data-v-0dd0640b";var k=g,S=c("2465"),I={components:{ResultItem:k},setup:function(){var e=Object(v["c"])(),t=Object(n["h"])((function(){return e.state._quote.productMap})),c=Object(n["I"])({keywords:"",localList:JSON.parse(Object(y["n"])("searchProducts"))||[],resultList:[]}),o=Object(n["h"])((function(){return c.localList.map((function(e){return t.value[e]})).filter((function(e){return e}))})),r=function(e){u(e)},a=function(){c.resultList=[]},u=Object(y["c"])((function(n){if(!n)return!1;Object(S["e"])({name:n,customerGroupId:e.getters.customerGroupId}).then((function(e){if(e.check()){var n=e.data||[];n=n.map((function(e){return t.value[e.id]})).filter((function(e){return!!e})),c.resultList=n}}))})),s=function(){history.back()};return Object(d["a"])(Object(d["a"])({},Object(n["R"])(c)),{},{localRecord:o,updateVal:r,onClear:a,onSearch:u,onCancel:s})}};c("1eec");I.render=l,I.__scopeId="data-v-2acbe15e";t["default"]=I}}]);
//# sourceMappingURL=search.99a5aca8.js.map