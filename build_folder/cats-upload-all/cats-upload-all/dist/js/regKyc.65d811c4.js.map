{"version":3,"sources":["webpack:///./src/components/top.vue","webpack:///./src/components/top.vue?2890","webpack:///./src/assets/auth/handheld_identity_card.png","webpack:///./src/components/top.vue?808b","webpack:///./src/assets/auth/back_identity_card.png","webpack:///./src/assets/auth/front_identity_card.png","webpack:///./src/themeCommon/components/authConditon.vue?6330","webpack:///./src/themeCommon/user/register/regKyc.vue?f379","webpack:///./src/assets/auth sync ^\\.\\/.*\\.png$","webpack:///./src/themeCommon/components/authConditon.vue","webpack:///./src/themeCommon/components/authConditon.vue?55b5","webpack:///./src/themeCommon/user/register/regKyc.vue","webpack:///./src/themeCommon/user/register/regKyc.vue?35c0","webpack:///./src/assets/auth/front_bank_card.png","webpack:///./src/assets/auth/back_bank_card.png"],"names":["class","href","back","name","leftIcon","title","showCenter","$t","$route","meta","rightAction","rightClick","props","type","Object","Boolean","default","backHandler","Function","String","setup","emit","attrs","router","onBack","onRightClick","render","__scopeId","module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","resolve","show","loading","elementList","item","index","key","showType","conditionModel","elementCode","clearable","label","elementName","placeholder","after-read","afterRead","result-type","alt","src","srcset","typeValue","clickable","readonly","showPicker","typeCode","onConfirm","position","round","columns","columns-field-names","columnsFields","handleConfirm","businessCode","route","useScope","t","levelCode","query","state","area","pathCode","list","conditionVis","value1","extendsMap","text","getConditon","then","res","data","Number","length","pathName","areaShow","getInputGroupList","catch","err","typeObj","getInputGroupData","forEach","extend","parentCode","check","file","detail","formData","FormData","append","document","getElementById","console","log","params","tempElementList","hasOwnProperty","valueReg","RegExp","test","push","elementValue","replace","sessionStorage","removeItem","deleterepeatData","tempDelData","filter","value","kycList","getItem","JSON","parse","left-icon","menu","business-code","notice","components","authCondition","Top","store","to","from","fullPath","dispatch","location","reload"],"mappings":"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","file":"js/regKyc.65d811c4.js","sourcesContent":["<template>\r\n    <div class='top'>\r\n        <slot name='left'>\r\n            <a class='back' href='javascript:;' @click='back'>\r\n                <van-icon :name='leftIcon' />\r\n            </a>\r\n        </slot>\r\n        <slot name='center'>\r\n            <div v-if='title' class='title'>\r\n                {{ title }}\r\n            </div>\r\n            <div v-else-if='showCenter' class='title'>\r\n                {{ $t($route.meta.title) }}\r\n            </div>\r\n        </slot>\r\n        <slot name='tabs'></slot>\r\n        <slot name='right'>\r\n            <a v-if='rightAction.title' class='rightClick' href='javascript:;' @click='rightClick'>\r\n                <span class='right-text'>\r\n                    {{ rightAction.title }}\r\n                </span>\r\n                <van-icon name='arrow' />\r\n            </a>\r\n        </slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nexport default {\r\n    props: {\r\n        rightAction: {\r\n            type: [Object, Boolean],\r\n            default: function () {\r\n                return { title: '' }\r\n            }\r\n        },\r\n        backHandler: Function,\r\n        leftIcon: {\r\n            type: String,\r\n            default: 'arrow-left'\r\n        },\r\n        title: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        showCenter: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    setup (props, { emit, attrs }) {\r\n        const router = useRouter()\r\n        // 点击返回\r\n        const back = () => {\r\n            attrs.onBack ? emit('back') : router.back()\r\n        }\r\n        // 点击右侧按钮\r\n        const rightClick = () => {\r\n            attrs.onRightClick && emit('rightClick')\r\n        }\r\n        return {\r\n            back,\r\n            rightClick,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.top {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: rem(100px);\r\n    background: var(--contentColor);\r\n    .back {\r\n        position: absolute;\r\n        top: rem(26px);\r\n        left: rem(13px);\r\n        z-index: 1;\r\n        color: var(--color);\r\n        font-size: rem(46px);\r\n    }\r\n    .rightClick {\r\n        position: absolute;\r\n        right: rem(30px);\r\n        display: flex;\r\n        align-items: center;\r\n        height: rem(60px);\r\n        padding: 0 0 0 rem(26px);\r\n        color: var(--color);\r\n        font-size: rem(24px);\r\n        border: 1px solid var(--bdColor);\r\n        border-radius: rem(30px);\r\n    }\r\n    .van-icon-arrow {\r\n        margin-right: rem(10px);\r\n        margin-left: rem(5px);\r\n        font-weight: bold;\r\n        vertical-align: middle;\r\n    }\r\n    .right-text {\r\n        vertical-align: middle;\r\n    }\r\n    .title {\r\n        width: 60%;\r\n        max-width: 60%;\r\n        margin: 0 auto;\r\n        color: var(--color);\r\n        font-size: rem(34px);\r\n        line-height: rem(59px);\r\n        text-align: center;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./top.vue?vue&type=template&id=0b25a41a&scoped=true\"\nimport script from \"./top.vue?vue&type=script&lang=js\"\nexport * from \"./top.vue?vue&type=script&lang=js\"\n\nimport \"./top.vue?vue&type=style&index=0&id=0b25a41a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0b25a41a\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/handheld_identity_card.4247a89f.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./top.vue?vue&type=style&index=0&id=0b25a41a&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/back_identity_card.4d727fda.png\";","module.exports = __webpack_public_path__ + \"img/front_identity_card.211974a1.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./authConditon.vue?vue&type=style&index=0&id=610d7bf8&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./regKyc.vue?vue&type=style&index=0&id=e467baa6&lang=scss&scoped=true\"","var map = {\n\t\"./back_bank_card.png\": \"c992\",\n\t\"./back_identity_card.png\": \"317c\",\n\t\"./front_bank_card.png\": \"af72\",\n\t\"./front_identity_card.png\": \"55d2\",\n\t\"./handheld_identity_card.png\": \"2224\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"6f56\";","<template>\r\n    <Loading :show='loading' />\r\n    <div class='page-wrap'>\r\n        <slot name='notice'></slot>\r\n        <div class='conditon-wrap'>\r\n            <div v-for='(item,index) in elementList' :key='index' class='c-item'>\r\n                <van-field\r\n                    v-if=\"item.showType === 'input'\"\r\n                    v-model='conditionModel[item.elementCode]'\r\n                    clearable\r\n                    :label='item.elementName'\r\n                    :placeholder='$t(\"common.input\")+item.elementName'\r\n                    :type='item.elementCode === \"phone\" ? \"number\" : \"text\"'\r\n                />\r\n\r\n                <div v-if=\"item.showType === 'image'\">\r\n                    <van-uploader :after-read='afterRead' :name='item.elementCode' result-type='file'>\r\n                        <img :id='item.elementCode' alt='' class='upload-img' :src='require(\"../../assets/auth/\" + item.elementCode + \".png\")' srcset='' />\r\n                        <p class='upload-text'>\r\n                            {{ item.elementName }}\r\n                        </p>\r\n                    </van-uploader>\r\n                </div>\r\n                <div v-if=\"item.showType === 'inputGroup'\">\r\n                    <van-field\r\n                        v-model='typeValue'\r\n                        clickable\r\n                        :label='$t(\"register.certificateType\")'\r\n                        :placeholder='$t(\"register.chooseCertificateType\")'\r\n                        readonly\r\n                        @click='showPicker = true'\r\n                    />\r\n                    <van-field v-model='conditionModel[typeCode]' :label='$t(\"register.certificateNo\")' :placeholder=\"$t('register.pleaseEnter')+ typeValue\" />\r\n                </div>\r\n            </div>\r\n            <van-button class='confirm-btn' @click='onConfirm'>\r\n                {{ $t('common.submit') }}\r\n            </van-button>\r\n        </div>\r\n    </div>\r\n\r\n    <van-popup v-model:show='showPicker' position='bottom' round>\r\n        <van-picker\r\n            :columns='columns'\r\n            :columns-field-names='columnsFields'\r\n            @cancel='showPicker = false'\r\n            @confirm='handleConfirm'\r\n        />\r\n    </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { toRefs, reactive, onBeforeMount, onBeforeUnmount } from 'vue'\r\nimport { Toast } from 'vant'\r\nimport { findAllLevelKyc, kycLevelApply, kycApply } from '@/api/user'\r\nimport { getArrayObj, isEmpty } from '@/utils/util'\r\nimport { upload, getListByParentCode } from '@/api/base'\r\nimport { useI18n } from 'vue-i18n'\r\n\r\nexport default {\r\n    props: {\r\n        businessCode: {\r\n            type: String\r\n        }\r\n    },\r\n    setup (props) {\r\n        const router = useRouter()\r\n        const route = useRoute()\r\n        const { t } = useI18n({ useScope: 'global' })\r\n        const levelCode = route.query.levelCode\r\n\r\n        const state = reactive({\r\n            area: '',\r\n            pathCode: '',\r\n            loading: false,\r\n            list: [],\r\n            elementList: [],\r\n            conditionVis: true,\r\n            conditionModel: {},\r\n            typeValue: '',\r\n            showPicker: false,\r\n            value1: '',\r\n            columns: [],\r\n            typeCode: '',\r\n            extendsMap: {} // 字段和正则对应\r\n\r\n        })\r\n        const columnsFields = { text: 'name' }\r\n\r\n        const getConditon = () => {\r\n            state.loading = true\r\n\r\n            findAllLevelKyc({\r\n                levelCode: levelCode\r\n            }).then(res => {\r\n                state.loading = false\r\n\r\n                state.list = res.data\r\n                // 只有一个路径的时候默认选中\r\n                if (Number(res.data.length === 1)) {\r\n                    state.area = res.data[0].pathName\r\n                    state.pathCode = res.data[0].pathCode\r\n                    state.elementList = getArrayObj(state.list, 'pathCode', state.pathCode).elementList\r\n\r\n                    state.areaShow = false\r\n                    getInputGroupList()\r\n                }\r\n            }).catch(err => {\r\n                state.loading = false\r\n            })\r\n        }\r\n\r\n        // 有inputGroup证件类型的时候 请求类型列表\r\n        const getInputGroupList = () => {\r\n            const typeObj = getArrayObj(state.elementList, 'showType', 'inputGroup')\r\n            if (!isEmpty(typeObj)) {\r\n                getInputGroupData()\r\n            }\r\n\r\n            state.elementList.forEach(item => {\r\n                state.extendsMap[item.elementCode] = {\r\n                    name: item.elementName,\r\n                    extend: item.extend\r\n                }\r\n            })\r\n        }\r\n\r\n        const getInputGroupData = () => {\r\n            getListByParentCode({ parentCode: 'id_card_type' }).then(res => {\r\n                if (res.check() && res.data.length > 0) {\r\n                    state.columns = res.data\r\n                    if (res.data.length > 0) {\r\n                        res.data.forEach(item => {\r\n                            state.extendsMap[item.code] = {\r\n                                name: item.name,\r\n                                extend: item.extend\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            }).catch(res => {\r\n\r\n            })\r\n        }\r\n\r\n        // 上传图片\r\n        const afterRead = (file, detail) => {\r\n            state.loading = true\r\n            const formData = new FormData()\r\n            formData.append('object', file.file)\r\n\r\n            upload(\r\n                formData\r\n            ).then(res => {\r\n                state.loading = false\r\n                if (res.check()) {\r\n                    document.getElementById(detail.name).src = res.data\r\n                    state.conditionModel[detail.name] = res.data\r\n                    Toast(t('auth.uploadSuccess'))\r\n                }\r\n            }).catch(err => {\r\n                state.loading = false\r\n                console.log(err)\r\n            })\r\n        }\r\n\r\n        const onConfirm = () => {\r\n            const tempElementList = []\r\n            if (!isEmpty(state.conditionModel)) {\r\n                for (const key in state.conditionModel) {\r\n                    if (state.conditionModel.hasOwnProperty(key)) {\r\n                        if (!isEmpty(state.extendsMap[key].extend)) {\r\n                            const valueReg = new RegExp(state.extendsMap[key].extend)\r\n                            if (!valueReg.test(state.conditionModel[key])) {\r\n                                return Toast(`${state.extendsMap[key].name}` + t('register.incorrectlyFormed'))\r\n                            }\r\n                        }\r\n\r\n                        tempElementList.push({\r\n                            elementCode: key,\r\n                            elementValue: state.conditionModel[key]\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (tempElementList.length < state.elementList.length) {\r\n                return Toast(t('auth.allAuthPlease'))\r\n            }\r\n\r\n            let params\r\n            /* 具体业务的kyc认证 */\r\n            if (!isEmpty(props.businessCode)) {\r\n                params = {\r\n                    businessCode: props.businessCode,\r\n                    elementList: tempElementList,\r\n                    levelCode\r\n                }\r\n                state.loading = true\r\n                kycApply(params).then(res => {\r\n                    state.loading = false\r\n                    if (res.check()) {\r\n                        router.replace({ name: 'KycCommitted' })\r\n                        sessionStorage.removeItem('kycList')\r\n                    }\r\n                }).catch(err => {\r\n                    state.loading = false\r\n                    console.log(err)\r\n                })\r\n            } else {\r\n                params = {\r\n                    levelCode,\r\n                    elementList: tempElementList\r\n                }\r\n                state.loading = true\r\n                kycLevelApply(params).then(res => {\r\n                    state.loading = false\r\n                    if (res.check()) {\r\n                        router.replace({ name: 'KycCommitted' })\r\n                    }\r\n                }).catch(err => {\r\n                    state.loading = false\r\n                    console.log(err)\r\n                })\r\n            }\r\n        }\r\n\r\n        const deleterepeatData = () => {\r\n            const tempDelData = state.columns.filter((item) => item.code !== state.typeCode)\r\n            if (tempDelData.length > 0) {\r\n                tempDelData.forEach(item => {\r\n                    delete state.conditionModel[item.code]\r\n                })\r\n            }\r\n        }\r\n\r\n        const handleConfirm = (value) => {\r\n            state.typeValue = value.name\r\n            state.typeCode = value.code\r\n            state.showPicker = false\r\n            // 类型为证件类型的时候处理重复数据\r\n            deleterepeatData()\r\n        }\r\n\r\n        onBeforeMount(() => {\r\n            // 注册进来的kyc\r\n            const kycList = sessionStorage.getItem('kycList')\r\n            if (!isEmpty(kycList)) {\r\n                state.elementList = JSON.parse(kycList)[0].elementList\r\n                getInputGroupList()\r\n            } else {\r\n                getConditon()\r\n            }\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            sessionStorage.removeItem('kycList')\r\n        })\r\n\r\n        return {\r\n            ...toRefs(state),\r\n            onConfirm,\r\n            getConditon,\r\n            afterRead,\r\n            handleConfirm,\r\n            columnsFields\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.page-wrap {\r\n    flex: 1;\r\n    height: 100%;\r\n    padding-top: rem(30px);\r\n    overflow: auto;\r\n    background-color: var(--bgColor);\r\n    .notice {\r\n        margin-top: rem(58px);\r\n        padding-left: rem(30px);\r\n        .title {\r\n            color: var(--minorColor);\r\n            font-size: rem(28px);\r\n            line-height: rem(36px);\r\n        }\r\n        ul {\r\n            padding-left: rem(30px);\r\n            li {\r\n                margin-top: rem(20px);\r\n                list-style-type: disc;\r\n            }\r\n        }\r\n    }\r\n    .conditon-wrap {\r\n        padding-bottom: rem(50px);\r\n        .c-item {\r\n            text-align: center;\r\n            background: var(--contentColor);\r\n            border-bottom: solid 1px var(--lineColor);\r\n            :deep(.van-cell) {\r\n                background-color: var(--contentColor);\r\n                .van-cell__title {\r\n                    color: var(--normalColor);\r\n                }\r\n                .van-cell__value {\r\n                    color: var(--color);\r\n                }\r\n                .van-field__control {\r\n                    color: var(--color);\r\n                }\r\n            }\r\n            .upload-img {\r\n                width: rem(400px);\r\n                height: rem(260px);\r\n            }\r\n            .upload-text {\r\n                margin-top: rem(20px);\r\n            }\r\n            .van-uploader {\r\n                margin-top: rem(50px);\r\n                margin-bottom: rem(50px);\r\n            }\r\n            &:last-of-type {\r\n                //border-bottom: none;\r\n            }\r\n        }\r\n    }\r\n    .confirm-btn {\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        color: var(--color);\r\n        font-size: rem(34px);\r\n        background: var(--contentColor);\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./authConditon.vue?vue&type=template&id=610d7bf8&scoped=true\"\nimport script from \"./authConditon.vue?vue&type=script&lang=js\"\nexport * from \"./authConditon.vue?vue&type=script&lang=js\"\n\nimport \"./authConditon.vue?vue&type=style&index=0&id=610d7bf8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-610d7bf8\"\n\nexport default script","<template>\r\n    <Top\r\n        back\r\n        left-icon='arrow-left'\r\n        :menu='false'\r\n    />\r\n\r\n    <auth-condition business-code='open_account'>\r\n        <template #notice>\r\n            <p class='notice'>\r\n                {{ $t('register.tips2') }}\r\n            </p>\r\n        </template>\r\n    </auth-condition>\r\n</template>\r\n\r\n<script>\r\nimport Top from '@/components/top'\r\nimport { onBeforeRouteLeave, useRouter } from 'vue-router'\r\nimport authCondition from '@/themeCommon/components/authConditon'\r\nimport { useStore } from 'vuex'\r\nexport default {\r\n    components: {\r\n        authCondition,\r\n        Top\r\n    },\r\n    setup (props) {\r\n        const store = useStore()\r\n        const router = useRouter()\r\n        onBeforeRouteLeave((to, from) => {\r\n            if (to.fullPath === '/login') {\r\n                // 退出登录 断开ws\r\n                store.dispatch('_user/logout').then(() => {\r\n                    return router.push('/login')\r\n                }).then(() => {\r\n                    location.reload()\r\n                })\r\n            }\r\n        })\r\n        return {\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.notice {\r\n    margin-bottom: rem(20px);\r\n    padding-left: rem(30px);\r\n}\r\n</style>\r\n","import { render } from \"./regKyc.vue?vue&type=template&id=e467baa6&scoped=true\"\nimport script from \"./regKyc.vue?vue&type=script&lang=js\"\nexport * from \"./regKyc.vue?vue&type=script&lang=js\"\n\nimport \"./regKyc.vue?vue&type=style&index=0&id=e467baa6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e467baa6\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/front_bank_card.e9bb6082.png\";","module.exports = __webpack_public_path__ + \"img/back_bank_card.da85d173.png\";"],"sourceRoot":""}