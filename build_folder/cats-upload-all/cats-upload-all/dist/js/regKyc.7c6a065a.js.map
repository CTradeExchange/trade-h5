{"version":3,"sources":["webpack:///./src/themeCommon/components/authConditon.vue?e105","webpack:///./src/assets/auth/handheld_identity_card.png","webpack:///./src/assets/auth/back_identity_card.png","webpack:///./src/assets/auth/front_identity_card.png","webpack:///./src/assets/auth sync ^\\.\\/.*\\.png$","webpack:///./src/themeCommon/components/authConditon.vue","webpack:///./src/themeCommon/components/authConditon.vue?55b5","webpack:///./src/themeCommon/user/register/regKyc.vue","webpack:///./src/themeCommon/user/register/regKyc.vue?35c0","webpack:///./src/assets/auth/front_bank_card.png","webpack:///./src/assets/auth/back_bank_card.png","webpack:///./src/themeCommon/user/register/regKyc.vue?e3ac"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","class","show","loading","elementList","item","index","key","showType","conditionModel","elementCode","clearable","label","elementName","placeholder","$t","type","after-read","afterRead","name","result-type","alt","src","srcset","typeValue","clickable","readonly","showPicker","typeCode","onConfirm","position","round","columns","columns-field-names","columnsFields","handleConfirm","props","businessCode","String","setup","router","route","useScope","t","levelCode","query","state","area","pathCode","list","conditionVis","value1","extendsMap","text","getConditon","then","res","data","Number","length","pathName","areaShow","getInputGroupList","catch","err","typeObj","getInputGroupData","forEach","extend","parentCode","check","file","detail","formData","FormData","append","document","getElementById","console","log","params","tempElementList","hasOwnProperty","valueReg","RegExp","test","push","elementValue","replace","sessionStorage","removeItem","deleterepeatData","tempDelData","filter","value","kycList","getItem","JSON","parse","render","__scopeId","back","left-icon","menu","business-code","notice","components","authCondition","Top","store","to","from","fullPath","dispatch","location","reload"],"mappings":"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","file":"js/regKyc.7c6a065a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./authConditon.vue?vue&type=style&index=0&id=6c738bad&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/handheld_identity_card.4247a89f.png\";","module.exports = __webpack_public_path__ + \"img/back_identity_card.4d727fda.png\";","module.exports = __webpack_public_path__ + \"img/front_identity_card.211974a1.png\";","var map = {\n\t\"./back_bank_card.png\": \"c992\",\n\t\"./back_identity_card.png\": \"317c\",\n\t\"./front_bank_card.png\": \"af72\",\n\t\"./front_identity_card.png\": \"55d2\",\n\t\"./handheld_identity_card.png\": \"2224\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"6f56\";","<template>\r\n    <Loading :show='loading' />\r\n    <div class='page-wrap'>\r\n        <slot name='notice'></slot>\r\n        <div class='conditon-wrap'>\r\n            <div v-for='(item,index) in elementList' :key='index' class='c-item'>\r\n                <van-field\r\n                    v-if=\"item.showType === 'input'\"\r\n                    v-model='conditionModel[item.elementCode]'\r\n                    clearable\r\n                    :label='item.elementName'\r\n                    :placeholder='$t(\"common.input\")+item.elementName'\r\n                    :type='item.elementCode === \"phone\" ? \"number\" : \"text\"'\r\n                />\r\n\r\n                <div v-if=\"item.showType === 'image'\">\r\n                    <van-uploader :after-read='afterRead' :name='item.elementCode' result-type='file'>\r\n                        <img :id='item.elementCode' alt='' class='upload-img' :src='require(\"../../assets/auth/\" + item.elementCode + \".png\")' srcset='' />\r\n                        <p class='upload-text'>\r\n                            {{ item.elementName }}\r\n                        </p>\r\n                    </van-uploader>\r\n                </div>\r\n                <div v-if=\"item.showType === 'inputGroup'\">\r\n                    <van-field\r\n                        v-model='typeValue'\r\n                        clickable\r\n                        :label='$t(\"register.certificateType\")'\r\n                        :placeholder='$t(\"register.chooseCertificateType\")'\r\n                        readonly\r\n                        @click='showPicker = true'\r\n                    />\r\n                    <van-field v-model='conditionModel[typeCode]' :label='$t(\"register.certificateNo\")' :placeholder=\"$t('register.pleaseEnter')+ typeValue\" />\r\n                </div>\r\n            </div>\r\n            <van-button class='confirm-btn' @click='onConfirm'>\r\n                {{ $t('common.submit') }}\r\n            </van-button>\r\n        </div>\r\n    </div>\r\n\r\n    <van-popup v-model:show='showPicker' position='bottom' round>\r\n        <van-picker\r\n            :columns='columns'\r\n            :columns-field-names='columnsFields'\r\n            @cancel='showPicker = false'\r\n            @confirm='handleConfirm'\r\n        />\r\n    </van-popup>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { toRefs, reactive, onBeforeMount, onBeforeUnmount } from 'vue'\r\nimport { Toast } from 'vant'\r\nimport { findAllLevelKyc, kycLevelApply, kycApply } from '@/api/user'\r\nimport { getArrayObj, isEmpty } from '@/utils/util'\r\nimport { upload, getListByParentCode } from '@/api/base'\r\nimport { useI18n } from 'vue-i18n'\r\n\r\nexport default {\r\n    props: {\r\n        businessCode: {\r\n            type: String\r\n        }\r\n    },\r\n    setup (props) {\r\n        const router = useRouter()\r\n        const route = useRoute()\r\n        const { t } = useI18n({ useScope: 'global' })\r\n        const levelCode = route.query.levelCode\r\n\r\n        const state = reactive({\r\n            area: '',\r\n            pathCode: '',\r\n            loading: false,\r\n            list: [],\r\n            elementList: [],\r\n            conditionVis: true,\r\n            conditionModel: {},\r\n            typeValue: '',\r\n            showPicker: false,\r\n            value1: '',\r\n            columns: [],\r\n            typeCode: '',\r\n            extendsMap: {} // 字段和正则对应\r\n\r\n        })\r\n        const columnsFields = { text: 'name' }\r\n\r\n        const getConditon = () => {\r\n            state.loading = true\r\n\r\n            findAllLevelKyc({\r\n                levelCode: levelCode\r\n            }).then(res => {\r\n                state.loading = false\r\n\r\n                state.list = res.data\r\n                // 只有一个路径的时候默认选中\r\n                if (Number(res.data.length === 1)) {\r\n                    state.area = res.data[0].pathName\r\n                    state.pathCode = res.data[0].pathCode\r\n                    state.elementList = getArrayObj(state.list, 'pathCode', state.pathCode).elementList\r\n\r\n                    state.areaShow = false\r\n                    getInputGroupList()\r\n                }\r\n            }).catch(err => {\r\n                state.loading = false\r\n            })\r\n        }\r\n\r\n        // 有inputGroup证件类型的时候 请求类型列表\r\n        const getInputGroupList = () => {\r\n            const typeObj = getArrayObj(state.elementList, 'showType', 'inputGroup')\r\n            if (!isEmpty(typeObj)) {\r\n                getInputGroupData()\r\n            }\r\n\r\n            state.elementList.forEach(item => {\r\n                state.extendsMap[item.elementCode] = {\r\n                    name: item.elementName,\r\n                    extend: item.extend\r\n                }\r\n            })\r\n        }\r\n\r\n        const getInputGroupData = () => {\r\n            getListByParentCode({ parentCode: 'id_card_type' }).then(res => {\r\n                if (res.check() && res.data.length > 0) {\r\n                    state.columns = res.data\r\n                    if (res.data.length > 0) {\r\n                        res.data.forEach(item => {\r\n                            state.extendsMap[item.code] = {\r\n                                name: item.name,\r\n                                extend: item.extend\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            }).catch(res => {\r\n\r\n            })\r\n        }\r\n\r\n        // 上传图片\r\n        const afterRead = (file, detail) => {\r\n            state.loading = true\r\n            const formData = new FormData()\r\n            formData.append('object', file.file)\r\n\r\n            upload(\r\n                formData\r\n            ).then(res => {\r\n                state.loading = false\r\n                if (res.check()) {\r\n                    document.getElementById(detail.name).src = res.data\r\n                    state.conditionModel[detail.name] = res.data\r\n                    Toast(t('auth.uploadSuccess'))\r\n                }\r\n            }).catch(err => {\r\n                state.loading = false\r\n                console.log(err)\r\n            })\r\n        }\r\n\r\n        const onConfirm = () => {\r\n            const tempElementList = []\r\n            if (!isEmpty(state.conditionModel)) {\r\n                for (const key in state.conditionModel) {\r\n                    if (state.conditionModel.hasOwnProperty(key)) {\r\n                        if (!isEmpty(state.extendsMap[key].extend)) {\r\n                            const valueReg = new RegExp(state.extendsMap[key].extend)\r\n                            if (!valueReg.test(state.conditionModel[key])) {\r\n                                return Toast(`${state.extendsMap[key].name}` + t('register.incorrectlyFormed'))\r\n                            }\r\n                        }\r\n\r\n                        tempElementList.push({\r\n                            elementCode: key,\r\n                            elementValue: state.conditionModel[key]\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (tempElementList.length < state.elementList.length) {\r\n                return Toast(t('auth.allAuthPlease'))\r\n            }\r\n\r\n            let params\r\n            /* 具体业务的kyc认证 */\r\n            if (!isEmpty(props.businessCode)) {\r\n                params = {\r\n                    businessCode: props.businessCode,\r\n                    elementList: tempElementList,\r\n                    levelCode\r\n                }\r\n                state.loading = true\r\n                kycApply(params).then(res => {\r\n                    state.loading = false\r\n                    if (res.check()) {\r\n                        router.replace({ name: 'KycCommitted' })\r\n                        sessionStorage.removeItem('kycList')\r\n                    }\r\n                }).catch(err => {\r\n                    state.loading = false\r\n                    console.log(err)\r\n                })\r\n            } else {\r\n                params = {\r\n                    levelCode,\r\n                    elementList: tempElementList\r\n                }\r\n                state.loading = true\r\n                kycLevelApply(params).then(res => {\r\n                    state.loading = false\r\n                    if (res.check()) {\r\n                        router.replace({ name: 'KycCommitted' })\r\n                    }\r\n                }).catch(err => {\r\n                    state.loading = false\r\n                    console.log(err)\r\n                })\r\n            }\r\n        }\r\n\r\n        const deleterepeatData = () => {\r\n            const tempDelData = state.columns.filter((item) => item.code !== state.typeCode)\r\n            if (tempDelData.length > 0) {\r\n                tempDelData.forEach(item => {\r\n                    delete state.conditionModel[item.code]\r\n                })\r\n            }\r\n        }\r\n\r\n        const handleConfirm = (value) => {\r\n            state.typeValue = value.name\r\n            state.typeCode = value.code\r\n            state.showPicker = false\r\n            // 类型为证件类型的时候处理重复数据\r\n            deleterepeatData()\r\n        }\r\n\r\n        onBeforeMount(() => {\r\n            // 注册进来的kyc\r\n            const kycList = sessionStorage.getItem('kycList')\r\n            if (!isEmpty(kycList)) {\r\n                state.elementList = JSON.parse(kycList)[0].elementList\r\n                getInputGroupList()\r\n            } else {\r\n                getConditon()\r\n            }\r\n        })\r\n\r\n        onBeforeUnmount(() => {\r\n            sessionStorage.removeItem('kycList')\r\n        })\r\n\r\n        return {\r\n            ...toRefs(state),\r\n            onConfirm,\r\n            getConditon,\r\n            afterRead,\r\n            handleConfirm,\r\n            columnsFields\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.page-wrap {\r\n    flex: 1;\r\n    padding-top: rem(30px);\r\n    overflow: auto;\r\n    .notice {\r\n        margin-top: rem(58px);\r\n        padding-left: rem(30px);\r\n        .title {\r\n            color: var(--mutedColor);\r\n            font-size: rem(28px);\r\n            line-height: rem(36px);\r\n        }\r\n        ul {\r\n            padding-left: rem(30px);\r\n            li {\r\n                margin-top: rem(20px);\r\n                list-style-type: disc;\r\n            }\r\n        }\r\n    }\r\n    .conditon-wrap {\r\n        padding-bottom: rem(50px);\r\n        .c-item {\r\n            text-align: center;\r\n            border-bottom: solid 1px var(--bdColor);\r\n            .upload-img {\r\n                width: rem(400px);\r\n                height: rem(260px);\r\n            }\r\n            .upload-text {\r\n                margin-top: rem(20px);\r\n            }\r\n            .van-uploader {\r\n                margin-top: rem(50px);\r\n                margin-bottom: rem(50px);\r\n            }\r\n            &:last-of-type {\r\n                //border-bottom: none;\r\n            }\r\n        }\r\n    }\r\n    .confirm-btn {\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        color: var(--color);\r\n        font-size: rem(34px);\r\n        background: var(--btnColor);\r\n    }\r\n    .confirm-btn {\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        color: var(--color);\r\n        font-size: rem(34px);\r\n        background: var(--btnColor);\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./authConditon.vue?vue&type=template&id=6c738bad&scoped=true\"\nimport script from \"./authConditon.vue?vue&type=script&lang=js\"\nexport * from \"./authConditon.vue?vue&type=script&lang=js\"\n\nimport \"./authConditon.vue?vue&type=style&index=0&id=6c738bad&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6c738bad\"\n\nexport default script","<template>\r\n    <Top\r\n        back\r\n        left-icon='arrow-left'\r\n        :menu='false'\r\n    />\r\n\r\n    <auth-condition business-code='open_account'>\r\n        <template #notice>\r\n            <p class='notice'>\r\n                {{ $t('register.tips2') }}\r\n            </p>\r\n        </template>\r\n    </auth-condition>\r\n</template>\r\n\r\n<script>\r\nimport Top from '@m/layout/top'\r\nimport { onBeforeRouteLeave, useRouter } from 'vue-router'\r\nimport authCondition from '@/themeCommon/components/authConditon'\r\nimport { useStore } from 'vuex'\r\nexport default {\r\n    components: {\r\n        authCondition,\r\n        Top\r\n    },\r\n    setup (props) {\r\n        const store = useStore()\r\n        const router = useRouter()\r\n        onBeforeRouteLeave((to, from) => {\r\n            if (to.fullPath === '/login') {\r\n                // 退出登录 断开ws\r\n                store.dispatch('_user/logout').then(() => {\r\n                    return router.push('/login')\r\n                }).then(() => {\r\n                    location.reload()\r\n                })\r\n            }\r\n        })\r\n        return {\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/sass/mixin.scss';\r\n.notice {\r\n    margin-bottom: rem(20px);\r\n    padding-left: rem(30px);\r\n}\r\n</style>\r\n","import { render } from \"./regKyc.vue?vue&type=template&id=4692c63c&scoped=true\"\nimport script from \"./regKyc.vue?vue&type=script&lang=js\"\nexport * from \"./regKyc.vue?vue&type=script&lang=js\"\n\nimport \"./regKyc.vue?vue&type=style&index=0&id=4692c63c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4692c63c\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/front_bank_card.e9bb6082.png\";","module.exports = __webpack_public_path__ + \"img/back_bank_card.da85d173.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./regKyc.vue?vue&type=style&index=0&id=4692c63c&lang=scss&scoped=true\""],"sourceRoot":""}